<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Deploying the Platform in a public AWS cloud environment :: Platform for deployment and maintenance of state electronic registers</title>
    <meta name="generator" content="Antora 3.1.1">
    <link rel="stylesheet" href="../../../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <img src="../../../../../_/static/images/ua.png" class="site-logo"/>
      <a class="navbar-item site-title" href="/diia-engine-documentation/en">Platform for deployment and maintenance of state electronic registers</a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
               fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
               stroke-linejoin="round">
              <circle cx="11" cy="11" r="8"></circle>
              <line x1="21" x2="16.65" y1="21" y2="16.65"></line>
          </svg>
          <input id="search-input" type="text" placeholder="Search documentation">
        </div>
      </div>
    </div>
  </nav>
</header>

<link rel="stylesheet" href="../../../../../_/vendor/swagger/4.15.5/swagger-ui.min.css">
<link rel="stylesheet" href="../../../../../_/vendor/swagger/4.15.5/swagger-custom.css">
<link rel="stylesheet" href="../../../../../_/vendor/medium-zoom/medium-zoom.css">
<link rel="stylesheet" href="../../../../../_/vendor/tabs/1.0.0-beta.3/tabs.css">
<link rel="stylesheet" href="../../../../../_/static/css/language-selector.css">
<link rel="stylesheet" href="../../../../../_/static/css/custom-site.css"><div class="body">
<div class="nav-container" data-component="platform" data-version="1.9.6">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../../../index.html">The Registries Platform</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../user/overview.html">User documentation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Officers and services providers</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../user/officer/officer-portal-overview.html">Officer portal overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../user/officer/reports/overview.html">Generating excerpts</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../user/officer/reports/reports-docx.html">Generating excerpts in DOCX format</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../user/officer/reports/reports-csv.html">Generating excerpts in CSV format</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../user/officer/overview.html">Sorting and pagination</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../user/officer/sorting-pagination/officer-portal-task-sorting-pagination.html">Paginating and sorting tasks in the Officer portal</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../user/officer/sorting-pagination/officer-portal-bp-sorting-pagination.html">Paginating and sorting services in the Officer portal</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../user/officer/sorting-pagination/officer-portal-bp-sorting-by-status.html">Sorting services by execution status in the Officer portal</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Citizens and service recipients</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../user/citizen/citizen-portal-overview.html">Citizen portal overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../user/citizen/citizen-get-excerpts.html">Generating excerpts in PDF format</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../user/citizen/user-notifications/user-notifications-overview.html">Sending messages to users</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../user/citizen/user-notifications/inbox-notifications.html">Sending inbox messages to users</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../user/citizen/user-notifications/email-otp.html">Confirming email address with OTP code in user profile</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Sorting and pagination</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../user/citizen/sorting-pagination/citizen-portal-bp-sorting-pagination.html">Paginating and sorting services in the Citizen portal</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../user/citizen-officer-portal-auth.html">Registry user authentication</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Contact support</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../user/error-email-support.html">Contacting support for critical errors</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/error-non-critical.html">Contacting support for non-critical errors</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Files</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../user/bp-files/upload-multiple-files-p7s-asic.html">Uploading files in .p7s and .asics format in User portals</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../user/user-notifications-success-task.html">Notifying about successful task completion in User portals</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../user/alerting-popups.html">Alerting pop-up windows for action confirmation in User portals</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../admin-overview.html">Platform administrators</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../overview.html">Installing and configuring</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../okd-requirements.html">Platform for state registries: requirements for OKD clusters</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="platform-deployment-overview.html">Deploying the Platform on target environments</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="4">
    <a class="nav-link" href="platform-aws-deployment.html">Deploying the Platform in a public AWS cloud environment</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="platform-azure-deployment.html">Deploying the Platform in a public Azure cloud environment</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="platform-gcp-deployment.html">Deploying the Platform in a public GCP cloud environment</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="platform-vsphere-deployment.html">Deploying the Platform in a private vSphere cloud environment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../internal-smtp-server-setup.html">Configuring internal SMTP server</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../changing-network-provider.html">Changing the network provider of the OKD 4.x cluster</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../registry-management/overview.html">Managing the Platform and registries in the Control Plane</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../registry-management/control-plane-assign-platform-admins.html">Creating Platform administrators</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../registry-management/control-plane-create-registry.html">Deploying a registry</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../registry-management/control-plane-edit-registry.html">Viewing and editing registry configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../registry-management/control-plane-remove-registry.html">Deleting a registry</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../registry-management/control-plane-registry-grant-access.html">Configuring registry access</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../registry-management/system-keys/system-keys-overview.html">Configuring digital signature keys and certificates</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../registry-management/system-keys/control-plane-platform-keys.html">Updating the Platform digital signature keys and certificates</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../registry-management/system-keys/control-plane-registry-keys.html">Updating registry digital signature keys and certificates</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../registry-management/control-plane-registry-resources.html">Managing registry resources</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../registry-management/custom-dns/custom-dns-overview.html">Configuring custom DNS</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../registry-management/custom-dns/cp-custom-dns-portals.html">Configuring custom DNS for user portals</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../registry-management/custom-dns/cp-custom-dns-keycloak.html">Configuring custom DNS for Keycloak</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../registry-management/control-plane-cidr-access-endpoints.html">CIDR: Restricting access to Platform and registry components</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../registry-management/control-plane-submit-mr.html">Approving registry configuration update requests</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../registry-management/control-plane-digital-documents.html">Managing restrictions on digital document uploads</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../registry-management/control-plane-quick-links.html">Quick links to registry services</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../migration/migration-overview.html">Migration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../migration/migration-strategy.html">Understanding our migration strategy</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../migration/migrate-registry.html">Migrating registries</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../update/overview.html">Updating</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../update/update_cluster-mgmt.html">Updating Platform infrastructure components</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../update/update-registry-components.html">Updating registry components</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../update/certificates-update.html">Updating OpenShift cluster certificates</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../backup-restore/overview.html">Backing up and restoring</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Central components</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../backup-restore/control-plane-components-backup-restore.html">Manual backing up and restoring central components</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../backup-restore/backup-schedule-cluster-mgmt.html">Setting up the central components backup schedule and retention time</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Registry components</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../backup-restore/control-plane-backup-restore.html">Manually backing up and restoring the registry</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../backup-restore/backup-schedule-registry-components.html">Setting up the registry backup schedule and retention time</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../backup-restore/postgres-backup-restore.html">Backing up and restoring registry databases</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../backup-restore/master_ip_repair.html">Restoring the cluster after changing the master nodes IP addresses</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../scaling/overview.html">Scaling</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../scaling/scaling-resources.html">Scaling registry resources</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../scaling/vertical-scaling-master-nodes.html">Scaling master nodes vertically for OKD on AWS and vSphere</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Technical maintenance of Event logging subsystem (EFK)</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../logging/elastic-search.html">Expanding space for Elasticsearch</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Managing the distributed file system</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../file-system/ceph-space.html">Extending Ceph storage</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../file-system/ceph_scaling.html">Scaling the Ceph file system</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">S3 Ceph Object Storage</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../file-system/s3/lifecycle-policy.html">S3 Ceph Object Storage policy</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Integrating with external systems</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/rest-connector.html#create-service-entry">Integrating with external services using REST connector: Creating a service entry and authorization secret</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Technical platform administrator crash course</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../admin-study/admin-profile.html">Technical platform administrator: duties and responsibilities</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../admin-study/platform-admin-tools.html">Platform administrator tools</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/overview.html">Registry development and maintenance teams</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/registry-admin/index.html">Registry administrators</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../registry-develop/registry-admin-study/registry-admin-profile.html">Who are the registry administrators</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../registry-develop/registry-admin/cp-deploy-consent-data.html">Deploying demo-registry with reference examples</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/overview.html">Administrative portal</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/version-control/version-control-overview.html">Managing registry regulations versions</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/version-control/master-version-settings.html">Reviewing and configuring the master version</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/version-control/create-new-change-request.html">Creating merge requests</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/version-control/overview-new-change-request.html">Reviewing metadata and managing the candidate version settings</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/admin-portal-user-mgmt.html">Managing users</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/overview.html">Registry modeling</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/registry-global-settings.html">Configuring global registry settings</a>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/process-models/process-models-overview.html">Managing business process models</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/process-models/create-process.html">Creating business processes</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/process-models/edit-process.html">Editing business processes</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/process-models/search-process.html">Searching for processes by name</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/process-models/copy-process.html">Copying business processes</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/process-models/upload-process.html">Uploading business processes</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/process-models/sorting-process.html">Sorting business processes</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/process-models/process-groups.html">Categorizing available services in user portals</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/process-models/delete-process.html">Deleting business processes</a>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/process-models/components/process-components-overview.html">Viewing and editing business process components</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/process-models/components/tab-code.html">Viewing and editing business process XML code representation</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/process-models/components/tab-bpmn-editor.html">Modeling business processes in BPMN editor</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/process-models/components/edit-groovy-scripts.html">Editing business process scripts in a visual code editor</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/ui-forms/ui-forms-overview.html">Managing UI forms</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/ui-forms/create-forms.html">Creating UI-forms</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/ui-forms/edit-forms.html">Editing UI forms</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/ui-forms/search-forms.html">Searching registry UI forms</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/ui-forms/copy-forms.html">Copying UI forms</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/ui-forms/download-forms.html">Downloading UI forms</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/ui-forms/sorting-paginating-forms.html">Sorting and paginating UI forms</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/ui-forms/delete-forms.html">Deleting UI forms</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/ui-forms/json-code-view-edit.html">Viewing and editing a UI form JSON representation</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/ui-forms/form-tabs.html">Form editing tabs</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/tables/tables-overview.html">Tables</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/tables/tables-data-structures.html">Registry data model tables and their structures</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/tables/xml-editor.html">Modeling the structure of registry database tables in an XML code editor</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/registry-modeling/report-templates.html">Managing registry report templates</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/registry-admin/admin-portal/error-non-critical.html">Contacting support for non-critical errors</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/registry-admin/regulations-deploy/registry-admin-introduction.html">Working with registry regulations in Gerrit</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/registry-admin/regulations-deploy/registry-regulations-structure.html">Registry regulations structure</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/registry-admin/regulations-deploy/registry-admin-deploy-regulation.html">Deploying regulations in Gerrit</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/registry-admin/regulations-deploy/registry-regulations-auto-validation.html">Automatic validation of registry regulations changes</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/registry-admin/regulations-deploy/cleanup-job.html">Registry regulations cleanup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/registry-admin/create-users/overview.html">Creating users in the system</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/registry-admin/create-users/manual-user-creation.html">Creating a user and granting access rights</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/registry-admin/create-users/import-users-officer.html">Importing users through a file and granting access rights</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/registry-admin/create-users/create-registry-admins.html">Creating registry administrators</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/registry-admin/cp-auth-setup/cp-auth-setup-overview.html">Configuring user authentication</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Officers</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/registry-admin/cp-auth-setup/cp-auth-setup-officers.html">Configuring authentication for officers</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/registry-admin/cp-auth-setup/cp-officer-self-registration.html">Configuring self-registration for officers</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Working with registry databases</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/registry-admin/db-connection/db-connection-pgadmin.html">Interacting with the registry database through pgAdmin</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../registry-develop/registry-admin/hierarchical-model.html">Hierarchical model</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../registry-develop/registry-admin/geoserver.html">Working with geodata in the registry</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/registry-admin/user-notifications/user-notifications-overview.html">User notifications</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/registry-admin/user-notifications/inbox/inbox-overview.html">Sending in-app notifications using a citizen portal inbox</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/registry-admin/user-notifications/inbox/inbox-bp-notification.html">Configuring in-app notifications</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/registry-admin/user-notifications/email/email-overview.html">Sending email notifications</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/registry-admin/user-notifications/email/email-channel-confirmation.html">Setting up a message template with an email confirmation code</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/registry-admin/user-notifications/email/e-mail-notification.html">Notifying users via email</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/registry-admin/user-notifications/email/config-smtp-server.html">Configuring the mail server</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../registry-develop/registry-admin/registry-admin-bp-management-cockpit.html">Administering business processes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/registry-admin/openshift-logging/openshift-logging-overview.html">Reviewing the Platform event logs (Kibana)</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/registry-admin/openshift-logging/kibana.html">Working with logs in Kibana UI</a>
  </li>
  <li class="nav-item" data-depth="4">
    <span class="nav-text"><a href="/platform/1.9.6/registry-develop/registry-admin/openshift-logging/kibana-request-dashboard.html" class="xref page">Visualizing a request state in Kibana during registry operation
</a></span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/registry-admin/grafana-monitoring/overview.html">Monitoring Platform systems (Grafana)</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/registry-admin/grafana-monitoring/grafana-camunda-metrics.html">Monitoring business process execution metrics</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/registry-admin/grafana-monitoring/public-api-kong-metrics.html">Monitoring metrics of public API</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../registry-develop/registry-admin/regulation-settings.html">Managing registry settings (settings.yaml)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../registry-develop/registry-admin/change-dev-prod-mode.html">Changing registry deployment mode</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../registry-develop/registry-admin/registry-admin-reports-pdf-docx-csv.html">Configuring registry excerpts: PDF, DOCX and CSV</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Integrating with external registries and systems</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/registry-admin/external-integration/ext-integration-overview.html">Managing external integrations</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/registry-admin/external-integration/rest-api-no-trembita.html">Interacting via REST between Platform registries and with external systems</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Your team consumes API</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/rest-connector.html#regulations-configuration">Integrating with external services using the REST connector: configuring the regulations</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/registry-admin/external-integration/cp-integrate-ext-system.html">Configuring integrations with external systems in Control Plane</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/registry-admin/external-integration/api-publish/index.html">Your team exposes API</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Private data</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/registry-admin/external-integration/api-publish/rest-soap-api-expose.html">Configuring the regulations to provide access to data via SOAP and REST APIs</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/registry-admin/external-integration/api-publish/get-jwt-token-postman.html">Calling the registry from an external system: getting a JWT token from Keycloak</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Public data</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/registry-admin/external-integration/api-publish/public-api/expose-public-api.html">Configuring access to registry’s public data</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/registry-admin/external-integration/cp-mock-integrations.html">Emulating external integrations</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../registry-develop/registry-admin/api-rate-limits.html">Managing API rate limits</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../registry-develop/registry-admin/remote_connection.html">Connecting to services remotely</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/data-modeling/index.html">Data modelers</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../registry-develop/data-modeling/data/logical-model/data-modelling-logical-datamodel.html">Creating a logical data model</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/data-modeling/data/physical-model/overview.html">Creating a physical data model</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/data-modeling/data/physical-model/liquibase-introduction.html">Liquibase: physical data model creation and management tool</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/data-modeling/data/physical-model/liquibase-standard-change-types.html">Standard Liquibase tags for data modeling</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/data-modeling/data/physical-model/liquibase-ddm-ext.html">Liquibase extensions for data modeling</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/data-modeling/data/physical-model/liquibase-changes-management-sys-ext.html">Scenarios for building the registry physical data model</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/data-modeling/data/physical-model/rest-api-view-access-to-registry.html">Setting access attributes for registry API views</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/data-modeling/data/physical-model/auto-generate-number.html">Generating a unique number for registry entities</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/data-modeling/data/physical-model/join-and-or-usage.html">Scenarios of combining tables using JOIN with additional AND OR conditions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/data-modeling/initial-load/index.html">Initial data loading</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/data-modeling/initial-load/data-initial-data-load-prep.html">Preparing data for migration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/data-modeling/initial-load/data-initial-data-load-pl-pgsql.html">Initial loading of registry data</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/data-modeling/reports/reports-overview.html">Analytical reporting</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/data-modeling/reports/restrict-select-data-based-on-token-context.html">Restricting data samples based on token information</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/bp-modeling/index.html">Business process modelers</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/index.html">Modeling business processes and decision tables</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/what-is-bp.html">What are business processes: analysis, structure and operation types</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/element-templates-overview.html">Business process extensions (Element templates)</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/element-templates-install.html">Installing extensions to business processes (for local development)</a>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/user-task-templates/user-task-overview.html">User task extensions</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/user-task-templates/user-form.html">User form</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/user-task-templates/officer-sign-task.html">Officer sign task</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/user-task-templates/citizen-sign-task.html">Citizen sign task</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/service-task-templates/service-task-overview.html">Service task extensions</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Managing users and roles</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/service-task-templates/add-role-to-keycloak-user.html">Add role to Keycloak user</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/service-task-templates/save-user-roles.html">Save user roles in Keycloak</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/service-task-templates/get-roles-from-keycloak.html">Get roles from Keycloak</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/service-task-templates/keycloak-get-officer-users-by-attributes-equals-start-with.html">Searching users by equal and Inverse startsWith functions</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/service-task-templates/remove-role-from-keycloak-user.html">Remove role from Keycloak user</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Managing user settings</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/service-task-templates/read-user-settings.html">Read user settings</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Creating entities</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/service-task-templates/create-entity.html">Create entity in data factory</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/service-task-templates/create-nested-entities.html">Create nested entities in data factory</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/service-task-templates/batch-creation-entities.html">Batch creation of entities in data factory</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/service-task-templates/batch-creation-entities-v2.html">Batch creation of entities in data factory v2</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Reading and searching entities</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/service-task-templates/read-entity.html">Read entity from data factory</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/service-task-templates/batch-read-entities-from-data-factory.html">Batch Read entities from data factory</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/service-task-templates/search-entities-in-data-factory.html">Search for entities in data factory</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Updating entities</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/service-task-templates/update-entity-in-data-factory.html">Update entity in data factory</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/service-task-templates/update-entity-in-data-factory-partially.html">Update entity in data factory partially</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Deleting entities</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/service-task-templates/delete-entity.html">Delete entity from data factory</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Modeling digital signatures</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/service-task-templates/digital-signature-by-dso-service.html">Digital signature by DSO service</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Integrating with external systems</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/service-task-templates/connect-to-external-system-v2.html">Connect to external system v2</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Modeling business process errors</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/service-task-templates/throw-system-error.html">Throw system error</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/service-task-templates/throw-validation-error.html">Throw validation error</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Modeling statuses</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/service-task-templates/define-bp-status.html">Define business process status</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/call-activities/call-activities-overview.html">Call Activity extensions</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/call-activities/call-activity.html">Call Activity delegate</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/call-activities/check-excerpt-status.html">Check excerpt status delegate</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/rest-integration-registries/rest-integration-registries-overview.html">Integrating extensions</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/rest-integration-registries/start-bp-another-registry.html">Start business process in another registry</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/element-templates/rest-integration-registries/search-for-entities-another-registry.html">Search for entities in another registry data factory</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/bpmn/index.html">Modeling elements</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/bpmn/tasks/overview.html">Tasks</a>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/bpmn/gateways/overview.html">Gateways</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/bpmn/gateways/event-based-gateway.html">Exclusive event-based gateway</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/bpmn/events/events-overview.html">Events</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/bpmn/events/bp-link-events.html">Link event</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/bpmn/events/message-event.html">Message event</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/bpmn/events/timer-event.html">Timer event</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/bpmn/events/error-event.html">Error event</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/bpmn/subprocesses/subprocess-overview.html">Subprocesses</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/bpmn/subprocesses/embedded-subprocess.html">Embedded subprocess</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/bpmn/subprocesses/call-activities.html">Call Activity</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/bpmn/subprocesses/event-subprocess.html">Event subprocess</a>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/bpmn/subprocesses/transaction-subprocess/transaction.html">Transaction subprocess</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/bpmn/subprocesses/transaction-subprocess/error-event-transaction.html">Error event in a transaction subprocess</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/bpmn/subprocesses/transaction-subprocess/cancel-event.html">Cancel event</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/modeling-facilitation/overview.html">Modeling facilitation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/modeling-facilitation/modelling-with-juel-functions.html">JUEL functions in business processes</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/modeling-facilitation/bp-business-keys.html">Configuring business keys in business processes</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/modeling-facilitation/partial-update.html">Partial entity update in data factory</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/bp-alternative-branches.html">Supporting alternative branches in business processes</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Granting access to business processes and user tasks</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/access/roles-rbac-bp-modelling.html">Business process modeling and access control (RBAC)</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/access/bp-limiting-access-keycloak-attributes.html">Granting organization access to business process tasks at the level of user attributes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Modeling excerpts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/excerpts/bp-modeling-excerpt-csv-docx.html">Modeling business processes for generating excerpts in csv and docx format</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/registry-admin/user-notifications/email/e-mail-notification.html">Notifying users via email</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/loading-data-from-csv.html">Uploading data from a CSV file as an array into a database</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/save-digital-doc-remote-url.html">Downloading digital documents at an external link</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/global-vars.html">Setting global registry variables</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/bp-modeling-forms-general-description.html">Modeling UI forms for business processes</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/registry-admin-modelling-forms.html">Form modeling process</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/index.html">UI form modeling components</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">General recommendations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/general/eval.html">Variables in JavaScript insertions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/text-field.html">Text Field</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/content.html">Content</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/columns.html">Columns</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/fieldset.html">Field Set</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/email.html">Email</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/text-area.html">Text Area</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/table.html">Table</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/number.html">Number</a>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/edit-grid/edit-grid.html">Edit Grid</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/edit-grid/edit-grid-save-data-list.html">Saving form data to the database as an array</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/edit-grid/edit-grid-columns-sorting.html">Setting the sort type for columns in the Edit Grid component</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/date-time.html">Date/Time</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/checkbox.html">Checkbox</a>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/select/select-overview.html">Select</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/select/bp-select-component-form-io.html">Configuring the Select component to get and filter data from API resources</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/select/select-refresh-options.html">Using the "Refresh Options On" function in the updated Select component</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/radio.html">Radio</a>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/file/file.html">File</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/file/component-file-multiple-values.html">Loading multiple files in one field using the File component</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/data-import.html">Data Import</a>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Button</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/button/button.html">Button</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/button/button-popup.html">Modeling confirmation dialogues in the Button component</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Map</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/forms/components/map/map.html">Map component</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Integrating with external registries and systems</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Calling external registries and systems</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">SOAP integration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/external-integration/api-call/connectors-external-registry.html">SOAP-based integration connectors with other registries</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Other systems</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../registry-develop/bp-modeling/bp/rest-connector.html#bp-modeling">Modeling business processes using the "Connect to external system" delegate</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Learning</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/study-project/index.html">Registry regulations development training course</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/study-project/study-tasks/overview.html">Study tasks</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/study-project/study-tasks/task-1-registry-db-modeling.html">Task 1. Modeling registry database structures</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/study-project/study-tasks/task-2-bp-modeling-without-integration.html">Task 2. Modeling a business process without integration</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/study-project/study-tasks/task-3-bp-modeling-with-integration.html">Task 3. Modeling a business process with integration</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/study-project/study-tasks/task-4-bp-modeling-with-start-form-and-depending-components.html">Task 4. Modeling a business process with a start form and dependent form components</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/study-project/study-tasks/task-5-bp-modeling-multiple-participants.html">Task 5. Modeling a business process with multiple participants</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/study-project/study-tasks/task-6-registry-reports-modeling.html">Task 6. Developing analytical reports</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/study-project/control-tasks/overview.html">Tests</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/study-project/control-tasks/control-task-1.html">Test 1</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/study-project/control-tasks/control-task-2.html">Test 2</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/study-project/control-tasks/control-task-3.html">Test 3</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Study materials for registry administrators</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/registry-admin-study/registry-admin-profile.html">Registry administrator: duties and responsibilities</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/registry-admin-study/registry-admin-study.html">Registry administrators onboarding</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../registry-develop/best-practices/best-practices-overview.html">Best practices</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Business process reference examples</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/best-practices/bp-timer-launch.html">Launching a business process by schedule</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Self-registration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../registry-develop/best-practices/bp-officer-self-register-manual.html">Self-registering officers with manual moderation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/best-practices/edit-grid-rows-action.html">Selecting and acting on one or multiple rows in a table</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../registry-develop/best-practices/bp-upload-edit-file.html">Uploading and editing a file</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../registry-develop/it-system-classes.html">Classes of IT systems that can be built on the Registries Platform</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Platform development team</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../platform-develop/coding-standards.html">Software development and quality control practices</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Technical documentation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/overview.html">Architectural documentation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../arch/architecture/platform-conceptual.html">Platform conceptual architecture</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../arch/architecture/platform-logical.html">Platform logical architecture</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../arch/architecture/platform-deployment.html">Platform deployment architecture</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/platform-system-requirements/overview.html">System requirements</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-system-requirements/platform-requirements.html">System requirements for the Platform instance</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-system-requirements/registry-requirements.html">System requirements for the Registry instance</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/security/overview.html">Security architecture</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/security/standards-and-compliance.html">Standards and compliance</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/security/data-classification.html">Data classification</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/security/data-encryption-at-rest.html">Encryption at rest</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/security/data-encryption-in-transit.html">Encryption in transit</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/security/data-retention.html">Data retention</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/security/secret-management.html">Secrets management</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/security/access-control.html">Access control</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/security/data-integrity.html">Data integrity</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../arch/architecture/platform-technologies.html">Platform technology stack</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/platform-quality-attributes/overview.html">Platform quality attributes</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-quality-attributes/platform-portability.html">Portability</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-quality-attributes/platform-scalability.html">Scalability</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-quality-attributes/platform-availability.html">Availability</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-quality-attributes/platform-performance.html">Performance</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-quality-attributes/platform-security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-quality-attributes/platform-observability.html">Observability</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-quality-attributes/platform-auditability.html">Auditability</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-quality-attributes/platform-interoperability.html">Interoperability</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-quality-attributes/platform-operability.html">Operability</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-quality-attributes/platform-modifiability.html">Modifiability</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-quality-attributes/platform-verifiability.html">Verifiability</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/container-platform/container-platform.html">Container orchestration platform</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Key subsystem aspects</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../arch/architecture/container-platform/cluster_node_autoscaler.html">Automatic horizontal scaling of cluster node instances</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Platform subsystems</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/platform/administrative/overview.html">Platform administrative zone</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/platform/administrative/control-plane/overview.html">Platform and registries management subsystem</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/platform/administrative/control-plane/configuration-structure/registry-configuration-structure.html">Registry configuration structure</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/platform/administrative/control-plane/configuration-structure/platform-configuration-structure.html">Platform configuration structure</a>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Subsystem evolution</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/platform/administrative/control-plane/platform-evolution/backup-schedule.html">Managing registry backup schedule and retention</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/platform/administrative/control-plane/platform-evolution/update-certs-without-keys.html">Separating digital certificate and key updating processes</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/platform/administrative/control-plane/platform-evolution/keycloak-custom-url.html">Configuring custom URL for Keycloak</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/platform/administrative/control-plane/platform-evolution/handling-cp-console-versions.html">Editing registry settings by version</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/platform/administrative/control-plane/platform-evolution/registry-regulation-secrets.html">Managing settings and secrets for external integrations</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/platform/administrative/control-plane/platform-evolution/demo-registry/demo-registry.html">Deploying a demo registry with reference modeling examples</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/platform/administrative/config-management/overview.html">Subsystem for deploying and configuring the Platform and registries</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Subsystem evolution</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/platform/administrative/config-management/custom-dns.html">Configuring custom DNS name for registry portals in OpenShift 4.x</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/platform/administrative/config-management/secure-endpoints.html">Secure resource publishing in OpenShift 4.x cluster</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/platform/administrative/config-management/gitops-administrators.html">Setting up Platform and registry administrators</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/platform/administrative/config-management/dev-prod-deployment-mode.html">Platform deployment in production without registry development tools</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/platform/administrative/config-management/registry-platform-keys.html">Updating platform and registry keys and digital signature service configuration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/platform/operational/overview.html">Platform operational zone</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../arch/architecture/platform/operational/external-traffic-management/overview.html">External traffic management subsystem</a>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/platform/operational/user-management/overview.html">Users and roles management subsystem</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/platform/operational/user-management/platform-actors-roles.html">Platform actors and roles</a>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Subsystem evolution</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Authorizing users</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="8">
    <a class="nav-link" href="../../../arch/architecture/platform/operational/user-management/registry-roles.html">Registry roles</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/platform/operational/service-mesh/overview.html">Cross-service communication management subsystem</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/platform/operational/service-mesh/service-mesh-components.html">Service Mesh: Platform and registry components</a>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Key subsystem aspects</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/platform/operational/service-mesh/istio-jwt-token-validation.html">Validating JWT with Istio Envoy</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../arch/architecture/platform/operational/secret-management/overview.html">Secret and encryption management subsystem</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../arch/architecture/platform/operational/logging/overview.html">Event logging subsystem</a>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/platform/operational/monitoring/overview.html">Event monitoring and notification subsystem</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Subsystem evolution</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/platform/operational/monitoring/camunda-metrics.html">Monitoring the general metrics of business process execution</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../arch/architecture/platform/operational/distributed-tracing/overview.html">Request tracing subsystem</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../arch/architecture/platform/operational/distributed-data-storage/overview.html">Distributed data storage subsystem</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../arch/architecture/platform/operational/mail-delivery/overview.html">Email messaging subsystem</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../arch/architecture/platform/operational/backup-recovery/overview.html">Backup and restore subsystem</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Registry subsystems</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/overview.html">Administrative zone</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/ext-api-management/overview.html">External traffic management subsystem</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/ext-api-management/redis-storage.html">Non-relational data storage</a>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Subsystem evolution</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/ext-api-management/registry-admin-routes.yaml.html">Kong API gateway: route structure for external administrative endpoints</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/regulation-management/overview.html">Registry regulations modeling subsystem</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/regulation-management/registry-regulation/registry-regulation.html">Digital registry regulations</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/regulation-management/ceph-storage.html">Object data storage</a>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Subsystem evolution</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/regulation-management/platform-evolution/form-scripts/form-scripts.html">Externalizing UI form scripts</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/regulation-management/platform-evolution/master-development/master-development.html">Regulations development in a master version for forms and processes: simplified modeling and overwrite protection</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/regulation-management/platform-evolution/template-validation/template-validation.html">Validating empty business process mandatory fields on the template level</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/regulation-management/platform-evolution/sc-where-logic-operators.html">Managing logical operators in search conditions</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/regulation-management/platform-evolution/sign-validation/sign-validation.html">Verifying QES signature and signer in API-received business process content</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Subsystem architecture</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Managing versions of registry regulations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="8">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/regulation-management/admin-portal/regulation-repository/gitflow/gitflow-description.html">Managing git repositories for multiple versions of registry regulations</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="7">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Managing registry officers</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="8">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/regulation-management/user-import.html">Importing users into Keycloak</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="7">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Managing registry data model</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="8">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/regulation-management/admin-portal/data-model/admin-portal-data-model-management.html">Managing registry data model table structures</a>
  </li>
  <li class="nav-item" data-depth="8">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/regulation-management/admin-portal/data-model/data-model-version-candidate/data-model-version-candidate.html">Viewing the list of registry data model tables in the read mode for candidate versions</a>
  </li>
  <li class="nav-item" data-depth="8">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/regulation-management/admin-portal/data-model/data-model-version-candidate/edit-data-model-tables.html">Editing registry data model table structure in the web code editor</a>
  </li>
  <li class="nav-item" data-depth="8">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/regulation-management/admin-portal/data-model/admin-portal-data-model-xml-changelog-serialization.html">Converting database structure models to Liquibase ChangeSets</a>
  </li>
  <li class="nav-item" data-depth="8">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/regulation-management/admin-portal/data-model/admin-portal-data-model-json-schema-description.html">Data model JSON snapshot</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="7">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Managing registry business processes</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="8">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/regulation-management/admin-portal/business-processes/bpmn-modeler.html">Modeling business processes using the web editor</a>
  </li>
  <li class="nav-item" data-depth="8">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/regulation-management/bp-groups.html">Categorizing available services in the user portal</a>
  </li>
  <li class="nav-item" data-depth="8">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/regulation-management/bp-script-groovy-editor.html">Editing business process groovy scripts in admin-portal</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="7">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Managing registry UI form schemes</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="8">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/regulation-management/admin-portal/forms/form-modeler.html">Modeling UI forms using the web editor</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/regulation-publication/overview.html">Registry regulations deployment subsystem</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Subsystem evolution</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/regulation-publication/data-api-versioning-decommission.html">Decommissioning of saving previous versions of data factory API services</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/regulation-publication/cd-process.html">CD processes</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/operational-maintenance/overview.html">Registry&#8217;s operational zone service subsystem</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Subsystem services</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/operational-maintenance/services/business-process-administration-portal/summary.html">Business process administration service</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="8">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/operational-maintenance/services/business-process-administration-portal/building-blocks.html">Component structure</a>
  </li>
  <li class="nav-item" data-depth="8">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/operational-maintenance/services/business-process-administration-portal/development.html">Service functional capabilities</a>
  </li>
  <li class="nav-item" data-depth="8">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/operational-maintenance/services/business-process-administration-portal/deployment-diagram.html">Deployment diagram</a>
  </li>
  <li class="nav-item" data-depth="8">
    <a class="nav-link" href="../../../arch/architecture/registry/administrative/operational-maintenance/services/business-process-administration-portal/technologies.html">Technology stack</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/registry/operational/overview.html">Operational zone</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/portals/overview.html">User portals subsystem</a>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/registry/operational/ext-api-management/overview.html">External traffic management subsystem: Registry operational zone</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/ext-api-management/redis-storage.html">Non-relational data storage</a>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Subsystem evolution</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/ext-api-management/routes.html">External Kong API Gateway routes structure</a>
  </li>
  <li class="nav-item" data-depth="7">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">External operational API gateway</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="8">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/ext-api-management/api-gateway/kong-oidc.html">The OIDC extension for the Kong API Gateway</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/registry/operational/bpms/overview.html">Business processes management subsystem</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/bpms/ceph-storage.html">Object data storage</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/bpms/redis-storage.html">Non-relational data storage</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/bpms/camunda-db.html">Business processes operational database</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/bpms/process_history-db.html">Business processes historical data operational database</a>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Subsystem evolution</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/bpms/digital-documents.html">Working with digital documents in the user portal</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/bpms/bpm-history.html">Business processes execution history</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/bpms/bpm-form-schema.html">Saving UI form schemes and validating user data</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/bpms/bpm-interim-data-storage.html">Interim data of business processes</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/bpms/bpm-save-interim-form-submission.html">Interim storage of data entered through business process UI forms</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/bpms/bpm-save-ext-documents.html">Downloading digital documents from external sources: scripting capabilities</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/registry/operational/registry-management/overview.html">Registry data management subsystem</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/registry-management/ceph-storage.html">Object data storage</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/registry-management/registry-db.html">Registry operational database</a>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Subsystem evolution</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/registry-management/file-upload.html">Uploading files</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/registry-management/sc-pagination-count.html">Returning total record count with paginating search criteria</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/registry-management/modify-bulk-load.html">Modifying API behavior settings at the table creation level</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/registry-management/platform-evolution/public-api/public-api.html">Public API and rate limits for reading registry data</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/registry-management/platform-evolution/async-load/async-load.html">Asynchronous data loading</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/registry-management/platform-evolution/sc-post-migration/sc-post-migration.html">Adding POST methods generation for data retrieval</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/registry/operational/reporting/overview.html">Registry analytical reporting subsystem</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Subsystem evolution</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/reporting/kong-redash.html">Placing the Redash analytical reporting service downstream of Kong</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/external-integrations/overview.html">External integrations subsystem</a>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/registry/operational/ext-systems-simulation/overview.html">External API simulation subsystem</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Subsystem evolution</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/ext-systems-simulation/custom-mocking-wiremock.html">Declarative configuration of system emulators: simplified testing of external registry integrations</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/registry/operational/excerpts/overview.html">Registry excerpt generation subsystem</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/excerpts/ceph-storage.html">Object data storage</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/excerpts/excerpt-db.html">Excerpts operational database</a>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Subsystem evolution</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/excerpts/excerpt-generation.html">Generating excerpts in user portals</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/excerpts/excerpt.html">Generating excerpts</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/excerpts/history-excerpt.html">Data history excerpt</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/registry/operational/notifications/overview.html">User notification subsystem</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/notifications/notifications-db.html">Notifications operational database</a>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Subsystem evolution</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/registry/operational/notifications/notifications-overview.html">Sending messages to users</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="8">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/registry/operational/notifications/notifications-design.html">Technical solution design</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="9">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/notifications/notification-service-design.html">User notification service</a>
  </li>
  <li class="nav-item" data-depth="9">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/notifications/notifications-integration.html">Integrating with notification service</a>
  </li>
  <li class="nav-item" data-depth="9">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/notifications/notifications-api.html">API notification management</a>
  </li>
  <li class="nav-item" data-depth="9">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/notifications/notifications-database-schema.html">Physical model for data storage</a>
  </li>
  <li class="nav-item" data-depth="9">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/notifications/notifications-audit.html">Auditing and event logging</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="8">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/notifications/notifications-modelling.html">Registry regulations modeling</a>
  </li>
  <li class="nav-item" data-depth="8">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/notifications/notifications-migration.html">Migrating data during the registry update</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/registry/operational/geo/overview.html">Geodata management subsystem</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Subsystem evolution</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/geo/gis.html">GIS module</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/geo/geoserver-rls.html">Applying RLS rules to GIS module</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/registry/operational/audit/overview.html">Registry audit events logging subsystem</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/audit/audit-db.html">Audit events operational database</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/registry/operational/user-settings/overview.html">User settings management subsystem</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/user-settings/redis-storage.html">Non-relational data storage</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/user-settings/settings-db.html">User settings operational database</a>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Subsystem evolution</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/user-settings/user-settings.html">User settings management</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/registry/operational/digital-signatures/overview.html">Digital signatures subsystem</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Subsystem services</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">QES operations service</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="8">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/digital-signatures/services/dso/esignature.html">Working with digital signatures</a>
  </li>
  <li class="nav-item" data-depth="8">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/digital-signatures/services/dso/eseal.html">Working with electronic seal</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/secret-management/overview.html">Secrets and encryption management subsystem</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/messaging/overview.html">Asynchronous messaging subsystem</a>
  </li>
  <li class="nav-item" data-depth="5">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/registry/operational/relational-data-storage/overview.html">Relational database management subsystem</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/relational-data-storage/rdbms-analytical-workload.html">Processing analytical requests</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/relational-data-storage/rdbms-gis.html">Geographic objects and geolocation queries</a>
  </li>
  <li class="nav-item" data-depth="6">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/registry/operational/relational-data-storage/rdbms-user-schema-management.html">Managing database users and schemas</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/relational-data-storage/db-roles.html">Registry database users and privileges</a>
  </li>
  <li class="nav-item" data-depth="7">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/relational-data-storage/databases.html">Databases</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/relational-data-storage/rdbms-horizontal-scaling.html">Horizontal scaling</a>
  </li>
  <li class="nav-item" data-depth="6">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/relational-data-storage/rdbms-backup-recovery.html">Backup and recovery</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../arch/architecture/registry/operational/nonrelational-data-storage/overview.html">Non-relational database management subsystem</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/platform-installer/overview.html">Component for managing the state of Platform resources</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Key component aspects</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../arch/architecture/platform-installer/installer-structure.html">Installer component structure</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../arch/architecture/platform-backup-storage/overview.html">Platform backup storage</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../arch/architecture/platform-secret-management/overview.html">Central service for managing Platform secrets</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/platform-libraries.html">Platform libraries</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/libraries/liquibase-ddm-ext/overview.html">liquibase-ddm-ext</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../arch/architecture/libraries/liquibase-ddm-ext/create-table-api.html">ext:createTable</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../../arch/architecture/libraries/liquibase-ddm-ext/alter-table-api.html">ext:alterTableApi</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../arch/architecture/platform-api/overview.html">Platform API documentation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-api/services/keycloak-rest-api-ext.html">Keycloak extensions for additional REST API</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-api/services/bpms.html">Business processes management service</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-api/services/platform-gateway.html">Cross-registry interaction API gateway</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-api/services/digital-signature-ops.html">Digital signatures service</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-api/services/bp-webservice-gateway.html">Business process invocation service for external systems</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-api/services/user-task-management.html">User task management service</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-api/services/user-process-management.html">User process management service</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-api/services/user-settings-service-api.html">User settings management service</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-api/services/form-schema-provider.html">UI form schemes providing service</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-api/services/form-submission-validation.html">UI form data validation service</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-api/services/digital-document-service.html">Digital documents service</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-api/services/process-history-service-api.html">Business processes history service</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-api/services/ddm-notification-service.html">User notifications service</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-api/services/excerpt-service-api.html">Excerpts management service</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../../arch/architecture/platform-api/services/registry-regulation-management.html">Registry regulations management service</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../testing/testing-overview.html">Quality attributes testing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../testing/functional-testing/functional-testing.html">Functional testing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../testing/performance-testing/performance-testing.html">Performance testing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../testing/security-testing/security-testing.html">Security testing</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../platform-glossary.html">Glossary</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">The Registries Platform</span>
    <span class="version">1.9.6</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="../../../index.html">The Registries Platform</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../index.html">1.9.6</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
    <div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../../index.html">The Registries Platform</a></li>
    <li><a href="../../admin-overview.html">Platform administrators</a></li>
    <li><a href="../overview.html">Installing and configuring</a></li>
    <li><a href="platform-deployment-overview.html">Deploying the Platform on target environments</a></li>
    <li><a href="platform-aws-deployment.html">Deploying the Platform in a public AWS cloud environment</a></li>
  </ul>
</nav>
<div class="page-languages">
    <button class="language-menu-toggle" title="Show other languages of page">English</button>
    <div class="language-menu">
        <a class="language " href="../../../../../../ua/platform/1.9.6/admin/installation/platform-deployment/platform-aws-deployment.html">Українська</a>
        <a class="language is-current" href="../../../../../../en/platform/1.9.6/admin/installation/platform-deployment/platform-aws-deployment.html">English</a>
    </div>
</div></div>
    <div class="content">
            <aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
            <article class="doc">
<h1 class="page">Deploying the Platform in a public <em>AWS</em> cloud environment</h1>
<div id="toc" class="toc">
<div id="toctitle">On this page:</div>
<ul class="sectlevel1">
<li><a href="#_prerequisites">1. Prerequisites</a>
<ul class="sectlevel2">
<li><a href="#_elements_required_at_the_pre_deployment_stage">1.1. Elements required at the pre-deployment stage</a></li>
<li><a href="#_creating_an_aws_account">1.2. Creating an AWS account</a></li>
<li><a href="#_setting_up_an_aws_account">1.3. Setting up an AWS account</a>
<ul class="sectlevel3">
<li><a href="#setup-route-53">1.3.1. Configuring Route 53</a></li>
<li><a href="#setup-external-domain">1.3.2. Configuring an external domain</a></li>
<li><a href="#_aws_account_limits">1.3.3. AWS account limits</a></li>
<li><a href="#_creating_an_iam_user">1.3.4. Creating an IAM user</a></li>
<li><a href="#_required_aws_permissions_for_the_iam_user">1.3.5. Required AWS permissions for the IAM user</a></li>
</ul>
</li>
<li><a href="#create-additional-accounts">1.4. Creating additional accounts</a>
<ul class="sectlevel3">
<li><a href="#_creating_a_docker_hub_account">1.4.1. Creating a Docker Hub account</a></li>
<li><a href="#_creating_a_red_hat_account">1.4.2. Creating a Red Hat account</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#deploy-additional-resources-for-okd">2. Deploying additional resources to install an OKD cluster on AWS</a>
<ul class="sectlevel2">
<li><a href="#_description_of_additional_resources">2.1. Description of additional resources</a>
<ul class="sectlevel3">
<li><a href="#_recommended_bastion_settings">2.1.1. Recommended Bastion settings</a></li>
<li><a href="#_recommended_secondary_virtual_machine_settings">2.1.2. Recommended secondary virtual machine settings</a></li>
</ul>
</li>
<li><a href="#_additional_settings">2.2. Additional settings</a>
<ul class="sectlevel3">
<li><a href="#_installing_necessary_tools">2.2.1. Installing necessary tools</a></li>
<li><a href="#_setting_up_aws_cli">2.2.2. Setting up AWS CLI</a></li>
<li><a href="#_setting_up_aws_cross_account_access">2.2.3. Setting up AWS cross-account access</a></li>
<li><a href="#_downloading_terraform_code">2.2.4. Downloading Terraform code</a></li>
</ul>
</li>
<li><a href="#_description_of_the_terraform_code">2.3. Description of the Terraform code</a>
<ul class="sectlevel3">
<li><a href="#_initial_terraform_code">2.3.1. Initial Terraform code</a></li>
<li><a href="#_main_terraform_code">2.3.2. Main Terraform code</a></li>
</ul>
</li>
<li><a href="#_running_terraform_code">2.4. Running Terraform code</a>
<ul class="sectlevel3">
<li><a href="#_running_the_initial_terraform_code">2.4.1. Running the Initial Terraform code</a></li>
<li><a href="#_running_the_main_terraform_code">2.4.2. Running the Main Terraform code</a></li>
</ul>
</li>
<li><a href="#_connecting_to_the_additional_virtual_machine">2.5. Connecting to the additional virtual machine</a></li>
<li><a href="#launch-openshift-install">2.6. Starting the openshift-install container</a></li>
</ul>
</li>
<li><a href="#okd-aws-install-preparation">3. Preparing to install the OKD cluster on AWS</a></li>
<li><a href="#_running_the_okd4_installer_and_deploying_an_empty_okd4_cluster">4. Running the OKD4 installer and deploying an empty OKD4 cluster</a></li>
<li><a href="#_replacing_self_signed_certificates_with_trusted_certificates">5. Replacing self-signed certificates with trusted certificates</a></li>
<li><a href="#installer-preparation-launch">6. Preparing and launching the Installer to deploy and update the Platform on the OKD cluster</a>
<ul class="sectlevel2">
<li><a href="#_deploying_from_scratch">6.1. Deploying from scratch</a>
<ul class="sectlevel3">
<li><a href="#_prerequisites_2">6.1.1. Prerequisites</a></li>
<li><a href="#_configuring_minio">6.1.2. Configuring MinIO</a></li>
<li><a href="#_configuring_vault">6.1.3. Configuring Vault</a></li>
<li><a href="#deploy-platform-installer-scratch">6.1.4. Deploying the Platform from the Installer</a></li>
<li><a href="#_deployment_status">6.1.5. Deployment status</a></li>
<li><a href="#_post_deployment_required_steps">6.1.6. Post-deployment required steps</a></li>
</ul>
</li>
<li><a href="#_updating">6.2. Updating</a>
<ul class="sectlevel3">
<li><a href="#_prerequisites_3">6.2.1. Prerequisites</a></li>
<li><a href="#_configuring_minio_2">6.2.2. Configuring MinIO</a></li>
<li><a href="#platform-update-vault">6.2.3. Configuring Vault</a></li>
<li><a href="#update-platform-installer">6.2.4. Updating the Platform from the Installer</a></li>
<li><a href="#update-status">6.2.5. Update status</a></li>
<li><a href="#_required_steps_after_update">6.2.6. Required steps after update</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_common_errors_during_the_platform_deployment">7. Common errors during the Platform deployment</a>
<ul class="sectlevel2">
<li><a href="#_bootstrap_machine_error_when_deploying_the_okd_cluster">7.1. Bootstrap machine error when deploying the OKD cluster</a>
<ul class="sectlevel3">
<li><a href="#_problem_description">Problem description</a></li>
<li><a href="#_solution">Solution</a></li>
</ul>
</li>
<li><a href="#_vault_token_error_when_deploying_the_platform">7.2. Vault token error when deploying the Platform</a>
<ul class="sectlevel3">
<li><a href="#_problem_description_2">Problem description</a></li>
<li><a href="#_solution_2">Solution</a></li>
</ul>
</li>
<li><a href="#_minio_ssl_certificate_error_when_deploying_the_platform">7.3. MinIO SSL certificate error when deploying the Platform</a>
<ul class="sectlevel3">
<li><a href="#_problem_description_3">Problem description</a></li>
<li><a href="#_solution_3">Solution</a></li>
</ul>
</li>
<li><a href="#_error_sending_images_to_nexus_when_deploying_the_platform">7.4. Error sending images to Nexus when deploying the Platform</a>
<ul class="sectlevel3">
<li><a href="#_problem_description_4">Problem description</a></li>
<li><a href="#_solution_4">Solution</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
🌐 This document is available in both English and Ukrainian. Use the language toggle in the top right corner to switch between versions.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This guide provides detailed instructions on deploying the Platform in an Amazon Web Services (AWS) environment from scratch, from creating an AWS account to installing and configuring the Platform.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_prerequisites"><a class="anchor" href="#_prerequisites"></a><a class="link" href="#_prerequisites">1. Prerequisites</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before installing and configuring the Platform, you must perform the following steps.</p>
</div>
<div class="sect2">
<h3 id="_elements_required_at_the_pre_deployment_stage"><a class="anchor" href="#_elements_required_at_the_pre_deployment_stage"></a><a class="link" href="#_elements_required_at_the_pre_deployment_stage">1.1. Elements required at the pre-deployment stage</a></h3>
<div class="paragraph">
<p>Before you begin, make sure you have the resources that are required for further steps:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Documentation: </dt>
<dd>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> <a href="../../update/overview.html" class="xref page">Updating</a> document with additional steps for the selected Platform release version. It is required only for the Platform update procedure.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Digital signature certificates (digital-signature-ops certificates): </dt>
<dd>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> <strong><em>Key-6.dat</em></strong>&#8201;&#8212;&#8201;your organization&#8217;s private key;</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <strong><em>allowed-key.yaml</em></strong>&#8201;&#8212;&#8201;a list of all issued keys. Initially includes only <em>Key-6.dat</em>. When the key is changed, information about the new key is added here without deleting the old one;</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <strong><em>CAs.json</em></strong>&#8201;&#8212;&#8201;a list of all Accredited Key Certification Centers from the <a href="https://iit.com.ua/downloads">ІІТ</a> website;</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <strong><em>CACertificates.p7b</em></strong> - a public key from the <a href="https://iit.com.ua/downloads">ІІТ</a> website.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Configuration files for the hardware cryptomodule: </dt>
<dd>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p>3 files with appropriate values (<em>see attached examples</em>):</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <em><a href="../../_attachments/aws-deployment/sign.key.device-type">sign.key.device-type</a></em>&#8201;&#8212;&#8201;specify the device type for the key (file);</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <em><a href="../../_attachments/aws-deployment/sign.key.file.issuer"> sign.key.file.issuer</a></em>&#8201;&#8212;&#8201;specify the Accredited Key Certification Center that issued the key (change the value inside the file to match your issuer);</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <em><a href="../../_attachments/aws-deployment/sign.key.file.password">sign.key.file.password</a></em>&#8201;&#8212;&#8201;specify the password for the file key (change the value inside the file to match your password).</p>
<div class="paragraph">
<p>4 files with empty values (<em>create 4 empty files with the following names</em>):</p>
</div>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <strong><em>sign.key.hardware.device</em></strong>&#8201;&#8212;&#8201;key device type (hardware);</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <strong><em>sign.key.hardware.password</em></strong>&#8201;&#8212;&#8201; hardware key password;</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <strong><em>sign.key.hardware.type</em></strong>&#8201;&#8212;&#8201;key type;</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <strong><em>osplm.ini</em></strong>&#8201;&#8212;&#8201;INI configuration.</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
To learn more about loading and updating the keys and digital signature certificates, see <a href="../../registry-management/system-keys/control-plane-platform-keys.html" class="xref page">Updating the Platform digital signature keys and certificates</a>.
</td>
</tr>
</table>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> a Docker image of the <strong><code>openshift-install</code></strong> container (<em>for details, see <a href="#launch-openshift-install">Starting the openshift-install container</a></em>);</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> a downloaded Installer&#8201;&#8212;&#8201;a script for Platform deployment (<em>for details, see <a href="#installer-preparation-launch">Preparing and launching the Installer to deploy and update the Platform on the OKD cluster</a></em>).</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_creating_an_aws_account"><a class="anchor" href="#_creating_an_aws_account"></a><a class="link" href="#_creating_an_aws_account">1.2. Creating an AWS account</a></h3>
<div class="paragraph">
<p>Before installing OpenShift Container Platform on AWS, you need to create an AWS account.</p>
</div>
<div class="paragraph">
<p>To learn how to do this, refer to the AWS documentation: <a href="https://aws.amazon.com/premiumsupport/knowledge-center/create-and-activate-aws-account/">How do I create and activate a new AWS account?</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_setting_up_an_aws_account"><a class="anchor" href="#_setting_up_an_aws_account"></a><a class="link" href="#_setting_up_an_aws_account">1.3. Setting up an AWS account</a></h3>
<div class="paragraph">
<p>Before installing OpenShift Container Platform, you need to set up your AWS account.</p>
</div>
<div class="sect3">
<h4 id="setup-route-53"><a class="anchor" href="#setup-route-53"></a><a class="link" href="#setup-route-53">1.3.1. Configuring Route 53</a></h4>
<div class="paragraph">
<p>To install OpenShift Container Platform, you need to register a domain name. You can do this using the <strong>Amazon Route 53</strong> service or any other domain name registrar.</p>
</div>
<div class="paragraph">
<p>Also, the AWS account you use must have a dedicated public hosted zone in your Route 53 service.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
For details, refer to the Origin Kubernetes Distribution (OKD) documentation: <a href="https://docs.openshift.com/container-platform/4.11/installing/installing_aws/installing-aws-account.html#installation-aws-route53_installing-aws-account">Configuring Route 53</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="setup-external-domain"><a class="anchor" href="#setup-external-domain"></a><a class="link" href="#setup-external-domain">1.3.2. Configuring an external domain</a></h4>
<div class="paragraph">
<p>If you registered the domain name through an external registrar, <em>not</em> Route 53, you need to delegate the domain. To do this, perform these steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Sign in to your AWS account and create a public hosted zone using the <strong>Route 53</strong> service as described in <a href="#setup-route-53">Configuring Route 53</a>. Use the same domain name as you registered externally.</p>
</li>
<li>
<p>In the Route 53 console, go to the public hosted zone you created and check the <strong><code>NS</code></strong> type record (<strong>name servers</strong> process DNS requests for the domain name). The <strong>Value</strong> column contains a list of NS server names. Save them as they will be needed later.</p>
</li>
<li>
<p>Go to the external domain name registrar where you created the domain name.</p>
</li>
<li>
<p>Open the domain settings and find the settings related to NS servers.</p>
</li>
<li>
<p>Provide the NS servers you copied from the public hosted zone in your AWS account.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_aws_account_limits"><a class="anchor" href="#_aws_account_limits"></a><a class="link" href="#_aws_account_limits">1.3.3. AWS account limits</a></h4>
<div class="paragraph">
<p>The OpenShift Container Platform cluster uses a number of AWS components, and the default <em>service limits</em> affect your ability to install a cluster.</p>
</div>
<div class="paragraph">
<p>To see a list of AWS components whose limits may impact your ability to install and run an OpenShift Container Platform cluster, refer to the OKD documentation: <a href="https://docs.openshift.com/container-platform/4.11/installing/installing_aws/installing-aws-account.html#installation-aws-limits_installing-aws-account">AWS account limits</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You must also increase the CPU limit for your Amazon <strong><em>on-demand</em></strong> virtual machines. For details, refer to the AWS documentation: <a href="https://aws.amazon.com/premiumsupport/knowledge-center/ec2-on-demand-instance-vcpu-increase">How do I request an EC2 vCPU limit increase for my On-Demand Instance?</a>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_creating_an_iam_user"><a class="anchor" href="#_creating_an_iam_user"></a><a class="link" href="#_creating_an_iam_user">1.3.4. Creating an IAM user</a></h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Before installing OpenShift Container Platform, create an <em><strong>IAM</strong> user</em>. For details, refer to the AWS documentation: <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html">Creating an IAM user in your AWS account</a>.</p>
</li>
<li>
<p>In addition, perform these important steps:</p>
<div class="ulist">
<ul>
<li>
<p>Remove any <strong>Service control policies (SCPs</strong>) restrictions from your AWS account.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When you create a cluster, an associated AWS OpenID Connect (OIDC) identity provider is also created. The OIDC provider configuration is based on the public key stored in the AWS region <strong><code>us-east-1</code></strong>. Customers using AWS SCP must allow the use of the region <strong><code>us-east-1</code></strong> even if the cluster is deployed in a different region. If these policies are not configured correctly, permission errors may occur since the OKD installer verifies them.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>+
TIP: For details, refer to section <strong>1.1. DEPLOYMENT PREREQUISITES</strong> of the following document: <a href="https://access.redhat.com/documentation/en-us/red_hat_openshift_service_on_aws/4/pdf/prepare_your_environment/red_hat_openshift_service_on_aws-4-prepare_your_environment-en-us.pdf">Red Hat OpenShift Service on AWS 4. Prepare your environment</a>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Properly configure the <strong><em>permissions boundary</em></strong> for the IAM user you created.</p>
<div class="paragraph">
<p>Here is an example of a permissions boundary policy. You can use it or completely remove any permissions boundary.</p>
</div>
<details>
<summary class="title"><em>Setting the <strong>permissions boundary</em></strong> policy</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "NotAction": [
                "iam:*"
            ],
            "Resource": "*"
        },
        {
            "Effect": "Allow",
            "Action": [
                "iam:Get*",
                "iam:List*",
                "iam:Tag*",
                "iam:Untag*",
                "iam:GenerateServiceLastAccessedDetails",
                "iam:GenerateCredentialReport",
                "iam:SimulateCustomPolicy",
                "iam:SimulatePrincipalPolicy",
                "iam:UploadSSHPublicKey",
                "iam:UpdateServerCertificate",
                "iam:CreateInstanceProfile",
                "iam:CreatePolicy",
                "iam:DeletePolicy",
                "iam:CreatePolicyVersion",
                "iam:DeletePolicyVersion",
                "iam:SetDefaultPolicyVersion",
                "iam:CreateServiceLinkedRole",
                "iam:DeleteServiceLinkedRole",
                "iam:CreateInstanceProfile",
                "iam:AddRoleToInstanceProfile",
                "iam:DeleteInstanceProfile",
                "iam:RemoveRoleFromInstanceProfile",
                "iam:UpdateRole",
                "iam:UpdateRoleDescription",
                "iam:DeleteRole",
                "iam:PassRole",
                "iam:DetachRolePolicy",
                "iam:DeleteRolePolicy",
                "iam:UpdateAssumeRolePolicy",
                "iam:CreateGroup",
                "iam:UpdateGroup",
                "iam:AddUserToGroup",
                "iam:RemoveUserFromGroup",
                "iam:PutGroupPolicy",
                "iam:DetachGroupPolicy",
                "iam:DetachUserPolicy",
                "iam:DeleteGroupPolicy",
                "iam:DeleteGroup",
                "iam:DeleteUserPolicy",
                "iam:AttachUserPolicy",
                "iam:AttachGroupPolicy",
                "iam:PutUserPolicy",
                "iam:DeleteUser",
                "iam:CreateRole",
                "iam:AttachRolePolicy",
                "iam:PutRolePermissionsBoundary",
                "iam:PutRolePolicy"
            ],
            "Resource": "*"
        },
        {
            "Effect": "Allow",
            "Action": [
                "iam:CreateAccessKey",
                "iam:DeleteAccessKey",
                "iam:UpdateAccessKey",
                "iam:CreateLoginProfile",
                "iam:DeleteLoginProfile",
                "iam:UpdateLoginProfile",
                "iam:ChangePassword",
                "iam:CreateVirtualMFADevice",
                "iam:EnableMFADevice",
                "iam:ResyncMFADevice",
                "iam:DeleteVirtualMFADevice",
                "iam:DeactivateMFADevice",
                "iam:CreateServiceSpecificCredential",
                "iam:UpdateServiceSpecificCredential",
                "iam:ResetServiceSpecificCredential",
                "iam:DeleteServiceSpecificCredential"
            ],
            "Resource": "*"
        }
    ]
}</code></pre>
</div>
</div>
</div>
</details>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
To learn more about creating an IAM user, refer to the OKD documentation: <a href="https://docs.openshift.com/container-platform/4.11/installing/installing_aws/installing-aws-account.html#installation-aws-iam-user_installing-aws-account">Creating an IAM user</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_required_aws_permissions_for_the_iam_user"><a class="anchor" href="#_required_aws_permissions_for_the_iam_user"></a><a class="link" href="#_required_aws_permissions_for_the_iam_user">1.3.5. Required AWS permissions for the IAM user</a></h4>
<div class="paragraph">
<p>To deploy all components of an OpenShift Container Platform cluster, the IAM user requires certain permissions that must be attached to that user.</p>
</div>
<div class="paragraph">
<p>To see an example of these permissions, refer to the OKD documentation: <a href="https://docs.openshift.com/container-platform/4.11/installing/installing_aws/installing-aws-account.html#installation-aws-permissions_installing-aws-account">Required AWS permissions for the IAM user</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="create-additional-accounts"><a class="anchor" href="#create-additional-accounts"></a><a class="link" href="#create-additional-accounts">1.4. Creating additional accounts</a></h3>
<div class="paragraph">
<p>Before installing OpenShift Container Platform on AWS, you need to create a Docker Hub and Red Hat account.</p>
</div>
<div class="paragraph">
<p>This is necessary to form a <strong><code>docker pull secret</code></strong> that will be used later.</p>
</div>
<div class="sect3">
<h4 id="_creating_a_docker_hub_account"><a class="anchor" href="#_creating_a_docker_hub_account"></a><a class="link" href="#_creating_a_docker_hub_account">1.4.1. Creating a Docker Hub account</a></h4>
<div class="ulist">
<ul>
<li>
<p>Some services use images from Docker Hub repositories. To use them, you need an account. For details, refer to the Docker documentation: <a href="https://docs.docker.com/docker-id/">Docker ID accounts</a>.</p>
</li>
<li>
<p>Additionally, the limit on the number of images uploaded per day may prevent the services from starting. To avoid this, you&#8217;ll need to upgrade your subscription to the Pro level. This will change the limit from 200 image pulls per 6 hours to 5,000 image pulls per day. For details, refer to the Docker documentation: <a href="https://docs.docker.com/subscription/upgrade/">Upgrade your subscription</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_creating_a_red_hat_account"><a class="anchor" href="#_creating_a_red_hat_account"></a><a class="link" href="#_creating_a_red_hat_account">1.4.2. Creating a Red Hat account</a></h4>
<div class="paragraph">
<p>To download the images required to install OpenShift Container Platform, you need a Red Hat account. For details, refer to the Red Hat documentation: <a href="https://access.redhat.com/articles/5832311">Red Hat Login ID and Account</a>.</p>
</div>
<div class="paragraph">
<p>This is necessary to download the generated pull secret later, as described in <a href="#okd-aws-install-preparation">Preparing to install the OKD cluster on AWS</a>. It will allow you to authenticate and download container images for OpenShift Container Platform components.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deploy-additional-resources-for-okd"><a class="anchor" href="#deploy-additional-resources-for-okd"></a><a class="link" href="#deploy-additional-resources-for-okd">2. Deploying additional resources to install an OKD cluster on AWS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Launch the following resources in AWS to install the cluster and platform successfully. The diagram below illustrates the infrastructure scheme with these resources. This is done to simplify the platform installation and avoid unwanted errors associated with setting up from a local computer.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/installation/aws/installation-aws-1.svg" alt="image" width="468" height="375"></span></p>
</div>
<div class="sect2">
<h3 id="_description_of_additional_resources"><a class="anchor" href="#_description_of_additional_resources"></a><a class="link" href="#_description_of_additional_resources">2.1. Description of additional resources</a></h3>
<div class="paragraph">
<p>A more detailed description of the additional resources from the scheme is depicted below:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>S3 Bucket</strong> is used to store the Terraform state.</p>
</li>
<li>
<p><strong>DynamoDB</strong> is a table in DynamoDB that will be used to store information about the locking of the Terraform state.</p>
</li>
<li>
<p><strong>NAT Gateway</strong> provides a private server with Internet access.</p>
</li>
<li>
<p><strong>Bastion</strong> is an intermediary server that ensures secure and restricted access to the server in a private network. Subsequently, an SSH tunnel will be established through this bastion to the <strong>Initial-node</strong>.</p>
</li>
<li>
<p><strong>Initial-node</strong> is a server in a private network, through which the cluster and platform will be installed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These resources can be deployed using the prepared Terraform code in the following steps.</p>
</div>
<div class="sect3">
<h4 id="_recommended_bastion_settings"><a class="anchor" href="#_recommended_bastion_settings"></a><a class="link" href="#_recommended_bastion_settings">2.1.1. Recommended Bastion settings</a></h4>
<div class="paragraph">
<p>The following table provides the recommended settings for Bastion.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Bastion settings</caption>
<colgroup>
<col style="width: 6%;">
<col style="width: 33%;">
<col style="width: 61%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Setting</strong></th>
<th class="tableblock halign-left valign-top"><strong>Value</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instance type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">t2.nano</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">vCPUs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.5 GiB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CPU Credits/hr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Platform</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ubuntu</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AMI name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ubuntu-bionic-18.04-amd64-server-20210224</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Volume</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8 Gb</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_recommended_secondary_virtual_machine_settings"><a class="anchor" href="#_recommended_secondary_virtual_machine_settings"></a><a class="link" href="#_recommended_secondary_virtual_machine_settings">2.1.2. Recommended secondary virtual machine settings</a></h4>
<div class="paragraph">
<p>The following table provides the recommended settings for the secondary virtual machine.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Secondary virtual machine settings</caption>
<colgroup>
<col style="width: 6%;">
<col style="width: 33%;">
<col style="width: 61%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Setting</strong></th>
<th class="tableblock halign-left valign-top"><strong>Value</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instance type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">t2.medium</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">vCPUs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 GiB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CPU Credits/hr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">24</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Platform</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ubuntu</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AMI name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ubuntu-bionic-18.04-amd64-server-20210224</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Volume</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">150 Gb</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_additional_settings"><a class="anchor" href="#_additional_settings"></a><a class="link" href="#_additional_settings">2.2. Additional settings</a></h3>
<div class="sect3">
<h4 id="_installing_necessary_tools"><a class="anchor" href="#_installing_necessary_tools"></a><a class="link" href="#_installing_necessary_tools">2.2.1. Installing necessary tools</a></h4>
<div class="paragraph">
<p>For further actions, installing the required tools on your local computer is necessary.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>unzip</p>
</li>
<li>
<p><a href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html">aws cli v2</a></p>
</li>
<li>
<p><a href="https://docs.docker.com/engine/install/">terraform v1.6.6</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can check the correct installation of these tools using the following commands:</p>
</div>
<div class="exampleblock">
<div class="title">Example 1. Checking the installation of tools</div>
<div class="content">
<div class="listingblock">
<div class="title">Checking unzip</div>
<div class="content">
<pre>$ unzip -v</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Checking aws cli</div>
<div class="content">
<pre>$ aws --version</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Checking terraform</div>
<div class="content">
<pre>$ terraform version</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_setting_up_aws_cli"><a class="anchor" href="#_setting_up_aws_cli"></a><a class="link" href="#_setting_up_aws_cli">2.2.2. Setting up AWS CLI</a></h4>
<div class="paragraph">
<p>Authenticate your AWS account using AWS CLI. To do this, execute the following command:</p>
</div>
<div class="listingblock">
<div class="title"><strong>AWS account authentication</strong></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ aws configure
AWS Access Key ID [None]: AKIAIOSFODNN7EXAMPLE
AWS Secret Access Key [None]: JalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
Default region name [None]: eu-central-1
Default output format [None]: json</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
For more detailed information on the AWS account authentication process using AWS CLI, refer to the official AWS documentation: <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-authentication-user.html#cli-authentication-user-configure">Configure the AWS CLI</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_setting_up_aws_cross_account_access"><a class="anchor" href="#_setting_up_aws_cross_account_access"></a><a class="link" href="#_setting_up_aws_cross_account_access">2.2.3. Setting up AWS cross-account access</a></h4>
<div class="paragraph">
<p>Before running the Terraform code, it must be downloaded. This requires access to an AWS S3 bucket where it is stored. This is possible only if a special IAM role is created. Follow these steps to do so:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create an AWS IAM role.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ aws iam create-role \
      --role-name UserCrossAccountRole \
      --description "Role for uploading terraform files from AWS S3" \
      --assume-role-policy-document '{
            "Version": "2012-10-17",
            "Statement": [
                {
                    "Action": "sts:AssumeRole",
                    "Effect": "Allow",
                    "Principal": {
                        "AWS": "arn:aws:iam::&lt;YourAccountId&gt;:root"
                    }
                }
            ]
          }'</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong><code>&lt;YourAccountId&gt;</code></strong> — insert your AWS account ID here</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Create an AWS IAM policy.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ aws iam create-policy \
      --policy-name UserCrossAccountPolicy \
      --policy-document '{
            "Version": "2012-10-17",
            "Statement": [
                {
                    "Action": "sts:AssumeRole",
                    "Effect": "Allow",
                    "Resource": "arn:aws:iam::764324427262:role/CustomCrossAccountRole"
                }
            ]
          }'</code></pre>
</div>
</div>
</li>
<li>
<p>Attach the policy to the role.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ aws iam attach-role-policy \
      --role-name UserCrossAccountRole \
      --policy-arn arn:aws:iam::&lt;YourAccountId&gt;:policy/UserCrossAccountPolicy</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<strong><code>&lt;YourAccountId&gt;</code></strong>&#8201;&#8212;&#8201;insert your AWS account ID here.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Add the required values for the role to the <code>config</code> file.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cat &lt;&lt;EOT &gt;&gt; ~/.aws/config
[profile user-cross-account-role]
role_arn = arn:aws:iam::764324427262:role/CustomCrossAccountRole
source_profile = default
EOT</code></pre>
</div>
</div>
</li>
<li>
<p>After this, you must contact the support team, who should add your AWS account ID to the Trust relationships for the <code>CustomCrossAccountRole</code> in their AWS account.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_downloading_terraform_code"><a class="anchor" href="#_downloading_terraform_code"></a><a class="link" href="#_downloading_terraform_code">2.2.4. Downloading Terraform code</a></h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download the archive with the Terraform code.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ aws s3 cp s3://mdtu-ddm-platform-installer/terraform/terraform.zip terraform.zip  --profile user-cross-account-role</code></pre>
</div>
</div>
</li>
<li>
<p>Unzip the Terraform code into a separate directory.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ unzip terraform.zip -d ~/terraform</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_of_the_terraform_code"><a class="anchor" href="#_description_of_the_terraform_code"></a><a class="link" href="#_description_of_the_terraform_code">2.3. Description of the Terraform code</a></h3>
<div class="paragraph">
<p>As an example of process automation, Terraform code was implemented, which can be customized to your parameters and used for deploying infrastructure.</p>
</div>
<div class="sect3">
<h4 id="_initial_terraform_code"><a class="anchor" href="#_initial_terraform_code"></a><a class="link" href="#_initial_terraform_code">2.3.1. Initial Terraform code</a></h4>
<div class="paragraph">
<p>This Terraform code is designed to create resources for further steps. These resources include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>S3 Bucket</p>
</li>
<li>
<p>DynamoDB Table</p>
</li>
</ul>
</div>
<div class="paragraph">
<p></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Initial Code. Description of Terraform files: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>main.tf</code> – the main configuration Terraform file. It contains modules for creating:</p>
<div class="ulist">
<ul>
<li>
<p>S3 bucket</p>
</li>
<li>
<p>DynamoDB table</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>providers.tf</code> — used to define the Terraform version, necessary plugins, and AWS provider parameters.</p>
</li>
<li>
<p><code>variables.tf</code> — used for describing all the variables used in the Terraform configuration.</p>
</li>
<li>
<p><code>terraform.tfvars</code> — contains values for specific variables defined in the Terraform configuration files. If necessary, change the values for the following parameters to the required ones:</p>
<div class="ulist">
<ul>
<li>
<p><code>region</code> — this variable determines the AWS region in which the resources will be created.</p>
</li>
<li>
<p><code>tags</code> — this variable adds tags (labels) to the resources.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_main_terraform_code"><a class="anchor" href="#_main_terraform_code"></a><a class="link" href="#_main_terraform_code">2.3.2. Main Terraform code</a></h4>
<div class="paragraph">
<p>The main Terraform code deploys all the necessary resources. Below is a description of the templates.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Main Code. Description of Terraform files: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>main.tf</code> — the main configuration Terraform file. It contains modules for creating:</p>
<div class="ulist">
<ul>
<li>
<p><code>VPC</code>;</p>
</li>
<li>
<p><code>ec2_bastion</code>;</p>
</li>
<li>
<p><code>ec2_instance</code>;</p>
</li>
<li>
<p><code>key_pair</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>providers.tf</code> — used to define the Terraform version, necessary plugins, and AWS provider parameters. Be sure to change the values for the following parameters as needed:</p>
<div class="ulist">
<ul>
<li>
<p><code>bucket</code> — this variable contains the name of the S3 bucket. Change <code>&lt;ACCOUNT_ID&gt;</code> to your AWS account ID.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>iam-node-role.tf</code> — used to create a special IAM role with the necessary permissions. This will enable setting up AWS cross-account resource access and downloading the Docker image for containers and the Installer.</p>
</li>
<li>
<p><code>elastic-ip.tf</code> — used to create an AWS Elastic IP (EIP) resource using Terraform.</p>
</li>
<li>
<p><code>security-groups.tf</code> — creates Security Groups, which allow SSH connections (TCP port 22) to the bastion and <code>initial-node</code>.</p>
</li>
<li>
<p><code>ssh-key.tf</code> — contains code for creating an SSH private key, saving it to a file, and setting its access rights.</p>
</li>
<li>
<p><code>files/user_data.sh.tpl</code> is a script template executed when creating or updating an EC2 instance in the AWS environment. This script will do the following for the <code>initial-node</code>:</p>
<div class="ulist">
<ul>
<li>
<p>install Docker;</p>
</li>
<li>
<p>install Unzip;</p>
</li>
<li>
<p>install AWS CLI v2;</p>
</li>
<li>
<p>additionally, set up AWS cross-account resource access.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>variables.tf</code> — used for describing all the variables used in the Terraform configuration.</p>
</li>
<li>
<p><code>terraform.tfvars</code> — contains values for specific variables defined in the Terraform configuration files. If necessary, change the values for the following parameters as needed:</p>
<div class="ulist">
<ul>
<li>
<p><code>region</code> — this variable determines the AWS region where resources will be created.</p>
</li>
<li>
<p><code>platform_name</code> — this variable adds a name to the cluster and AWS resources.</p>
</li>
<li>
<p><code>ingress_cidr_blocks</code> — Add the necessary IP address here to connect via SSH to an additional virtual machine.</p>
</li>
<li>
<p><code>prefix_list_ids</code> — if multiple addresses need to be opened for connection, create a <code>prefix-list</code> and use its ID in this parameter.</p>
</li>
<li>
<p><code>tags</code> — this variable adds tags (labels) to the resources.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_running_terraform_code"><a class="anchor" href="#_running_terraform_code"></a><a class="link" href="#_running_terraform_code">2.4. Running Terraform code</a></h3>
<div class="paragraph">
<p>After the changes made in the previous steps, the Terraform code is now ready to be executed.</p>
</div>
<div class="sect3">
<h4 id="_running_the_initial_terraform_code"><a class="anchor" href="#_running_the_initial_terraform_code"></a><a class="link" href="#_running_the_initial_terraform_code">2.4.1. Running the Initial Terraform code</a></h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Sequentially execute the following commands to navigate to the directory with the initial Terraform code and initialize the working Terraform directory.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cd ~/terraform/initCode

$ terraform init</code></pre>
</div>
</div>
</li>
<li>
<p>Use the following command to apply the changes defined in the configuration files and create the resources.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ terraform apply -auto-approve</code></pre>
</div>
</div>
</li>
<li>
<p>Wait for the resources to be created.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_running_the_main_terraform_code"><a class="anchor" href="#_running_the_main_terraform_code"></a><a class="link" href="#_running_the_main_terraform_code">2.4.2. Running the Main Terraform code</a></h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Sequentially execute the following commands to navigate to the directory with the main Terraform code and initialize the working Terraform directory.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cd ~/terraform/mainCode

$ terraform init</code></pre>
</div>
</div>
</li>
<li>
<p>Use the following command to apply the changes defined in the configuration files and create the resources.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ terraform apply -auto-approve</code></pre>
</div>
</div>
</li>
<li>
<p>Wait for the resources to be created.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_connecting_to_the_additional_virtual_machine"><a class="anchor" href="#_connecting_to_the_additional_virtual_machine"></a><a class="link" href="#_connecting_to_the_additional_virtual_machine">2.5. Connecting to the additional virtual machine</a></h3>
<div class="paragraph">
<p>To connect to the additional virtual machine from your computer, you need to create an SSH tunnel. Use the following command:</p>
</div>
<div class="exampleblock">
<div class="title">Example 2. Creating an SSH tunnel</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>$ ssh -i &lt;SSH_KEY&gt; -L 1256:&lt;NODE_PRIVATE_IP&gt;:22 -N -f ubuntu@&lt;BASTION_PUBLIC_IP&gt;</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>After creating an SSH tunnel, you can connect to the additional virtual machine. Use the following command:</p>
</div>
<div class="exampleblock">
<div class="title">Example 3. Connecting via SSH</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>$ ssh -i &lt;SSH_KEY&gt; ubuntu@localhost -p 1256</pre>
</div>
</div>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Additional virtual machine purpose </dt>
<dd>
<p>You need to perform all subsequent steps on the additional virtual machine, namely the installation of the cluster and Platform.</p>
</dd>
</dl>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="launch-openshift-install"><a class="anchor" href="#launch-openshift-install"></a><a class="link" href="#launch-openshift-install">2.6. Starting the openshift-install container</a></h3>
<div class="paragraph">
<p>To install the cluster using the <strong><code>openshift-install</code></strong> Docker image, perform the following steps.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Sign in to AWS Elastic Container Registry (ECR).</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ sudo aws ecr get-login-password --profile cross-account-role --region eu-central-1 | docker login --username AWS --password-stdin 764324427262.dkr.ecr.eu-central-1.amazonaws.com</code></pre>
</div>
</div>
</li>
<li>
<p>Download the Docker image.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ docker pull 764324427262.dkr.ecr.eu-central-1.amazonaws.com/openshift-install:v3</code></pre>
</div>
</div>
</li>
<li>
<p>Tag the Docker image you downloaded.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ docker tag 764324427262.dkr.ecr.eu-central-1.amazonaws.com/openshift-install:v3 openshift-install:v3</code></pre>
</div>
</div>
</li>
<li>
<p>Create a new folder to keep all the cluster data.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ mkdir ~/openshift-cluster</code></pre>
</div>
</div>
</li>
<li>
<p>Switch to the folder you created.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cd ~/openshift-cluster</code></pre>
</div>
</div>
</li>
<li>
<p>Run the <strong><code>openshift-install</code></strong> container.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ sudo docker run --rm -it --name openshift-install-v3 \
    --user root:$(id -g) \
    --net host \
    -v $(pwd):/tmp/openshift-cluster \
    --env AWS_ACCESS_KEY_ID=&lt;КЛЮЧ_ДОСТУПУ&gt; \
    --env AWS_SECRET_ACCESS_KEY=&lt;secret-access-key&gt; \
    openshift-install:v3 bash</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="okd-aws-install-preparation"><a class="anchor" href="#okd-aws-install-preparation"></a><a class="link" href="#okd-aws-install-preparation">3. Preparing to install the OKD cluster on AWS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>In OpenShift Container Platform version <code>4.11</code>, you can install a customized cluster on infrastructure that the installation program provisions on AWS.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">OKD version </dt>
<dd>
<p>The recommended OKD version is <strong><code>4.11.0-0.okd-2022-08-20-022919</code></strong>.</p>
</dd>
</dl>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To install the cluster, perform the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Inside the container, switch to the <strong><em>/tmp/openshift-cluster</em></strong> folder.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cd /tmp/openshift-cluster</code></pre>
</div>
</div>
</li>
<li>
<p>Follow the steps described in the official documentation on the OKD website, <a href="https://docs.openshift.com/container-platform/4.11/installing/installing_aws/installing-aws-customizations.html">Installing a cluster on AWS with customizations</a>, up to the step <strong>Obtaining an AWS Marketplace image</strong>: <a href="https://docs.openshift.com/container-platform/4.11/installing/installing_aws/installing-aws-customizations.html#installation-aws-marketplace-subscribe_installing-aws-customizations">Obtaining an AWS Marketplace image</a>.</p>
</li>
<li>
<p>Download the customized OKD installer that includes a fix for the blocker issue described at [OCPBUGS-11636](<a href="https://issues.redhat.com/browse/OCPBUGS-11636" class="bare">https://issues.redhat.com/browse/OCPBUGS-11636</a>).</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ aws s3 cp s3://mdtu-ddm-platform-installer/okd-installer/openshift-install-fix-aws-4.11.0-0.okd-2022-08-20-022-fix-aws.tar.gz openshift-install-fix-aws-4.11.0-0.okd-2022-08-20-022-fix-aws.tar.gz --profile cross-account-role</code></pre>
</div>
</div>
</li>
<li>
<p>Unzip the installation program from the downloaded archive.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ tar xvfz openshift-install-fix-aws-4.11.0-0.okd-2022-08-20-022-fix-aws.tar.gz</code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
To configure the installation, you need to create a <strong><em>install-config.yaml</em></strong> file and enter the necessary parameters before installing the cluster.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Create a new directory for the cluster configuration files and the install-config.yaml file. Do this by executing the following commands in sequence:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ mkdir /tmp/openshift-cluster/cluster-state

$ touch /tmp/openshift-cluster/cluster-state/install-config.yaml</code></pre>
</div>
</div>
<div class="paragraph">
<p>After creating the file, fill it with the necessary parameters. The created configuration file includes only the necessary parameters for a minimal cluster deployment. For customization of settings, refer to the official documentation.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Recommended parameters for <strong><em>install-config.yaml</em></strong>: </dt>
<dd>
<details>
<summary class="title"><strong><em>install-config.yaml</em></strong></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: v1
baseDomain: &lt;BASE_DOMAIN&gt;(1)
compute:
  - architecture: amd64
    hyperthreading: Enabled
    name: worker
    platform:
      aws:
        zones:
          - eu-central-1c
        rootVolume:
          size: 80
          type: gp3
        type: r5.2xlarge
        amiID: ami-094fe1584439e91dd
    replicas: 3
controlPlane:
  architecture: amd64
  hyperthreading: Enabled
  name: master
  platform:
    aws:
      zones:
        - eu-central-1c
      rootVolume:
        size: 80
        type: gp3
      type: r5.xlarge
  replicas: 3
metadata:
  name: &lt;CLUSTER_NAME&gt;(2)
networking:
  clusterNetwork:
    - cidr: 10.128.0.0/14
      hostPrefix: 23
  machineNetwork:
    - cidr: 10.0.0.0/16
  networkType: OVNKubernetes
platform:
  aws:
    region: eu-central-1
    userTags:
      'user:tag': &lt;CLUSTER_NAME&gt;(2)
publish: External
pullSecret: &lt;PULL_SECRET&gt;(4)
sshKey: &lt;SSHKEY&gt;(3)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>(1) <code>&lt;BASE_DOMAIN</code>&gt;&#8201;&#8212;&#8201;the domain name you created and configured earlier. For details, see <a href="#setup-route-53">Configuring Route 53</a> and <a href="#setup-external-domain">Configuring an external domain</a>.</p>
</li>
<li>
<p>(2) <code>&lt;CLUSTER_NAME&gt;</code>&#8201;&#8212;&#8201;the name of the future OKD cluster.</p>
</li>
<li>
<p>(3) <code>&lt;SSHKEY&gt;</code>&#8201;&#8212;&#8201;one or more SSH keys used to access the cluster machines. You can use the same key that was created during the OKD cluster installation, or any other key.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
For details, refer to the OKD documentation: <a href="https://docs.openshift.com/container-platform/4.11/installing/installing_aws/installing-aws-customizations.html#installation-configuration-parameters-optional_installing-aws-customizations">Optional configuration parameters</a>.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>(4) &lt;PULL_SECRET&gt;&#8201;&#8212;&#8201;the secret you created earlier (for details, see <a href="#create-additional-accounts">Creating additional accounts</a>). You need to get this secret from the Red Hat OpenShift Cluster Manager.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
To learn more, refer to step 5 on this OKD page: <a href="https://docs.openshift.com/container-platform/4.11/installing/installing_aws/installing-aws-customizations.html#installation-obtaining-installer_installing-aws-customizations">Obtaining the installation program</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You need to add your Red Hat and Docker Hub credentials to the pull secret. A combined secret will look as follows:</p>
</div>
<details>
<summary class="title"><em>An example of a combined *pull secret*</em></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
   "auths":{
      "cloud.openshift.com":{
         "auth":"b3Blb=",
         "email":"test@example.com"
      },
      "quay.io":{
         "auth":"b3Blb=",
         "email":"test@example.com"
      },
      "registry.connect.redhat.com":{
         "username":"test",
         "password":"test",
         "auth":"b3Blb=",
         "email":"test@example.com"
      },
      "registry.redhat.io":{
         "username":"test",
         "password":"test",
         "auth":"b3Blb=",
         "email":"test@example.com"
      },
      "index.docker.io/v2/":{
         "username":"test",
         "password":"test",
         "auth":"b3Blb=",
         "email":"test@example.com"
      }
   }
}</code></pre>
</div>
</div>
</div>
</details>
<div class="paragraph">
<p>For convenience, the pull secret should be written to the <strong><em>install-config.yaml</em></strong> file in one line. The final secret will look as follows:</p>
</div>
<details>
<summary class="title"><em>An example of a one-line *pull secret*</em></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>'{"auths":{"cloud.openshift.com":{"auth":"b3Blb=","email":"test@example.com"},"quay.io":{"auth":"b3Blb=","email":"test@example.com"},"registry.connect.redhat.com":{"username":"test","password":"test","auth":"b3Blb=","email":"test@example.com"},"registry.redhat.io":{"username":"test","password":"test","auth":"b3Blb=","email":"test@example.com"},"index.docker.io/v2/":{"username":"test","password":"test","auth":"b3Blb=","email":"test@example.com"}}}'</pre>
</div>
</div>
</div>
</details>
</li>
</ul>
</div>
</div>
</details>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The Installer deletes the <strong>install-config.yaml</strong> file when creating the cluster. We recommend backing up the <strong>install-config.yaml</strong> file if you need to deploy multiple clusters.
</td>
</tr>
</table>
</div>
</dd>
</dl>
</div>
</li>
<li>
<p>Also, execute the following command to customize the OpenShift cluster version 4.11 installation. This variable allows you to specify a specific image used during the installation.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ export OPENSHIFT_INSTALL_RELEASE_IMAGE_OVERRIDE="quay.io/openshift/okd:4.11.0-0.okd-2022-08-20-022919"</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_running_the_okd4_installer_and_deploying_an_empty_okd4_cluster"><a class="anchor" href="#_running_the_okd4_installer_and_deploying_an_empty_okd4_cluster"></a><a class="link" href="#_running_the_okd4_installer_and_deploying_an_empty_okd4_cluster">4. Running the OKD4 installer and deploying an empty OKD4 cluster</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>After <strong><em>install-config.yaml</em></strong> is created, run the following command to deploy the OKD cluster:</p>
</div>
<div class="listingblock">
<div class="title"><strong>Installing the OKD cluster</strong></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ ./openshift-install create cluster --dir /tmp/openshift-cluster/cluster-state --log-level=info</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The cluster deployment process usually takes up to 1 hour.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Upon successful deployment, the following cluster access and credential information displays in your terminal:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>login;</p>
</li>
<li>
<p>password;</p>
</li>
<li>
<p>a link to the cluster&#8217;s web console</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/installation/aws/installation-aws-2.png" alt="image" width="468" height="198"></span></p>
</div>
<div class="paragraph">
<p>The installation program generates a series of cluster definition files for your cluster in the installation directory, which are necessary for its uninstallation.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
To learn more, refer to the <strong>Prerequisites</strong> section on this OKD page: <a href="https://docs.openshift.com/container-platform/4.11/installing/installing_aws/uninstalling-cluster-aws.html#installation-uninstall-clouds_uninstall-cluster-aws">Uninstalling a cluster on AWS</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This directory will also contain the <strong><em>/auth</em></strong> folder with two authentication files: for working with the cluster through the <strong>web console</strong> and the <strong>OKD command line interface</strong> (OKD CLI).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_replacing_self_signed_certificates_with_trusted_certificates"><a class="anchor" href="#_replacing_self_signed_certificates_with_trusted_certificates"></a><a class="link" href="#_replacing_self_signed_certificates_with_trusted_certificates">5. Replacing self-signed certificates with trusted certificates</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>To replace self-signed certificates with trusted ones, you first need to obtain these certificates.</p>
</div>
<div class="paragraph">
<p>This section describes obtaining free certificates from <a href="https://letsencrypt.org/">Let&#8217;s Encrypt</a> and installing them on your server.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s Encrypt certificates are obtained using the <a href="https://github.com/acmesh-official/acme.sh">acme.sh</a> utility.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
To learn about using Let&#8217;s Encrypt via the ACME protocol, refer to the Let&#8217;s Encrypt documentation: <a href="https://letsencrypt.org/docs/client-options/">ACME Client Implementations</a>.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">To replace the certificates, perform the following steps: </dt>
<dd>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Set the environment variable. The variable must point to the <strong><em>kubeconfig</em></strong> file.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ export KUBECONFIG=cluster-state/auth/kubeconfig</code></pre>
</div>
</div>
</li>
<li>
<p>Create the <strong><em>letsencrypt.sh</em></strong> file and paste the following script into it:</p>
<details>
<summary class="title"><em>Certificate replacement script</em></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">#!/bin/bash
yum install -y openssl
mkdir -p certificates
export CERT_HOME=./certificates
export CURDIR=$(pwd)
cd $CERT_HOME

# Clone the acme.sh utility from the GitHub repository
git clone https://github.com/neilpang/acme.sh
sed -i "2i AWS_ACCESS_KEY_ID=\"${AWS_ACCESS_KEY_ID}\"" ./acme.sh/dnsapi/dns_aws.sh
sed -i "3i AWS_SECRET_ACCESS_KEY=\"${AWS_SECRET_ACCESS_KEY}\"" ./acme.sh/dnsapi/dns_aws.sh
cd $CURDIR
# Get API Endpoint URL
export LE_API="$(oc whoami --show-server | cut -f 2 -d ':' | cut -f 3 -d '/' | sed 's/-api././')"
# Get Wildcard Domain
export LE_WILDCARD="$(oc get ingresscontroller default -n openshift-ingress-operator -o jsonpath='{.status.domain}')"
${CERT_HOME}/acme.sh/acme.sh --register-account -m user_${RANDOM}@example.com
${CERT_HOME}/acme.sh/acme.sh --issue -d ${LE_API} -d *.${LE_WILDCARD} --dns dns_aws
export CERTDIR=$CERT_HOME/certificates
mkdir -p ${CERTDIR}

# Transfer certificates from the default acme.sh path to a more convenient directory using the --install-cert - key
${CERT_HOME}/acme.sh/acme.sh --install-cert -d ${LE_API} -d *.${LE_WILDCARD} --cert-file ${CERTDIR}/cert.pem --key-file ${CERTDIR}/key.pem --fullchain-file ${CERTDIR}/fullchain.pem --ca-file ${CERTDIR}/ca.cer
# Create secret
oc create secret tls router-certs --cert=${CERTDIR}/fullchain.pem --key=${CERTDIR}/key.pem -n openshift-ingress
# Update Custom Resource for Router
oc patch ingresscontroller default -n openshift-ingress-operator --type=merge --patch='{"spec": { "defaultCertificate": { "name": "router-certs" }}}'</code></pre>
</div>
</div>
</div>
</details>
</li>
<li>
<p>Make the script executable.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ chmod +x ./letsencrypt.sh</code></pre>
</div>
</div>
</li>
<li>
<p>Run the script.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ bash -x ./letsencrypt.sh</code></pre>
</div>
</div>
</li>
<li>
<p>Exit the container after running the script. To do this, use the following command. The container will be deleted automatically.</p>
<div class="listingblock">
<div class="title">Exiting the container</div>
<div class="content">
<pre>$ exit</pre>
</div>
</div>
</li>
</ol>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installer-preparation-launch"><a class="anchor" href="#installer-preparation-launch"></a><a class="link" href="#installer-preparation-launch">6. Preparing and launching the Installer to deploy and update the Platform on the OKD cluster</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before launching the <em>Installer</em>, you need to prepare the workstation where it will run.</p>
</div>
<div class="sect2">
<h3 id="_deploying_from_scratch"><a class="anchor" href="#_deploying_from_scratch"></a><a class="link" href="#_deploying_from_scratch">6.1. Deploying from scratch</a></h3>
<div class="sect3">
<h4 id="_prerequisites_2"><a class="anchor" href="#_prerequisites_2"></a><a class="link" href="#_prerequisites_2">6.1.1. Prerequisites</a></h4>
<div class="paragraph">
<p>Before running the Platform installation script, perform the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download the appropriate version of the Installer by running the following sequence of commands.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ mkdir ~/installer

$ cd ~/installer

$ sudo aws s3 cp --profile cross-account-role s3://mdtu-ddm-platform-installer/&lt;VERSION&gt;/mdtu-ddm-platform-&lt;VERSION&gt;.zip mdtu-ddm-platform-&lt;VERSION&gt;.zip</code></pre>
</div>
</div>
</li>
<li>
<p>Unpack the Installer to a separate directory.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ unzip mdtu-ddm-platform-(version).zip -d ./installer-&lt;VERSION&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Copy <strong><em>kubeconfig</em></strong> from the installed cluster.</p>
<div class="listingblock">
<div class="content">
<pre>$ cp ~/openshift-cluster/cluster-state/auth/kubeconfig ./installer-&lt;VERSION&gt;</pre>
</div>
</div>
</li>
<li>
<p>Transfer the certificates and <code>digital-signature-ops</code> service support files to the <strong><em>certificates</em></strong> directory and go to the Installer directory.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cp -r /path/to/folder/certificates/ ./installer-&lt;VERSION&gt;

$ cd installer-&lt;VERSION&gt;</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_minio"><a class="anchor" href="#_configuring_minio"></a><a class="link" href="#_configuring_minio">6.1.2. Configuring MinIO</a></h4>
<div class="paragraph">
<p>When deploying the Platform from scratch, no additional configuration is required for MinIO.</p>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_vault"><a class="anchor" href="#_configuring_vault"></a><a class="link" href="#_configuring_vault">6.1.3. Configuring Vault</a></h4>
<div class="paragraph">
<p>When deploying the Platform from scratch, no additional configuration is required for Vault.</p>
</div>
</div>
<div class="sect3">
<h4 id="deploy-platform-installer-scratch"><a class="anchor" href="#deploy-platform-installer-scratch"></a><a class="link" href="#deploy-platform-installer-scratch">6.1.4. Deploying the Platform from the Installer</a></h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the following commands:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ IMAGE_CHECKSUM=$(sudo docker load -i control-plane-installer.img | sed -r "s#.*sha256:(.*)#\1#" \| tr -d '\n')</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ echo $IMAGE_CHECKSUM</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ sudo docker tag ${IMAGE_CHECKSUM} control-plane-installer:&lt;VERSION&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Start the installation process of the new Platform with the images:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ sudo docker run --rm \
    --name control-plane-installer-&lt;VERSION&gt; \
    --user root:$(id -g) \
    --net host \
    -v $(pwd):/tmp/installer \
    --env KUBECONFIG=/tmp/installer/kubeconfig \
    --env idgovuaClientId=f90ab33dc272f047dc330c88e5663b75 \
    --env idgovuaClientSecret=cba49c104faac8c718e6daf3253bc55f2bf11d9e \
    --env deploymentMode=&lt;DEPLOYMENT_MODE&gt; \
    --entrypoint "/bin/sh" control-plane-installer:&lt;VERSION&gt; \
    -c "./install.sh -i"</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p><strong><code>--rm</code></strong> — this flag will automatically delete the container when it exits. You can remove the flag if you need to inspect the state and logs of the completed container, or if you have an unstable Internet connection.</p>
</li>
<li>
<p><strong><code>DEPLOYMENT_MODE</code></strong> — this variable can be set to <strong><code>development</code></strong> or <strong><code>production</code></strong>.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_deployment_status"><a class="anchor" href="#_deployment_status"></a><a class="link" href="#_deployment_status">6.1.5. Deployment status</a></h4>
<div class="paragraph">
<p>The following log indicates the Platform update process was successful:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/installation/aws/installation-aws-3.png" alt="image" width="468" height="178"></span></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">If you removed the <strong><code>--rm</code></strong> flag during the <a href="#deploy-platform-installer-scratch">Deploying the Platform from the Installer</a> step, you need to do the following: </dt>
<dd>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the following command to verify that the container has exited with a status of 0, which indicates that it has completed successfully.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ docker ps --all --latest</code></pre>
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/installation/aws/installation-aws-4.png" alt="image" width="468" height="26"></span></p>
</div>
</li>
<li>
<p>Remove the container using the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ docker rm $(docker ps --latest -q)</code></pre>
</div>
</div>
</li>
</ol>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_post_deployment_required_steps"><a class="anchor" href="#_post_deployment_required_steps"></a><a class="link" href="#_post_deployment_required_steps">6.1.6. Post-deployment required steps</a></h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>After installing the Platform, make sure the <strong><code>cluster-management</code></strong> pipeline has started and passed successfully (with a green status). <span class="underline"><em>Only after this the Platform will be ready for deploying registries. Without this action, the registries will not deploy</em></span>.</p>
<div class="paragraph">
<p>You can locate the <strong><code>cluster-management</code></strong> pipeline using the following path:</p>
</div>
<div class="paragraph">
<p><strong><em>OKD Web UI &gt; control-plane NS &gt; Routes &gt; jenkins url &gt; cluster-mgmt &gt; MASTER-Build-cluster-mgmt</em></strong>.</p>
</div>
</li>
<li>
<p>Request access to the IIT widget as described here: <a href="https://eu.iit.com.ua/sign-widget/v20200922/" class="bare">https://eu.iit.com.ua/sign-widget/v20200922/</a>.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Additional resources state </dt>
<dd>
<p>After all the steps are completed, you can shut down Bastion and the additional virtual machine. They will not be needed until the next Platform update.</p>
</dd>
</dl>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_updating"><a class="anchor" href="#_updating"></a><a class="link" href="#_updating">6.2. Updating</a></h3>
<div class="sect3">
<h4 id="_prerequisites_3"><a class="anchor" href="#_prerequisites_3"></a><a class="link" href="#_prerequisites_3">6.2.1. Prerequisites</a></h4>
<div class="paragraph">
<p>Before running the Platform installation script, perform the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download the appropriate version of the Installer by running the following sequence of commands.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ mkdir ~/installer

$ cd ~/installer

$ sudo aws s3 cp --profile cross-account-role s3://mdtu-ddm-platform-installer/&lt;VERSION&gt;/mdtu-ddm-platform-&lt;VERSION&gt;.zip mdtu-ddm-platform-&lt;VERSION&gt;.zip</code></pre>
</div>
</div>
</li>
<li>
<p>Unpack the Installer to a separate directory.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ unzip mdtu-ddm-platform-(version).zip -d ./installer-&lt;VERSION&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Copy <strong><em>kubeconfig</em></strong> from the installed cluster.</p>
<div class="listingblock">
<div class="content">
<pre>$ cp ~/openshift-cluster/cluster-state/auth/kubeconfig ./installer-&lt;VERSION&gt;</pre>
</div>
</div>
</li>
<li>
<p>Transfer the certificates and <code>digital-signature-ops</code> service support files to the <strong><em>certificates</em></strong> directory and go to the Installer directory.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cp -r /path/to/folder/certificates/ ./installer-&lt;VERSION&gt;

$ cd installer-&lt;VERSION&gt;</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_minio_2"><a class="anchor" href="#_configuring_minio_2"></a><a class="link" href="#_configuring_minio_2">6.2.2. Configuring MinIO</a></h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Copy Terraform state data for MinIO from the previous release.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cp ~/installer/installer-&lt;VERSION&gt;/terraform/minio/aws/terraform.tfstate ./terraform/minio/aws/</code></pre>
</div>
</div>
</li>
<li>
<p>Copy the MinIO key from the previous release.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cp ~/installer/installer-&lt;VERSION&gt;/terraform/minio/aws/private_minio.key ./terraform/minio/aws/</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="platform-update-vault"><a class="anchor" href="#platform-update-vault"></a><a class="link" href="#platform-update-vault">6.2.3. Configuring Vault</a></h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Copy Terraform state data for Vault from the previous release.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cp ~/installer/installer-&lt;VERSION&gt;/terraform/vault/aws/terraform.tfstate ./terraform/vault/aws/</code></pre>
</div>
</div>
</li>
<li>
<p>Copy the Vault key from the previous release.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ ~/installer/installer-&lt;VERSION&gt;/terraform/vault/aws/private.key ./terraform/vault/aws/</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="update-platform-installer"><a class="anchor" href="#update-platform-installer"></a><a class="link" href="#update-platform-installer">6.2.4. Updating the Platform from the Installer</a></h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the following commands:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ IMAGE_CHECKSUM=$(sudo docker load -i control-plane-installer.img | sed -r "s#.*sha256:(.*)#\1#" \| tr -d '\n')</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ echo $IMAGE_CHECKSUM</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ sudo docker tag ${IMAGE_CHECKSUM} control-plane-installer:&lt;VERSION&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Update the Platform version with the images:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ sudo docker run --rm \
    --name control-plane-installer-&lt;VERSION&gt; \
    --user root:$(id -g) \
    --net host \
    -v $(pwd):/tmp/installer \
    --env KUBECONFIG=/tmp/installer/kubeconfig \
    --env idgovuaClientId=f90ab33dc272f047dc330c88e5663b75 \
    --env idgovuaClientSecret=cba49c104faac8c718e6daf3253bc55f2bf11d9e \
    --env deploymentMode=&lt;DEPLOYMENT_MODE&gt; \
    --entrypoint "/bin/sh" control-plane-installer:&lt;VERSION&gt; \
    -c "./install.sh -u"</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p><strong><code>--rm</code></strong> — this flag will automatically delete the container when it exits. You can remove the flag if you need to inspect the state and logs of the completed container, or if you have an unstable Internet connection.</p>
</li>
<li>
<p><strong><code>DEPLOYMENT_MODE</code></strong> — this variable can be set to <strong><code>development</code></strong> or <strong><code>production</code></strong>, depending on the previous installation.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Run the script twice if the generated log does <em>NOT</em> match the point <a href="#update-status">Update status</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="update-status"><a class="anchor" href="#update-status"></a><a class="link" href="#update-status">6.2.5. Update status</a></h4>
<div class="paragraph">
<p>The following log indicates the Platform update process was successful:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/installation/aws/installation-aws-3.png" alt="image" width="468" height="178"></span></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">If you removed the <strong><code>--rm</code></strong> flag during the <a href="#update-platform-installer">Updating the Platform from the Installer</a> step, you need to do the following: </dt>
<dd>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the following command to verify that the container has exited with a status of 0, which indicates that it has completed successfully.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ docker ps --all --latest</code></pre>
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/installation/aws/installation-aws-4.png" alt="image" width="468" height="26"></span></p>
</div>
</li>
<li>
<p>Remove the container using the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ docker rm $(docker ps --latest -q)</code></pre>
</div>
</div>
</li>
</ol>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_required_steps_after_update"><a class="anchor" href="#_required_steps_after_update"></a><a class="link" href="#_required_steps_after_update">6.2.6. Required steps after update</a></h4>
<div class="dlist">
<dl>
<dt class="hdlist1">After updating the Platform from the Installer: </dt>
<dd>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <a href="../../update/overview.html" class="xref page">Update</a> section.</p>
</li>
<li>
<p>Perform the necessary specific update steps for your version of the Platform.</p>
</li>
<li>
<p>As part of the particular update steps, refresh the <a href="../../update/update_cluster-mgmt.html" class="xref page">Platform&#8217;s infrastructure components</a> via the Control Plane interface.</p>
</li>
</ol>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Status of additional resources </dt>
<dd>
<p>After completing all actions, the bastion and additional virtual machine can be turned off. They will not be needed until the next platform update.</p>
</dd>
</dl>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_common_errors_during_the_platform_deployment"><a class="anchor" href="#_common_errors_during_the_platform_deployment"></a><a class="link" href="#_common_errors_during_the_platform_deployment">7. Common errors during the Platform deployment</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section, we review errors that may occur when deploying the Platform from scratch and provide methods to resolve them.</p>
</div>
<div class="sect2">
<h3 id="_bootstrap_machine_error_when_deploying_the_okd_cluster"><a class="anchor" href="#_bootstrap_machine_error_when_deploying_the_okd_cluster"></a><a class="link" href="#_bootstrap_machine_error_when_deploying_the_okd_cluster">7.1. Bootstrap machine error when deploying the OKD cluster</a></h3>
<div class="sect3">
<h4 id="_problem_description"><a class="anchor" href="#_problem_description"></a><a class="link" href="#_problem_description">Problem description</a></h4>
<div class="paragraph">
<p>The following error occurs during cluster deployment:</p>
</div>
<div class="listingblock">
<div class="title">Bootstrap virtual machine error</div>
<div class="content">
<pre>level=error msg=Attempted to gather ClusterOperator status after installation failure: listing ClusterOperator objects: Get "https://api.&lt;CLUSTER_URL&gt;:6443/apis/config.openshift.io/v1/clusteroperators": dial tcp &lt;CLUSTER_IP&gt;:6443: connect: connection refused
level=error msg=Bootstrap failed to complete: Get "https://api.&lt;CLUSTER_URL&gt;:6443/version": dial tcp &lt;CLUSTER_IP&gt;:6443: connect: connection refused
level=error msg=Failed waiting for Kubernetes API. This error usually happens when there is a problem on the bootstrap host that prevents creating a temporary control plane.</pre>
</div>
</div>
<div class="paragraph">
<p>This error is related to the bootstrap virtual machine and usually happens when there is a problem on the bootstrap host that prevents creating a temporary Control Plane.</p>
</div>
</div>
<div class="sect3">
<h4 id="_solution"><a class="anchor" href="#_solution"></a><a class="link" href="#_solution">Solution</a></h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the command to remove the cluster, leaving the <strong><code>--dir</code></strong> parameter the same.</p>
<div class="listingblock">
<div class="title">Removing the OKD cluster</div>
<div class="content">
<pre>$ ./openshift-install destroy cluster --dir /tmp/openshift-cluster/cluster-state --log-level info</pre>
</div>
</div>
</li>
<li>
<p>Wait until the cluster is removed, then run the command to reinstall it.</p>
<div class="listingblock">
<div class="title">Reinstalling the cluster</div>
<div class="content">
<pre>$ ./openshift-install create cluster --dir /tmp/openshift-cluster/cluster-state --log-level=info</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_vault_token_error_when_deploying_the_platform"><a class="anchor" href="#_vault_token_error_when_deploying_the_platform"></a><a class="link" href="#_vault_token_error_when_deploying_the_platform">7.2. Vault token error when deploying the Platform</a></h3>
<div class="sect3">
<h4 id="_problem_description_2"><a class="anchor" href="#_problem_description_2"></a><a class="link" href="#_problem_description_2">Problem description</a></h4>
<div class="paragraph">
<p>When deploying the Platform, during the Vault installation stage, an error may occur where the <code>vault_root_token</code> variable returns an empty value:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/installation/aws/installation-aws-5.png" alt="image" width="468" height="113"></span></p>
</div>
<div class="paragraph">
<p>This error can be caused by Vault not starting successfully or skipping some of the Platform installation steps.</p>
</div>
</div>
<div class="sect3">
<h4 id="_solution_2"><a class="anchor" href="#_solution_2"></a><a class="link" href="#_solution_2">Solution</a></h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Sign in to your AWS account and locate the <strong><code>platform-vault-&lt;CLUSTER_NAME&gt;</code></strong> virtual machine.</p>
</li>
<li>
<p>Connect to the virtual machine using EC2 Instance Connect or SSH.</p>
</li>
<li>
<p>Check the Vault status. The <strong><code>Initialized</code></strong> parameter must be set to <code><strong>true</strong></code>.</p>
<div class="listingblock">
<div class="title">Checking the Vault status</div>
<div class="content">
<pre>$ vault status</pre>
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/installation/aws/installation-aws-6.png" alt="image" width="468" height="182"></span></p>
</div>
</li>
<li>
<p>If the status is different, restart Vault.</p>
<div class="listingblock">
<div class="title">Restarting Vault</div>
<div class="content">
<pre>$ systemctl restart vault</pre>
</div>
</div>
</li>
<li>
<p>If this error occurred during the Platform update, check if the Vault key was copied from the previous release as described in <a href="#platform-update-vault">Configuring Vault</a>.</p>
</li>
<li>
<p>Try running the Platform update process again as described in <a href="#update-platform-installer">Updating the Platform from the Installer</a>.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_minio_ssl_certificate_error_when_deploying_the_platform"><a class="anchor" href="#_minio_ssl_certificate_error_when_deploying_the_platform"></a><a class="link" href="#_minio_ssl_certificate_error_when_deploying_the_platform">7.3. MinIO SSL certificate error when deploying the Platform</a></h3>
<div class="sect3">
<h4 id="_problem_description_3"><a class="anchor" href="#_problem_description_3"></a><a class="link" href="#_problem_description_3">Problem description</a></h4>
<div class="paragraph">
<p>When deploying the Platform, during the MinIO installation stage, the following error may occur:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/installation/aws/installation-aws-7.png" alt="image" width="468" height="174"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_solution_3"><a class="anchor" href="#_solution_3"></a><a class="link" href="#_solution_3">Solution</a></h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to the Installer directory and start the container for Platform installation using the following command:</p>
<div class="listingblock">
<div class="title">Running the container</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cd ~/installer/installer-&lt;VERSION&gt;
$ sudo docker run -it --rm \
    --name control-plane-installer-&lt;VERSION&gt; \
    --user root:$(id -g) \
    --net host \
    -v $(pwd):/tmp/installer \
    --env KUBECONFIG=/tmp/installer/kubeconfig \
    --env idgovuaClientId=f90ab33dc272f047dc330c88e5663b75 \
    --env idgovuaClientSecret=cba49c104faac8c718e6daf3253bc55f2bf11d9e \
    --env deploymentMode=&lt;DEPLOYMENT_MODE&gt; control-plane-installer:&lt;VERSION&gt; bash</code></pre>
</div>
</div>
</li>
<li>
<p>Switch to the appropriate directory and set the environment variables.</p>
<div class="listingblock">
<div class="title">Setting the environment variables</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cd /tmp/installer/terraform/minio/aws
$ export AWS_ACCESS_KEY_ID=$(oc get secret/aws-creds -n kube-system -o jsonpath='{.data.aws_access_key_id}' | base64 -d)
$ export AWS_SECRET_ACCESS_KEY=$(oc get secret/aws-creds -n kube-system -o jsonpath='{.data.aws_secret_access_key}' | base64 -d)
$ export CLUSTER_NAME=$(oc get node -l node-role.kubernetes.io/master -o 'jsonpath={.items[0].metadata.annotations.machine\.openshift\.io/machine}' | sed -r 's#.*/(.*)-master.*#\1#')
$ export clusterNameShort="${CLUSTER_NAME::-6}"
$ export baseDomain=$(oc get dns cluster --no-headers -o jsonpath='{.spec.baseDomain}')
$ export route53HostedZone="${baseDomain/${clusterNameShort}./}"</code></pre>
</div>
</div>
</li>
<li>
<p>Remove MinIO using Terraform.</p>
<div class="listingblock">
<div class="title">Removing MinIO</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ terraform init
$ terraform destroy -var cluster_name="${clusterNameShort}" -var baseDomain="${route53HostedZone}" -auto-approve</code></pre>
</div>
</div>
</li>
<li>
<p>Wait until Minio is removed. Exit the container and retry the Platform installation process as described in <a href="#deploy-platform-installer-scratch">Deploying the Platform from the Installer</a> if you are deploying the platform from scratch, or <a href="#update-platform-installer">Updating the Platform from the Installer</a>, if you are updating the platform.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_error_sending_images_to_nexus_when_deploying_the_platform"><a class="anchor" href="#_error_sending_images_to_nexus_when_deploying_the_platform"></a><a class="link" href="#_error_sending_images_to_nexus_when_deploying_the_platform">7.4. Error sending images to Nexus when deploying the Platform</a></h3>
<div class="sect3">
<h4 id="_problem_description_4"><a class="anchor" href="#_problem_description_4"></a><a class="link" href="#_problem_description_4">Problem description</a></h4>
<div class="paragraph">
<p>During Platform deployment, when sending images to Nexus, the following error may occur:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/installation/aws/installation-aws-8.png" alt="image" width="468" height="228"></span></p>
</div>
<div class="paragraph">
<p>This error is related to <strong>skopeo</strong>, a tool that sends images to Nexus. If the image fails to load in 10 minutes, skopeo returns a timeout error.</p>
</div>
</div>
<div class="sect3">
<h4 id="_solution_4"><a class="anchor" href="#_solution_4"></a><a class="link" href="#_solution_4">Solution</a></h4>
<div class="paragraph">
<p>Install the Platform from an additional virtual machine as described in <a href="#deploy-additional-resources-for-okd">Deploying additional resources to install an OKD cluster on AWS</a>.</p>
</div>
</div>
</div>
</div>
</div>
</article>
    </div>
</main></div>
<footer class="footer">
    <p>© 2023 The Registries Platform.</p>
    <img src="../../../../../_/static/images/made-in-ua.png" class="made-in-ua-logo"/>
</footer><script id="site-script" src="../../../../../_/js/site.js" data-ui-root-path="../../../../../_"></script>
<script async src="../../../../../_/js/vendor/highlight.js"></script>
    <script src="../../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../../_/js/vendor/lunr-languages.js"></script>
<script src="../../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../../.." data-snippet-length="100" data-stylesheet="../../../../../_/css/search.css"></script>
<script async src="../../../../../search-index.js"></script>

<script src="../../../../../_/vendor/tabs/1.0.0-beta.3/tabs.js"></script>
<script src="../../../../../_/vendor/swagger/4.15.5/swagger-ui-bundle.js"></script>
<script src="../../../../../_/vendor/swagger/4.15.5/swagger-ui-standalone-preset.js"></script>
<script src="../../../../../_/vendor/medium-zoom/medium-zoom.min.js"></script>
<script src="../../../../../_/vendor/medium-zoom/medium-zoom.config.js"></script>
<script src="../../../../../_/static/scripts/language-selector.js"></script>  </body>
</html>
