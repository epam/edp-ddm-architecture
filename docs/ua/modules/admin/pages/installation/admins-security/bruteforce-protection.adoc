= Захист від підбору паролів
include::platform:ROOT:partial$templates/document-attributes/default-set-ua.adoc[]

== Загальні положення

Захист від атак brute force є ключовим аспектом забезпечення безпеки для системи управління ідентифікацією та доступом, як Keycloak. Атаки brute force полягають у спробах несанкціонованого доступу шляхом безперервного підбору паролів, що може призвести до компрометації облікових записів. Щоб запобігти таким атакам, необхідно впровадити механізми, які обмежують кількість спроб входу та встановлюють часові затримки після невдалих спроб.

=== Кроки налаштування

1. Вхід в Адміністративну Консоль Keycloak
2. Виберіть openshift realm, для якого будуть здійснені налаштування. 
3. У меню зліва виберіть "Realm Settings".
4. Перейдіть до вкладки "Security Defenses".
5. Нище перейдіть до вкладки "Brute Force Detection"
6. Увімкніть перемиках
7. Конфігурація параметрів +
*Постійне Блокування (Permanent Lockout):* Не рекомендується включати постійне блокування, оскільки це може призвести до відмови у обслуговуванні та незручностей для користувачів. +
*Максимальна Кількість Невдалих Спроб Входу (Max Login Failures):* 5 спроб +
*Збільшення Часу Очікування (Wait Increment):* 300 секунд +
Це часовий період, що додається до часу блокування після кожної невдалої спроби входу після досягнення порога максимальної кількості невдалих спроб. +
*Швидка Перевірка Входу (Quick Login Check):* Рекомендоване значення 1000 мілісекунд (1 секунда) +
Це мінімальний час між спробами входу. Установка його на 1 секунду може запобігти швидким автоматизованим атакам, не впливаючи значно на користувацький досвід. +
*Мінімальний Час Швидкого Входу (Minimum Quick Login Wait):* 2 хвилини +
Це мінімальний час очікування для спроби входу після невдачі. +
*Максимальний Час Очікування (Max Wait):* 30 хвилин +
Це максимальний час, протягом якого користувач буде заблокований після повторних невдач. +
*Час Скидання Невдач (Failure Reset Time):* 12 годин +
Це час, після якого кількість невдач для користувача скидається, якщо не було невдач. +

.Кроки налаштування OTP політик
image::admins-security/bruteforce_protection.png[Кроки налаштування OTP політик]