:toc-title: –ó–ú–Ü–°–¢
:toc: auto
:toclevels: 5
:experimental:
:important-caption:     –í–ê–ñ–õ–ò–í–û
:note-caption:          –ü–†–ò–ú–Ü–¢–ö–ê
:tip-caption:           –ü–Ü–î–ö–ê–ó–ö–ê
:warning-caption:       –ü–û–ü–ï–†–ï–î–ñ–ï–ù–ù–Ø
:caution-caption:       –£–í–ê–ì–ê
:example-caption:           –ü—Ä–∏–∫–ª–∞–¥
:figure-caption:            –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è
:table-caption:             –¢–∞–±–ª–∏—Ü—è
:appendix-caption:          –î–æ–¥–∞—Ç–æ–∫
:sectnums:
:sectnumlevels: 5
:sectanchors:
:sectlinks:
:partnums:

= –û–±–º–µ–∂–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É –Ω–∞ —Ä—ñ–≤–Ω—ñ IP –¥–æ SOAP-—Ä–æ—É—Ç—ñ–≤ –®–ë–û "–¢—Ä–µ–º–±—ñ—Ç–∞"

NOTE: –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –≤–µ—Ä—Å—ñ—ó —Ä–µ—î—Å—Ç—Ä—É 1.9.5 —Ç–∞ –≤–∏—â–µ.

== –ó–∞–≥–∞–ª—å–Ω–∏–π –æ–ø–∏—Å

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –Ω–∞–¥–∞—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Ä–µ–≥—É–ª—é–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ SOAP API-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤ —Ä–µ—î—Å—Ç—Ä—É —á–µ—Ä–µ–∑ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω—É –ø–∞–Ω–µ–ª—å *Control Plane*.

SOAP-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–ª—è –≤—Ö—ñ–¥–Ω–æ—ó –≤–∑–∞—î–º–æ–¥—ñ—ó —ñ–∑ –∑–æ–≤–Ω—ñ—à–Ω—ñ–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ —á–µ—Ä–µ–∑ –®–ª—é–∑ –ë–µ–∑–ø–µ—á–Ω–æ–≥–æ –û–±–º—ñ–Ω—É (–®–ë–û) "–¢—Ä–µ–º–±—ñ—Ç–∞", –∫–æ–ª–∏ –∑–æ–≤–Ω—ñ—à–Ω—è —Å–∏—Å—Ç–µ–º–∞ —Ö–æ—á–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–∞–Ω—ñ –∑ –≤–∞—à–æ–≥–æ —Ä–µ—î—Å—Ç—Ä—É.

–ù–∞ —Ä—ñ–≤–Ω—ñ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –ü–ª–∞—Ç—Ñ–æ—Ä–º–∏ —Ç–∞–∫—ñ SOAP-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ –Ω–∞–∑–∏–≤–∞—é—Ç—å —Ä–æ—É—Ç–∞–º–∏ (routes). –ö–æ–∂–µ–Ω —Ä–æ—É—Ç —î –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–º API-—Å–µ—Ä–≤—ñ—Å–æ–º, —è–∫–∏–π —Ä–æ–∑–≥–æ—Ä—Ç–∞—î—Ç—å—Å—è –Ω–∞ –ø–µ–≤–Ω–æ–º—É —Ö–æ—Å—Ç—ñ (`host`) —Ç–∞ –º–∞—î —Å–≤—ñ–π —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —à–ª—è—Ö (`path`), –¥–æ —è–∫–æ–≥–æ –π –æ–±–º–µ–∂—É—î—Ç—å—Å—è –¥–æ—Å—Ç—É–ø.

–°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–¥–±–∞—á–∞—î –¥–≤–∞ —Ä–æ—É—Ç–∏ –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ SOAP API —Ä–µ—î—Å—Ç—Ä—É: ::

* *`bp-webservice-gateway-trembita`* -- API-—à–ª—é–∑ –¥–ª—è –≤–∏–∫–ª–∏–∫—ñ–≤ –±—ñ–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—ñ–≤ –∑–æ–≤–Ω—ñ—à–Ω—ñ–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏. –ù–∞–ø—Ä–∞–≤–ª—è—î —Ç—Ä–∞—Ñ—ñ–∫ –¥–æ —Å–µ—Ä–≤—ñ—Å—É `bp-webservice-gateway`, —è–∫–∏–π —ñ–º–ø–ª–µ–º–µ–Ω—Ç—É—î —Ç–æ—á–∫–∏ (–µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏) —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω–æ—ó –≤–∑–∞—î–º–æ–¥—ñ—ó —ñ–∑ –±—ñ–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å–∞–º–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `/startBp` –¥–ª—è –∑–∞–ø—É—Å–∫—É –±—ñ–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—É —É —Ü—ñ–ª—å–æ–≤–æ–º—É —Ä–µ—î—Å—Ç—Ä—ñ —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ç–∞–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É).
* *`registry-soap-api`* -- API-—à–ª—é–∑ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö —Ä–µ—î—Å—Ç—Ä—É –∑–æ–≤–Ω—ñ—à–Ω—ñ–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏. –ù–∞–ø—Ä–∞–≤–ª—è—î —Ç—Ä–∞—Ñ—ñ–∫ –¥–æ –æ–¥–Ω–æ–π–º–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É `registry-soap-api`, —è–∫–∏–π —î —ñ–º–ø–ª–µ–º–µ–Ω—Ç—É—î —Ç–æ—á–∫–∏ (–µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏) —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω–æ—ó –≤–∑–∞—î–º–æ–¥—ñ—ó —ñ–∑ –§–∞–±—Ä–∏–∫–æ—é –¥–∞–Ω–∏—Ö —Ä–µ—î—Å—Ç—Ä—É.

+
.–í–µ—Ä—Ö–Ω—å–æ—Ä—ñ–≤–Ω–µ–≤–∞ –¥—ñ–∞–≥—Ä–∞–º–∞ –≤–∑–∞—î–º–æ–¥—ñ—ó –®–ë–û "–¢—Ä–µ–º–±—ñ—Ç–∞" —Ç–∞ SOAP API-—Å–µ—Ä–≤—ñ—Å—ñ–≤ —Ä–µ—î—Å—Ç—Ä—É
[plantuml]
----
@startuml
skinparam shadowing true
skinparam rectangle {
  BackgroundColor #EEEEEE
  FontColor #333333
  BorderColor #000000
  BorderThickness 1
}

box –®–ë–û –¢—Ä–µ–º–±—ñ—Ç–∞ #aliceblue
participant –¢—Ä–µ–º–±—ñ—Ç–∞ #lightyellow
end box

box "SOAP API-—Ä–æ—É—Ç–∏" #azure
participant "–†–æ—É—Ç registry-soap-api" as Gateway1 #lightyellow
participant "–†–æ—É—Ç bp-webservice-gateway-trembita" as Gateway2 #lightyellow
end box

box "SOAP API-—Å–µ—Ä–≤—ñ—Å–∏" #lightCyan
participant "–°–µ—Ä–≤—ñ—Å registry-soap-api" as Service1 #lightyellow
participant "–°–µ—Ä–≤—ñ—Å bp-webservice-gateway" as Service2 #lightyellow
end box

–¢—Ä–µ–º–±—ñ—Ç–∞ -> Gateway1 : SOAP-–∑–∞–ø–∏—Ç
Gateway1 -> Service1 : –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –∑–∞–ø–∏—Ç–∞

–¢—Ä–µ–º–±—ñ—Ç–∞ -> Gateway2 : SOAP-–∑–∞–ø–∏—Ç                              path: /ws
Gateway2 -> Service2 : –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –∑–∞–ø–∏—Ç–∞

@enduml
----

–©–æ–± –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –∫–æ–Ω—Ç—Ä–æ–ª—å —ñ –±–µ–∑–ø–µ–∫—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è SOAP API-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤, –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞ –ø–∞–Ω–µ–ª—å Control Plane –Ω–∞–¥–∞—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—É –æ–±–º–µ–∂—É–≤–∞—Ç–∏ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—é –ª–∏—à–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–µ—Ä–µ–ª—ñ–∫—É IP-–∞–¥—Ä–µ—Å.

–¢–µ—Ö–Ω—ñ—á–Ω–∏–π –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä —Ä–µ—î—Å—Ç—Ä—É –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ –≤–∫–∞–∑–∞–Ω–∏—Ö IP-–∞–¥—Ä–µ—Å —Ä–µ–∞–ª—å–Ω–∏–º –∞–¥—Ä–µ—Å–∞–º "–¢—Ä–µ–º–±—ñ—Ç–∏" –π –∑–∞ –∫–æ—Ä–µ–∫—Ç–Ω—ñ—Å—Ç—å —ó—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å. –Ø–∫—â–æ –∂–æ–¥–Ω–∞ IP-–∞–¥—Ä–µ—Å–∞ –Ω–µ –≤–∫–∞–∑–∞–Ω–∞ —É —Å–ø–∏—Å–∫—É `ipList`, —Ç–æ –º–∞—Ä—à—Ä—É—Ç –¥–æ SOAP API –Ω–µ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è, —ñ –¥–æ—Å—Ç—É–ø –¥–æ API –≤—ñ–¥—Å—É—Ç–Ω—ñ–π.

–ü—ñ—Å–ª—è –≤–Ω–µ—Å–µ–Ω–Ω—è –ø–µ—Ä–µ–ª—ñ–∫—É –¥–æ–∑–≤–æ–ª–µ–Ω–∏—Ö IP-–∞–¥—Ä–µ—Å, –∑–º—ñ–Ω–∏ –ø–æ—Ç—Ä–∞–ø–ª—è—é—Ç—å –¥–æ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó —Ä–µ—î—Å—Ç—Ä—É _deploy-templates/values.yaml_, –∑–≤—ñ–¥–∫–∏ –ø–æ—Ç—Ä–∞–ø–ª—è—é—Ç—å –¥–æ –ø–∞–∫–µ—Ç–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ *Helm*, —è–∫–∏–π –¥–æ–¥–∞—î —ó—Ö –¥–æ –∞–Ω–æ—Ç–∞—Ü—ñ–π –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ–≥–æ —Ä–æ—É—Ç–∞, —Ç–∞–∫–∏–º —á–∏–Ω–æ–º –¥–æ–∑–≤–æ–ª—è—é—á–∏ –¥–æ—Å—Ç—É–ø –¥–æ SOAP API.

[#control-plane-add-ip]
== –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É

=== –î–æ–¥–∞–≤–∞–Ω–Ω—è IP-–∞–¥—Ä–µ—Å —É Control Plane

. –£–≤—ñ–π–¥—ñ—Ç—å –¥–æ –∫–æ–Ω—Å–æ–ª—ñ *Control Plane* —è–∫ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä —Ä–µ—î—Å—Ç—Ä—É.
+
image:admin:infrastructure/cluster-mgmt/update-cluster-mgmt-01.png[]

. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ —Ä–æ–∑–¥—ñ–ª—É +++<b style="font-weight: 600">–†–µ—î—Å—Ç—Ä–∏<b>+++ —Ç–∞ –æ–±–µ—Ä—ñ—Ç—å –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–π.
+
image:admin:infrastructure/cluster-mgmt/change-key/change-key-01.png[]

. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É `+++<b style="font-weight: 600">–†–µ–¥–∞–≥—É–≤–∞—Ç–∏<b>+++`, —â–æ —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω–∞ —É –ø—Ä–∞–≤–æ–º—É –≤–µ—Ä—Ö–Ω—å–æ–º—É –∫—É—Ç—ñ.
+
NOTE: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É –¥–æ SOAP API –¥–æ—Å—Ç—É–ø–Ω–µ —Ç–∞–∫–æ–∂ –ø—Ä–∏ xref:admin:registry-management/control-plane-create-registry.adoc[—Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ —Ä–µ—î—Å—Ç—Ä—É], —Ç–∞ –Ω–µ —î –æ–±–æ–≤ º—è–∑–∫–æ–≤–∏–º.

+
image:admin:infrastructure/cluster-mgmt/change-key/change-key-02.png[]

. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ —Å–µ–∫—Ü—ñ—ó +++<b style="font-weight: 600">–®–ë–û –¢—Ä–µ–º–±—ñ—Ç–∞<b>+++. –¢—É—Ç –º–æ–∂–Ω–∞ –≤–∫–∞–∑–∞—Ç–∏ –¥–æ–∑–≤–æ–ª–∏ –Ω–∞ –¥–æ—Å—Ç—É–ø –¥–æ SOAP API —Ä–µ—î—Å—Ç—Ä—É —á–µ—Ä–µ–∑ –®–ë–û "–¢—Ä–µ–º–±—ñ—Ç–∞". –ê–∫—Ç–∏–≤—É–π—Ç–µ –ø–µ—Ä–µ–º–∏–∫–∞—á, —â–æ–± —É–≤—ñ–º–∫–Ω—É—Ç–∏ –¥–æ—Å—Ç—É–ø.
+
TIP: –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –¥–æ—Å—Ç—É–ø –≤–∏–º–∫–Ω–µ–Ω–æ –¥–ª—è –Ω–æ–≤–∏—Ö —Ä–µ—î—Å—Ç—Ä—ñ–≤.
+
image:registry-management/cp-soap-api-access/cp-soap-api-access-trembita-1.png[]

. –£ –ø–æ–ª—ñ +++<b style="font-weight: 600">IP-–∞–¥—Ä–µ—Å–∏ –®–ë–û –¢—Ä–µ–º–±—ñ—Ç–∞<b>+++ –¥–æ–¥–∞–π—Ç–µ –Ω–æ–≤—É IP-–∞–¥—Ä–µ—Å—É –®–ë–û "–¢—Ä–µ–º–±—ñ—Ç–∞", –∑ —è–∫–æ—ó –±—É–¥–µ –¥–æ–∑–≤–æ–ª–µ–Ω–æ –¥–æ—Å—Ç—É–ø –¥–æ —Ö–æ—Å—Ç—É, –Ω–∞ —è–∫–æ–º—É —Ä–æ–∑–≥–æ—Ä—Ç–∞—Ç–∏–º—É—Ç—å—Å—è —Ä–æ—É—Ç–∏ SOAP API.

. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å +++<b style="font-weight: 600">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏<b>+++ —Ç–∞ –ø–æ–≤—Ç–æ—Ä—ñ—Ç—å –¥—ñ—é –¥–ª—è –∫–æ–∂–Ω–æ—ó —Ç–∞–∫–æ—ó IP-–∞–¥—Ä–µ—Å–∏.
+
image:registry-management/cp-soap-api-access/cp-soap-api-access-trembita-2.png[]
+
[NOTE]
====
* –î–æ–ø—É—Å—Ç–∏–º—ñ —Å–∏–º–≤–æ–ª–∏: `"0-9"`, `"."` –ù–∞–ø—Ä–∏–∫–ª–∞–¥: `127.0.0.1`.
* –ù–µ–æ–±—Ö—ñ–¥–Ω–æ –≤–∫–∞–∑—É–≤–∞—Ç–∏ –ª–∏—à–µ IP-–∞–¥—Ä–µ—Å—É, –±–µ–∑ –º–∞—Å–∫–∏.
* –î–æ–∑–≤–æ–ª–µ–Ω–æ –≤–≤–µ–¥–µ–Ω–Ω—è –ª–∏—à–µ IP-–∞–¥—Ä–µ—Å, –∞ –Ω–µ –ø—ñ–¥–º–µ—Ä–µ–∂ (_–¥–∏–≤. –¥–µ—Ç–∞–ª—å–Ω—ñ—à–µ -- xref:registry-management/control-plane-cidr-access-endpoints.adoc[CIDR]_).
* –ö—ñ–ª—å–∫—ñ—Å—Ç—å IP-–∞–¥—Ä–µ—Å –æ–±–º–µ–∂–µ–Ω–∞ 10-–º–∞.
* –Ø–∫—â–æ –ø–µ—Ä–µ–ª—ñ–∫ `ipList` –Ω–µ –º—ñ—Å—Ç–∏—Ç—å –∂–æ–¥–Ω–æ—ó IP-–∞–¥—Ä–µ—Å–∏, –¥–æ—Å—Ç—É–ø –¥–æ SOAP API —î –≤—ñ–¥—Å—É—Ç–Ω—ñ–º (—Ä–æ—É—Ç –Ω–µ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è).
====
+
image:registry-management/cp-soap-api-access/cp-soap-api-access-trembita-3.png[]

. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å +++<b style="font-weight: 600">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏<b>+++, —â–æ–± –∑–±–µ—Ä–µ–≥—Ç–∏ –∑–º—ñ–Ω–∏ –¥–æ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó.
+
–£ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ —Å–∏—Å—Ç–µ–º–∞ —Ñ–æ—Ä–º—É—î –∑–∞–ø–∏—Ç –Ω–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∑—ñ —Å—Ç–∞—Ç—É—Å–æ–º `–ù–æ–≤–∏–π` —Ç–∞ —Ç–∏–ø–æ–º `–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ä–µ—î—Å—Ç—Ä—É`.

. –£ —Ä–æ–∑–¥—ñ–ª—ñ +++<b style="font-weight: 600">–†–µ—î—Å—Ç—Ä–∏<b>+++ > +++<b style="font-weight: 600">–ó–∞–ø–∏—Ç–∏ –Ω–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è<b>+++ –∑–Ω–∞–π–¥—ñ—Ç—å –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–π –∑–∞–ø–∏—Ç.
+
image:registry-management/cp-submit-mr/cp-submit-mr-1.png[]

. –í—ñ–¥–∫—Ä–∏–π—Ç–µ —Å—Ñ–æ—Ä–º–æ–≤–∞–Ω–∏–π –∑–∞–ø–∏—Ç, –Ω–∞—Ç–∏—Å–Ω—É–≤—à–∏ —ñ–∫–æ–Ω–∫—É –ø–µ—Ä–µ–≥–ª—è–¥—É -- üëÅ.

. –£ –Ω–æ–≤–æ–º—É –≤—ñ–∫–Ω—ñ –∑—ñ—Å—Ç–∞–≤—Ç–µ 2 –≤–µ—Ä—Å—ñ—ó –∑–º—ñ–Ω, –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–Ω–µ—Å–µ–Ω—ñ –≤–∞–º–∏ –¥–∞–Ω—ñ –≤—ñ—Ä–Ω—ñ, —Ç–∞ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å `+++<b style="font-weight: 600">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏<b>+++`. –í–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ –≤—ñ–¥—Ä–∞–∑—É –≤—ñ–¥—Ö–∏–ª–∏—Ç–∏ –∑–º—ñ–Ω–∏ –¥–æ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó, –Ω–∞—Ç–∏—Å–Ω—É–≤—à–∏ `+++<b style="font-weight: 600">–í—ñ–¥—Ö–∏–ª–∏—Ç–∏<b>+++`.
+
NOTE: –ó–∞–ø—Ä–æ–ø–æ–Ω–æ–≤–∞–Ω—ñ –∑–º—ñ–Ω–∏ –≤–Ω–æ—Å—è—Ç—å—Å—è –¥–æ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó —Ñ–∞–π–ª—É *_deploy-templates/values.yaml_* —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é —Ä–µ—î—Å—Ç—Ä—É —É —Ä–∞–∑—ñ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è.
+
image:registry-management/cp-soap-api-access/cp-soap-api-access-trembita-4.png[]

+
image:registry-management/cp-submit-mr/cp-submit-mr-3.png[]
+
–£ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ –∑–∞–ø–∏—Ç –Ω–∞–±—É–≤–∞—î —Å—Ç–∞—Ç—É—Å—É `–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ`.

. –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –∑–º—ñ–Ω –∑–∞–π–º–∞—î –ø–µ–≤–Ω–∏–π —á–∞—Å —ñ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–µ—Ä–≤—ñ—Å–æ–º Jenkins. –°–µ—Ä–≤—ñ—Å –∑–∞–ø—É—Å–∫–∞—î –ø—Ä–æ—Ü–µ—Å (–ø–∞–π–ø–ª–∞–π–Ω), —â–æ –º–∞—î –Ω–∞–∑–≤—É *Master-Build-`<registry-name>`*, –¥–µ `<registry-name>` -- –Ω–∞–∑–≤–∞ —Ä–µ—î—Å—Ç—Ä—É. –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Å—Ç–∞—Ç—É—Å —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –º–æ–∂–Ω–∞, –ø–µ—Ä–µ–π—à–æ–≤—à–∏ –¥–æ —Ä–æ–∑–¥—ñ–ª—É +++<b style="font-weight: 600">–†–µ—î—Å—Ç—Ä–∏<b>+++ > –≤–∞—à —Ä–µ—î—Å—Ç—Ä > +++<b style="font-weight: 600">–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è<b>+++ > *CI*.
+
–ü—ñ–¥ —á–∞—Å —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —Ä–µ—î—Å—Ç—Ä—É —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–≤–æ—Ä—é—î —Ä–æ—É—Ç `bp-webservice-gateway-trembita` —Ç–∞ –¥–æ–¥–∞—î –¥–æ –Ω—å–æ–≥–æ helm-–∞–Ω–æ—Ç–∞—Ü—ñ—é –∑ IP-–∞–¥—Ä–µ—Å–∞–º–∏, –≤–∫–∞–∑–∞–Ω–∏–º–∏ —É —Ñ–∞–π–ª—ñ _values.yaml_. –¢–∞–∫–æ–∂ –¥–æ –∫–æ–∂–Ω–æ—ó –∞–¥—Ä–µ—Å–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–¥–∞—î—Ç—å—Å—è –º–∞—Å–∫–∞ –ø—ñ–¥–º–µ—Ä–µ–∂—ñ `/32`, —â–æ –≤–∫–∞–∑—É—î –Ω–∞ –æ–¥–Ω—É –∞–¥—Ä–µ—Å—É.

+
.–ü—Ä–∏–∫–ª–∞–¥ 1. –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è trembita.ipList —É —Ñ–∞–π–ª—ñ deploy-templates/values.yaml
[source,yaml]
----
trembita:
  ipList:
    - 85.223.209.18
    - 85.223.209.19
    - 172.16.0.0
    - 127.0.0.1
----
+
.–ü—Ä–∏–∫–ª–∞–¥ 2. Helm-–∞–Ω–æ—Ç–∞—Ü—ñ—è metadata.annotations, —è–∫–∞ –¥–æ–¥–∞—î—Ç—å—Å—è –¥–æ SOAP API-—Ä–æ—É—Ç—ñ–≤ OpenShift
[source, yaml]
----
metadata:
  annotations:
    haproxy.router.openshift.io/ip_whitelist: 85.223.209.18/32 85.223.209.19 172.16.0.0/32 127.0.0.1/32
----
+
–£ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ –¥–æ—Å—Ç—É–ø –¥–æ SOAP API —á–µ—Ä–µ–∑ –®–ë–û "–¢—Ä–µ–º–±—ñ—Ç–∞" –±—É–¥–µ –¥–æ–∑–≤–æ–ª–µ–Ω–æ.


+
[IMPORTANT]
====
–°–ª—ñ–¥ –≤—ñ–¥–∑–Ω–∞—á–∏—Ç–∏, —â–æ —Ä–æ—É—Ç –¥–ª—è *`registry-soap-api`* –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ –ª–∏—à–µ –ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –≤—ñ–¥–±—É–¥–µ—Ç—å—Å—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –∞–±–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö (_data-model_), —ñ –ø—Ä–∏ —Ü—å–æ–º—É –≤ —Ä–µ—î—Å—Ç—Ä—ñ –º–∞—î –±—É—Ç–∏ —Ö–æ—á–∞ –± –æ–¥–Ω–∞ –¥–æ–∑–≤–æ–ª–µ–Ω–∞ –∞–¥—Ä–µ—Å–∞. –¢–∞–∫–∏–º —á–∏–Ω–æ–º, –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ IP-–∞–¥—Ä–µ—Å–∏ –¥–æ —Å–ø–∏—Å–∫—É –¥–æ–∑–≤–æ–ª–µ–Ω–∏—Ö, –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ —ñ–Ω—ñ—Ü—ñ—é–≤–∞—Ç–∏ –ø—Ä–æ—Ü–µ—Å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö.

–¶–µ –º–æ–∂–Ω–∞ –∑–¥—ñ–π—Å–Ω–∏—Ç–∏ —à–ª—è—Ö–æ–º —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É Jenkins-–ø–∞–π–ø–ª–∞–π–Ω—É –ø—ñ–¥ –Ω–∞–∑–≤–æ—é *data-model*, –∞–±–æ —á–µ—Ä–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∑–∞–ø—É—Å–∫, —è–∫–∏–π –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø—ñ—Å–ª—è –≤–Ω–µ—Å–µ–Ω–Ω—è –∑–º—ñ–Ω –¥–æ –º–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—É.

–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ —Ü–µ –¥–∏–≤. —É —Ä–æ–∑–¥—ñ–ª—ñ xref:#retrigger-data-model[] —Ü—å–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞.
====

[#retrigger-data-model]
=== –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Jenkins-–ø—Ä–æ—Ü–µ—Å—É data-model —É —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ñ

–ó–∞–ø—É—Å—Ç—ñ—Ç—å –ø–∞–π–ø–ª–∞–π–Ω *data-model*, —â–æ–± –æ–Ω–æ–≤–∏—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –º–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö —Ä–µ—î—Å—Ç—Ä—É —Ç–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π —Ä–æ—É—Ç `registry-soap-api`. –¶–µ –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ –¥–µ–∫—ñ–ª—å–∫–æ–º–∞ —Å–ø–æ—Å–æ–±–∞–º–∏:

* —á–µ—Ä–µ–∑ –≤–Ω–µ—Å–µ–Ω–Ω—è —Ç–∞ commit –∑–º—ñ–Ω –¥–æ —Ç–µ–∫–∏ _data-model_ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—É _registry-regulations_ —É Gerrit-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó (_–¥–∏–≤. –¥–µ—Ç–∞–ª—å–Ω—ñ—à–µ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö: xref:registry-develop:registry-admin/regulations-deploy/registry-admin-deploy-regulation.adoc[] —Ç–∞ xref:registry-develop:data-modeling/data/physical-model/liquibase-ddm-ext.adoc[]_). +
–£ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö —Ä–µ—î—Å—Ç—Ä—É, –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è Jenkins-–ø—Ä–æ—Ü–µ—Å *MASTER-Build-registry-regulations*, —è–∫–∏–π —Å–≤–æ—î—é —á–µ—Ä–≥–æ—é –∑–∞–ø—É—Å–∫–∞—î –ø–∞–π–ø–ª–∞–π–Ω —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –¥–∞—Ç–∞-–º–æ–¥–µ–ª—ñ -- `data-model`. –¶–µ–π –ø–∞–π–ø–ª–∞–π–Ω —Å—Ç–≤–æ—Ä—é—î –¥—Ä—É–≥–∏–π —Ä–æ—É—Ç -- `registry-soap-api` —ñ–∑ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—é –∞–Ω–æ—Ç–∞—Ü—ñ—î—é —Ç–∞ –∑–∞–ø–∏—Å—É—î –≤ –Ω–µ—ó –¥–æ–∑–≤–æ–ª–µ–Ω—ñ IP.

* —á–µ—Ä–µ–∑ –≤–Ω–µ—Å–µ–Ω–Ω—è –∑–º—ñ–Ω –¥–æ —Ñ–∞–π–ª—ñ–≤ –º–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö —Ä–µ—î—Å—Ç—Ä—É –≤ –ö–∞–±—ñ–Ω–µ—Ç—ñ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ñ–≤ (_–¥–∏–≤. –¥–µ—Ç–∞–ª—å–Ω—ñ—à–µ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö: xref:registry-develop:registry-admin/admin-portal/registry-modeling/tables/xml-editor.adoc[] —Ç–∞ xref:registry-develop:registry-admin/admin-portal/version-control/overview-new-change-request.adoc#push-changes-master[–ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω –¥–æ –º–∞–π—Å—Ç–µ—Ä-–≤–µ—Ä—Å—ñ—ó]_). +
–£ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö —Ä–µ—î—Å—Ç—Ä—É, –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è Jenkins-–ø—Ä–æ—Ü–µ—Å *MASTER-Build-registry-regulations*, —è–∫–∏–π —Å–≤–æ—î—é —á–µ—Ä–≥–æ—é –∑–∞–ø—É—Å–∫–∞—î –ø–∞–π–ø–ª–∞–π–Ω —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –¥–∞—Ç–∞-–º–æ–¥–µ–ª—ñ -- `data-model`. –¶–µ–π –ø–∞–π–ø–ª–∞–π–Ω —Å—Ç–≤–æ—Ä—é—î –¥—Ä—É–≥–∏–π —Ä–æ—É—Ç -- `registry-soap-api` —ñ–∑ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—é –∞–Ω–æ—Ç–∞—Ü—ñ—î—é —Ç–∞ –∑–∞–ø–∏—Å—É—î –≤ –Ω–µ—ó –¥–æ–∑–≤–æ–ª–µ–Ω—ñ IP.

* —á–µ—Ä–µ–∑ –∑–∞–ø—É—Å–∫ Jenkins-–ø–∞–π–ø–ª–∞–π–Ω—É *data-model* –≤—Ä—É—á–Ω—É. –£ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è Jenkins-–ø—Ä–æ—Ü–µ—Å *data-model*, —è–∫–∏–π —Å—Ç–≤–æ—Ä—é—î –¥—Ä—É–≥–∏–π —Ä–æ—É—Ç -- `registry-soap-api` —ñ–∑ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—é –∞–Ω–æ—Ç–∞—Ü—ñ—î—é —Ç–∞ –∑–∞–ø–∏—Å—É—î –≤ –Ω–µ—ó –¥–æ–∑–≤–æ–ª–µ–Ω—ñ IP.

+
TIP: –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ —Ü–µ –¥–∏–≤—ñ—Ç—å—Å—è –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ xref:faq:faq.adoc#trigger-data-model-manually[–Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ Jenkins-–ø—Ä–æ—Ü–µ—Å —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –º–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö?].

–¢–∞–∫–∏–º —á–∏–Ω–æ–º –≤–∏ –º–∞—Ç–∏–º–µ—Ç–µ 2 —Ä–æ—É—Ç–∏ –¥–ª—è –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–æ–≥–æ –æ–±–º—ñ–Ω—É –¥–∞–Ω–∏–º–∏ —ñ–∑ –∑–æ–≤–Ω—ñ—à–Ω—ñ–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ —á–µ—Ä–µ–∑ –®–ë–û "–¢—Ä–µ–º–±—ñ—Ç–∞" –∑–∞ SOAP-–ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º.

== –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó —É —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ñ —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è SOAP API

–ü—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –≤–∏ –Ω–∞–¥–∞–ª–∏ –¥–æ—Å—Ç—É–ø –Ω–∞ —Ä—ñ–≤–Ω—ñ IP-–∞–¥—Ä–µ—Å–∏ –≤ Control Plane —ñ —Å—Ç–≤–æ—Ä–∏–ª–∏ —Ä–æ—É—Ç–∏ –¥–ª—è SOAP API, –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–π—Ç–∏ –¥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—É –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—î—é, –∑–æ–∫—Ä–µ–º–∞:

* –Ω–∞–¥–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É –¥–æ –±—ñ–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—ñ–≤ –Ω–∞ —Ä—ñ–≤–Ω—ñ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—É;
* –Ω–∞–¥–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É –¥–æ SOAP API-–µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤, –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏—Ö —É —Å–µ—Ä–≤—ñ—Å—ñ `registry-soap-api`.

TIP: –î–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ xref:registry-develop:registry-admin/external-integration/api-publish/rest-soap-api-expose.adoc[].

–ù–∞—Å—Ç—É–ø–Ω–∏–º –∫—Ä–æ–∫–æ–º, –≤–∏ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞—Ç–∏ SOAP API-—Å–µ—Ä–≤—ñ—Å–∏ –≤ –®–ë–û –¥–ª—è –≤—Ö—ñ–¥–Ω–æ—ó —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ —ñ–Ω—à–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏.

[TIP]
====
–ë—ñ–ª—å—à–µ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –Ω–∞ —Ü—é —Ç–µ–º—É –º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö:

* xref:registry-develop:registry-admin/external-integration/api-publish/trembita-bp-invoking.adoc[]

* xref:registry-develop:registry-admin/external-integration/api-publish/trembita-data-invoking.adoc[]
====

–ù–∞–¥–∞–ª—ñ –≤–∏ –∑–º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ API –¥–ª—è –æ–±–º—ñ–Ω—É –¥–∞–Ω–∏–º–∏ –∑–∞ SOAP-–ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º —á–µ—Ä–µ–∑ –®–ë–û "–¢—Ä–µ–º–±—ñ—Ç–∞".

== –ü–æ–≤'—è–∑–∞–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏

* xref:registry-develop:registry-admin/external-integration/api-publish/rest-soap-api-expose.adoc[]

* xref:registry-develop:registry-admin/external-integration/api-publish/trembita-bp-invoking.adoc[]

* xref:registry-develop:registry-admin/external-integration/api-publish/trembita-data-invoking.adoc[]