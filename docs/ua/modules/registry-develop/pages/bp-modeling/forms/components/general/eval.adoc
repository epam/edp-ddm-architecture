= Змінні у JS-вставках

Часто при моделюванні форм необхідно зробити специфічне налаштування поведінки компонентів. Для цього у деяких параметрів є підтримка написання власного JS-коду. Це такі параметри як:

- Calculated Value
- Custom Default Value
- Custom Validation
- Advanced Conditions

У цих параметрах можна писати звичайний JS код який буде виконуватись у браузері користувача. Зазвичай у контексті виконання цього коду доступний певний набір змінних. Для кожного параметра він свій, але більшість спільні.

== Корисні поради для розробки

=== Debug

Часто доречним є використання функції ``console.log`` у JS вставках для того, щоб перевірити виконання скрипту та знайти можливу помилку. При кожному виклику ця функція буде виводити значення своїх аргументів у консоль браузера.

Приклад:

image:registry-develop:bp-modeling/forms/components/eval-debug-settings.png[]

При послідовному вводі у поле Text Field символів 1, 2, 3, 4 маємо:

image:registry-develop:bp-modeling/forms/components/eval-debug-result.png[]

Спосіб відкриття *DevTools* залежить від вашего браузера. Наприклад у *Chrome* можливо використати комбінації ``Ctrl + Shift + I``

== Доступні змінні

=== ``data``

Об'єкт з поточними даними форми. Саме його буде відправлено на BE API при завершенні задачі.

=== ``instance``

Поточний компонент. У цьому об'єкті доступно багато методів та властивостей які відрізняються від компонента до компонента. Докладніше про спецефічні властивості можна прочитати на сторінках окремих компонентів.

=== ``input``, ``value``

Значення цього компонента. У певних параметрах для використання доступен input, у інших value.

=== ``row``

Ця змінна доступна тільки якщо поточний компонент знаходиться у компоненті Edit Grid. Це посилання на конкретний елемент таблиці - той що зараз підлягає редагуванню.

=== ``formVariables``

Змінні бізнес процеса. xref:arch:archive/admin-form-variables.adoc[Докладніше про використання.]

=== ``currentUser``

Об'єкт який містить інформацію про автентифікованого користувача. Цей об'єкт існує для будь якої вставки. Докладніше -- xref:arch:architecture/platform/operational/user-management/user-profile.adoc#_api_для_отримання_профілю_користувача[за посиланням].

=== ``moment``

Бібліотека moment.js для аналізу, перевірки, обробки та форматування дат.

