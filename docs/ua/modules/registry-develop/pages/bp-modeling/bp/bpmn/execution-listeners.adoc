= Слухачі виконання (Execution listeners)
include::platform:ROOT:partial$templates/document-attributes/default-set-ua.adoc[]

== Загальний огляд

*_Слухачі виконання (Execution listeners)_* -- це об'єкти, що активізуються у ключові моменти процесу виконання бізнес-процесів. Вони дозволяють впроваджувати додаткову логіку, яка може не бути прямо пов'язана з основними завданнями процесу. Ви можете прикріпити слухачів до таких елементів процесу, як події початку та завершення, завдання, шлюзи та інші події. Слухачі зазвичай застосовують для логування, виконання скриптів, відправки повідомлень користувачам, збору даних про виконання процесів тощо.

== Застосування execution listeners для логування помилок

Розробники часто використовують слухачі виконання для логування інформації про помилки, що забезпечує ефективне відстеження та аналіз помилок під час інтеграції з зовнішніми сервісами.

Розглянемо використання listener, прикріпленого до події *Error boundary event*, для реєстрації деталей помилки при запиті до зовнішнього сервісу.

.Groovy-скрипт для логування
[source,groovy]
----
org.slf4j.LoggerFactory.getLogger(getClass()).error(
  execution.getProcessDefinitionId() + '(' + execution.getActivityId() +
  '): Error when receiving citizen info, error message: ' + errorMessage)
----

Цей код створює запис у журналі, що містить ідентифікатор процесу (`execution.getProcessDefinitionId()`), ідентифікатор задачі (`execution.getActivityId()`) та повідомлення про помилку (`errorMessage`), задане у полі *Message variable* події *Error boundary event*. Це спрощує ідентифікацію контексту помилки та процес її виправлення.

.Візуалізація використання listener для події помилки
image::bp-modeling/bp/execution-listeners/execution-listeners.jpg[]

Використання слухачів виконання для логування помилок є важливим інструментом для розробників. Це дозволяє детально фіксувати помилки, які виникають під час виконання бізнес-процесів, сприяючи швидкій реакції на них, оптимізації роботи системи та підвищенню її надійності.
