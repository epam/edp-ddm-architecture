= Створення index pattern _audit*_ у Kibana
include::platform:ROOT:partial$templates/document-attributes/default-set-ua.adoc[]

== Загальний опис

*_Index pattern_* у Kibana є ключовим компонентом для роботи з даними в Elasticsearch. Index patterns слугують шаблонами, що вказують Kibana, які індекси в Elasticsearch слід використовувати для відображення та аналізу даних.
Це особливо корисно, коли дані зберігаються в кількох індексах, але ви хочете працювати з ними як з єдиним набором. У контексті `audit*`, index pattern дозволяє агрегувати та аналізувати всі події аудиту, збережені в індексах, імена яких починаються з `audit`.

Використання index pattern `audit*` надає можливість з легкістю відстежувати безпекові події, конфігурації системи або будь-які інші події аудиту, що зберігаються в індексах Elasticsearch. Це може бути корисно для аналізу трендів безпеки, виявлення аномалій або підтримки вимог регулювання.

== Налаштування

Створення _index patterns_ ґрунтується на однаковому підході для всіх індексів.

TIP: Ознайомтеся з детальною інструкцією по роботі із журналами подій у Kibana на прикладі створення index pattern `app-*`: xref:registry-admin/openshift-logging/kibana.adoc[].

Розгляньмо створення index pattern `audit*` у Kibana:

. *Підготовка до створення Index pattern*.
.. Переконайтеся, що у вас є дані аудиту, збережені в Elasticsearch, та що індекси цих даних відповідають шаблону `audit*`.
.. Відкрийте
include::platform:ROOT:partial$templates/links/platform/operational/kibana.adoc[]
й авторизуйтеся, якщо потрібно.

. *Перехід до управління index patterns*:
.. В інтерфейсі Kibana знайдіть і виберіть *Management*.
.. Під *Kibana*, виберіть *Index Patterns* (Шаблони індексу).

. *Створення нового index pattern*:
.. Натисніть на кнопку *Create index pattern* (Створити шаблон індексу).
.. У полі *Index pattern* (Назва шаблону індексу) введіть `audit*`. Це вказує Kibana аналізувати всі індекси, що починаються на "audit".
.. Натисніть *`Next step`* (Наступний крок).

+
image:registry-admin/kibana/audit/kibana-audit-01.png[]

. *Вибір часового поля*.
+
Виберіть *Time Filter field name* (Назва поля часового фільтра). Для подій аудиту зазвичай використовується поле `@timestamp`, що дозволяє фільтрувати дані за часом.

. *Завершення процесу створення*.
+
Перевірте введені дані та натисніть *Create index pattern* (Створити шаблон індексу), щоб завершити створення.
+
image:registry-admin/kibana/audit/kibana-audit-02.png[]

. *Використання створеного index pattern*:
+
Ви побачите сторінку, яка перелічує кожне поле в індексі `audit*` та асоційований з ним основний тип, як зареєстровано в Elasticsearch. Щоб змінити тип поля, використовуйте http://www.elastic.co/guide/en/elasticsearch/reference/current/mapping.html[Elasticsearch Mapping API].

+
image:registry-admin/kibana/audit/kibana-audit-03.png[]

. Після створення, ви зможете переглядати та аналізувати дані, використовуючи створений index pattern.

. Відкрийте розділ *Discover*. Kibana відобразить список полів у ваших індексах, дозволяючи легко створювати візуалізації та дашборди. Ви зможете переглядати:

*	кількість журналів, що були створені за обраний період;
*	список журналів.

+
image:registry-admin/kibana/audit/kibana-audit-04.png[]

Створення index pattern `audit*` є фундаментальним кроком для роботи з даними аудиту в Kibana, оскільки це дозволяє ефективно керувати, аналізувати та візуалізувати великі обсяги інформації для підтримки безпеки та відповідності.