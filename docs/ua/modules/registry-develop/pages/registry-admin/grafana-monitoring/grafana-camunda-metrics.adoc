:toc-title: ЗМІСТ
:toc: auto
:toclevels: 5
:experimental:
:important-caption:     ВАЖЛИВО
:note-caption:          ПРИМІТКА
:tip-caption:           ПІДКАЗКА
:warning-caption:       ПОПЕРЕДЖЕННЯ
:caution-caption:       УВАГА
:example-caption:           Приклад
:figure-caption:            Зображення
:table-caption:             Таблиця
:appendix-caption:          Додаток
:sectnums:
:sectnumlevels: 5
:sectanchors:
:sectlinks:
:partnums:

= Моніторинг показників виконання бізнес-процесів

== Загальний опис

Функціональність моніторингу загальних метрик виконання бізнес-процесів доступна для технічного адміністратора реєстру через вебінтерфейс *Grafana*. Завдяки цьому адміністратори та розробники можуть легко відстежувати ключові метрики бізнес-процесів та використовувати цю інформацію для своєчасного виявлення та корегування проблем, а також покращення продуктивності системи.

image:release-notes:wn-1-9-4/whats-new-1-9-4-14.png[]

Основні особливості моніторингу включають: ::

* [.underline]#Доступ до окремого дашборду *Camunda Metrics*#: технічному адміністратору реєстру надається доступ до дашборду у Grafana з визначеним набором метрик -- *Camunda Metrics*.
* [.underline]#Вибір проєкту реєстру#: якщо адміністратор має доступ до декількох реєстрів, він може вказати проєкт (namespace) реєстру, для якого потрібно переглянути метрики.
* [.underline]#Автоматичне встановлення дашборду#: при оновленні наявних реєстрів дашборд Grafana встановлюється автоматично.

== Встановлення та налаштування метрик

В рамках процедури оновлення наявних реєстрів, _автоматично надаються_ наступні можливості:

* [.underline]#Реєстрація даних метрик увімкнена за замовчуванням#: це означає, що система автоматично реєструє та відстежує важливі метрики виконання, такі як продуктивність, навантаження, час відгуку та інші відомості про стан системи.
* [.underline]#Налаштування збору та зберігання метрик в Prometheus#: система автоматично налаштовується на збір та зберігання метрик у Prometheus, гарантуючи безперебійний доступ до цих даних для аналізу та оптимізації.
* [.underline]#Встановлення та налаштування Grafana-дашборда#: встановлення та налаштування Grafana-дашборда дозволяє адміністраторам легко візуалізувати метрики, відстежувати зміни в реальному часі та отримувати сповіщення про можливі проблеми або аномалії. Це полегшує роботу з метриками та дозволяє оперативно реагувати на зміни в системі.

== Загальний вигляд дашборда

Щоб переглянути дашборд, виконайте наступні кроки:

. Увійдіть до адміністративної панелі *Control Plane*.

. Оберіть ваш реєстр > `Редагувати` > +++<b style="font-weight: 700">Швидкі посилання</b>+++.
+
TIP: Детальніше про швидкі посилання див. на сторінці xref:admin:registry-management/control-plane-quick-links.adoc[].

. Перейдіть за посиланням до вебінтерфейсу моніторингу Платформи -- *Grafana*.
+
image:registry-admin/grafana/bpms/grafana-bpms-1.png[]

. Виконайте вхід за допомогою опції *`Sign in with OAuth`*.
+
image:registry-admin/grafana/bpms/grafana-bpms-2.png[]

. На боковій панелі зліва оберіть *Manage* > *Dashboards* > *Go to folder*.
+
image:registry-admin/grafana/bpms/grafana-bpms-3.png[]

. Відкрийте дашборд *Camunda Metrics Dashboard*.
+
Тут ви можете ознайомитися із групами метрик, представленими на дашборді.
+
image:registry-admin/grafana/bpms/grafana-bpms-4.png[]
+
Метрики *Camunda Metrics* поділяються на декілька груп, про що детальніше описано у наступних підрозділах.

=== Загальні метрики Process Engine

[.underline]#Загальні метрики Process Engine# надають важливу інформацію про стан і функціонування Process Engine, дозволяючи адміністраторам контролювати та оптимізувати роботу системи.

Ці метрики включають наступні показники: ::

* *User count*: показує загальну кількість зареєстрованих користувачів в системі.
* *Authorization count*: відображає кількість наданих дозволів на виконання певних дій користувачам або групам користувачів.
* *Active deployments*: показує кількість поточних розгортань процесів у системі.
* *Active process definitions*: відображає кількість унікальних визначень бізнес-процесів, які наразі активні в системі.
+
[NOTE]
====
[%collapsible]
.Що таке Active process definition?
=====
*Active process definition* не означає, що процес вже запущений у системі, але він доступний для запуску нових екземплярів процесів. Запуск процесу зі стану Active process definition створює новий екземпляр процесу, який виконується в системі.
=====
====

image:registry-admin/grafana/bpms/grafana-bpms-5.png[]

=== Загальні метрики бізнес-процесів

[.underline]#Загальні метрики бізнес-процесів# показують статистику по запуску, виконанню та завершенню бізнес-процесів.

Ці метрики включають наступні показники: ::

* *Root Process Instances*: основні екземпляри процесів, які представляють окремі випадки виконання бізнес-процесів в Camunda. Вони відрізняються від підпроцесів, які запускаються в рамках інших процесів.
+
** *Camunda Total Root Process Instances*: показує загальну кількість створених основних екземплярів процесів, включаючи активні, призупинені, завершені та зупинені.
** *Camunda Active Root Process Instances*: відображає кількість основних екземплярів процесів, які зараз активні та виконуються в системі.
** *Camunda Suspended Root Process Instances*: показує кількість основних екземплярів процесів, які були призупинені та наразі не виконуються.
** *Camunda Completed Root Process Instances*: відображає кількість основних екземплярів процесів, які успішно завершили своє виконання.
** *Camunda Terminated Root Process Instances*: показує кількість основних екземплярів процесів, які були зупинені до завершення, зазвичай через виняткові ситуації або адміністративні дії.

+
image:registry-admin/grafana/bpms/grafana-bpms-6.png[]
+
* *User Tasks*: користувацькі задачі, які вимагають взаємодії з користувачами у процесі виконання бізнес-процесів. Вони дозволяють адміністраторам стежити за робочим навантаженням користувачів та контролювати процес прийняття рішень.

** *Camunda Total User Tasks*: показує загальну кількість користувацьких задач, створених у рамках всіх процесів.
** *Camunda Assigned User Tasks*: відображає кількість користувацьких задач, які були призначені певним користувачам або групам користувачів для виконання.
** *Camunda Unassigned User Tasks*: показує кількість користувацьких задач, які наразі не призначені жодному користувачеві або групі користувачів. Ці завдання можуть бути призначені у майбутньому або виконані за допомогою автоматичних правил.

+
+
image:registry-admin/grafana/bpms/grafana-bpms-6-1.png[]
image:registry-admin/grafana/bpms/grafana-bpms-6-2.png[]

=== Загальні метрики обміну повідомленнями в рамках бізнес-процесу

[.underline]#Загальні метрики обміну повідомленнями в рамках бізнес-процесу#: ці метрики показують інформацію про роботу з повідомленнями в межах бізнес-процесів, включаючи активні підписки на події та обробку повідомлень.

Ці метрики включають наступні показники: ::

* *Active Signal Event Subscriptions*: показує кількість активних підписок на події сигналів, які використовуються для координації між різними процесами або елементами в межах одного процесу.
* *Active Compensate Event Subscriptions*: відображає кількість активних підписок на події компенсації, які використовуються для відкликання дій у процесі у разі виникнення виняткових ситуацій.
* *Active Conditional Event Subscriptions*: показує кількість активних підписок на умовні події, які використовуються для реагування на зміни стану виконання процесу або зовнішніх факторів.
* *Active Message Event Subscriptions*: відображає кількість активних підписок на події повідомлень, які дозволяють обмінюватися повідомленнями між різними процесами або компонентами.

image:registry-admin/grafana/bpms/grafana-bpms-7.png[]

=== Загальні метрики асинхронного виконання задач бізнес-процесу

[.underline]#Загальні метрики асинхронного виконання задач бізнес-процесу#: надають статистику з асинхронного виконання задач, як-от кількість активних, відкладених та завершених задач.

Ці метрики включають наступні показники: ::

* *Message Jobs*: показує кількість активних задач та задач в очікуванні, пов'язаних з обробкою повідомлень у рамках бізнес-процесів.
* *Timer Jobs*: відображає кількість активних задач та задач в очікуванні, пов'язаних з таймерами, які використовуються для контролю часових інтервалів та інших часових обмежень у рамках бізнес-процесів.
* *Suspended Jobs*: показує кількість призупинених задач, які наразі не виконуються з різних причин, таких як затримка або адміністративні дії.
* *Executable Jobs*: відображає кількість задач, які готові до виконання або очікують на вільний робочий потік для свого виконання.
* *Failed Jobs*: показує кількість задач, які не змогли успішно виконатися через виняткові ситуації, помилки у конфігурації або інші проблеми.

image:registry-admin/grafana/bpms/grafana-bpms-8.png[]

=== Видалення історичних даних виконання бізнес-процесів

[.underline]#Видалення історичних даних виконання бізнес-процесів#: містить метрики, пов'язані з видаленням історичних даних про виконання бізнес-процесів для оптимізації ресурсів системи.

Ці метрики включають наступні показники: ::

* *Removed process instances*: показує кількість видалених історичних екземплярів процесів у рамках системи. Видалення історичних даних виконання бізнес-процесів допомагає забезпечити оптимальне використання ресурсів, покращуючи продуктивність та зменшуючи навантаження на систему.

* *Removed tasks*: відображає кількість видалених історичних завдань у рамках бізнес-процесів. Видалення історичних завдань також сприяє оптимальному використанню ресурсів та забезпеченню стабільної роботи системи, оскільки зменшує навантаження на базу даних та інші компоненти.

image:registry-admin/grafana/bpms/grafana-bpms-9.png[]