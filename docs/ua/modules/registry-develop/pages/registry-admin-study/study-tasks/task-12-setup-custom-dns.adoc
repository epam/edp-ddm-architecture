= Завдання 12. Налаштування власного DNS-імені для Кабінету посадової особи
include::platform:ROOT:partial$templates/document-attributes/default-set-ua.adoc[]

== Мета завдання

Виконання цього завдання має на меті: ::

* [*] Навчитись налаштовувати власне DNS-ім’я для кабінету посадової особи.

== Передумови

. Ознайомтеся з інструкцією
xref:admin:registry-management/custom-dns/cp-custom-dns-portals.adoc[].

. Використати сертифікат: _~/admintask/admin-taskkey.pem_
TO DO:

== Процес виконання завдання

[IMPORTANT]
Надані дані для використання є тимчасовими, як приклад для відображення дій, необхідних для встановлення власного `DNS` імені.

[NOTE]
Основний флоу встановлення власного `DNS` імені для кабінету користувача:

* Потрібне зареєстроване доменне ім'я, яке буде використовуватись для входу у кабінет користувача;
* Потрібен валідний `SSL` сертифікат (потрібно мати сам ключ, сертифікат та `fullchain` дані);
* Створіть `CNAME`-запис, який буде вказувати на `Load Balancer` прив’язаного до `OpenShift` роутера;
* Додайте нову адресу до `Whitelist` віджету.

NOTE: У разі необхідності, зверніться до Технічного адміністратора інстансу для отримання актуальних даних для використання.

. Перейдіть до редагування реєстру та оберіть `DNS`.
+
image:registry-develop:registry-admin-study/task-set-up-dns-name/01-edit-registry.png[]

. Заповніть, використовуючи наступні дані:

* +++<b style="font-weight: 600">Доменне імʼя для кабінету посадової особи:</b>+++ `officer.admin-task.pp.ua`;
* +++<b style="font-weight: 600">SSL-сертифікат для кабінету чиновника (розширення .pem):</b>+++  Використайте завантажений файл _admin-taskkey.pem_.
+
[IMPORTANT]
Це тимчасові дані, надані для використання як приклад для відображення дій, необхідних для встановлення власного `DNS` імені.

. Натисніть +++<b style="font-weight: 600">Підтвердити</b>+++, щоб зберегти налаштування.

. Перевірте зміни у запиті на оновлення.
+
image:registry-develop:registry-admin-study/task-set-up-dns-name/02-update-request.png[]

. Перевірте зміни у консолі `openshift` – запис повинен мати оновлене значення.
+
image:registry-develop:registry-admin-study/task-set-up-dns-name/03-openshift-console.png[]
+
[NOTE]
Зазначена адреса була попередньо додана до `Whitelist` віджету eu.iit.com.ua.
У разі необхідності використання іншої адреси, потрібно додати таку адресу окремо, використовуючи xref:admin:registry-management/custom-dns/cp-custom-dns-portals.adoc[інструкцію].
TO DO: add ancor?

. Перейдіть за посиланням.
+
image:registry-develop:registry-admin-study/task-set-up-dns-name/04-user-portal.png[]

NOTE: Після налаштування користувач має змогу автентифікуватись у кабінеті користувачаб використовуючи власне, або коротке доменне ім’я.

[NOTE]
Для застосування цього функціоналу на прод-середовищі (поза межами завдання) необхідно:

. Мати `domain name` для зміни та `SSL-сертифікат`;
. Створити `CNAME-запис`, який буде вказувати на `Load Balancer` прив’язаного до `OpenShift` роутера;
. Додати нову адресу до `Whitelist` віджету eu.iit.com.ua.



