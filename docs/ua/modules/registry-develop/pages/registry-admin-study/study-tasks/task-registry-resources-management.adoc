= Завдання. Керування ресурсами реєстру
include::platform:ROOT:partial$templates/document-attributes/default-set-ua.adoc[]

== Мета завдання

Виконання цього завдання має на меті: ::

* [*] Навчитись налаштовувати окремі сервіси реєстру на прикладі відключення `sidecar`- контейнера `istio` для поди криптосервісу `digital-signature-ops`.

== Передумови

. Ознайомтеся із можливими доступними для налаштування сервісами та процедурою внесення змін
 xref:admin:registry-management/control-plane-registry-resources.adoc[].


== Процес виконання завдання

=== Налаштування сервісів реєстру

NOTE: Деякі ключі, особливо тестові, можуть не працювати із включеним `istio`, тому потрібно вимкнути `sidecar`- контейнер `istio` для поди криптосервісу `digital-signature-ops`.


Для налаштування сервісу `digital-signature-ops` реєстру використовуйте інструкцію, наведену нижче.

. Перевірте поточний стан та наявність `sidecar`- контейнеру `istio` у консолі `OKD`:
+
image:registry-develop:registry-admin-study/task-registry-resource-management/01-check-current state.png[]
+
image:registry-develop:registry-admin-study/task-registry-resources-management/02-check-istio-availability.png[]

. Вимкніть `sidecar`-контейнер `istio` для поди `digital-signature-ops`, для цього необхідно виконати наступні кроки:
* Перейдіть до редагування реєстру до вкладки +++<b style="font-weight: 600">Ресурси реєстру</b>+++.
+
image:registry-develop:registry-admin-study/task-registry-resources-management/03-registry-resources-editing.png[]
* Знайдіть сервіс `digital-signature-ops` та вимкніть `istio` `sidecar` - контейнер.
+
image:registry-develop:registry-admin-study/task-registry-resources-management/04-istio-enabled.png[]
* Підтвердьте зміни, відкрийте +++<b style="font-weight: 600">Запити на оновлення</b>+++ та схваліть новий запит.
+
image:registry-develop:registry-admin-study/task-registry-resources-management/05-change-request-confirming.png[]
* Перейдіть до Jenkins.
+
image:registry-develop:registry-admin-study/task-registry-resources-management/06-configuration.png[]
* Спостерігайте за процесом виконання пайплайну MASTER-Build-<ім’я реєстру>.
+
image:registry-develop:registry-admin-study/task-registry-resources-management/07-jenkins.png[]
* Після завершення процесу виконання зі статусом `SUCCESS` перевірте поду 'digital-signature-ops' у консолі 'OKD'.
+
image:registry-develop:registry-admin-study/task-registry-resources-management/08-check-success-status.png[]
+
image:registry-develop:registry-admin-study/task-registry-resources-management/09-okd-console.png[]
* Перейдіть в `Pod details>Details>Containers`.
+
image:registry-develop:registry-admin-study/task-registry-resources-management/10-check-containers.png[]

[NOTE]
====
Результатом цього підзавдання буде виконання у поді тільки контейнера крипто сервісу, а контейнер іstio має зникнути, так як його було вимкнено.

[%interactive]
* [ ] успішний білд;
* [ ] перевірка поду;
* [ ] перевірка _allowed keys.yml_.
====
