//:imagesdir: ../../../../../images
= Підсистема аналітичної звітності реєстру

== Загальний опис

Підсистема, призначенням якої є візуалізація даних реєстру у вигляді інформаційних панелей (_дашбордів_) змодельованих за допомогою _Підсистеми моделювання регламенту реєстру_.

Інформаційні панелі можуть складатися з табличних форм представлення даних, діаграм та графіків, елементів фільтрації та іншими елементами управління відображенням даними.

== Функції підсистеми

* Перегляд та маніпуляція відображенням даних реєстру на інформаційних панелях
* Перегляд та аналіз даних журналу подій аудиту реєстру на інформаційних панелях

== Технічний дизайн підсистеми

image::architecture/registry/operational/reporting/reporting.drawio.svg[float="center",align="center"]

== Складові підсистеми

[options="header",cols="a,a,a,a"]
|===
|Назва компоненти|Представлення в реєстрі|Походження|Призначення

| _Сервер API Redash_
|`redash-viewer`
| 3rd-party
| Надання користувацького Web UI та адміністративного API

| _Обробник черги інтерактивних запитів_
|`redash-viewer-adhocworker`
| 3rd-party
| Обробка інтерактивних запитів до джерел даних

| _Обробник черги запитів за розкладом_
|`redash-viewer-scheduler`
| 3rd-party
| Обробка запитів до джерел даних за розкладом

| _Збирач метрик_
|`redash-exporter`
| 3rd-party
| Збір метрик для моніторингу і їх публікація у форматі Prometheus

| _Сховище черги запитів_
|`redash-viewer-redis-master`
| 3rd-party
| Управління чергою запитів

| _Сховище метаданих_
|`redash-viewer-postgresql`
| 3rd-party
| Зберігання метаданих Redash (запитів, інформаційних панелей, налаштувань тощо)

|===


== Джерела даних

|===
|Назва компоненти|Представлення в реєстрі

|_Аналітична БД реєстру_
a|
* `analytical:registry`

|_Операційна БД подій аудиту_
a|
* `operational:audit`
|===

== Технологічний стек

* xref:arch:architecture/platform-technologies.adoc#redash[Redash]
* xref:arch:architecture/platform-technologies.adoc#python[Python]
* xref:arch:architecture/platform-technologies.adoc#reactjs[ReactJS]
* xref:arch:architecture/platform-technologies.adoc#postgresql[PostgreSQL]
* xref:arch:architecture/platform-technologies.adoc#redis[Redis]
* xref:arch:architecture/platform-technologies.adoc#helm[Helm]

== Атрибути якості підсистеми

=== _Observability_

_Підсистема аналітичної звітності реєстру_ підтримує журналювання та збір метрик продуктивності для подальшого аналізу через веб-інтерфейси відповідних підсистем Платформи.

[TIP]
--
Детальніше з дизайном підсистем можна ознайомитись у відповідних розділах:

* xref:arch:architecture/platform/operational/logging/overview.adoc[]
* xref:arch:architecture/platform/operational/monitoring/overview.adoc[]
--

=== _Security_

_Підсистема аналітичної звітності реєстру_ надає доступ тільки користувачам які автентифіковані та авторизовані xref:architecture/platform/operational/user-management/overview.adoc[підсистемою управління користувачами та ролями].

Підсистема обмежує доступ до інформаційних панелей та до джерел даних на основі рольової моделі. Таким чином користувач може бачити тільки ті інформаційні панелі та дані тільки з тих джерел які дозволені для його ролі. 