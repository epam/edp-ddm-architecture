= Підсистема симуляції API зовнішніх систем

[NOTE]
--
Сторінка технічної документації у процесі розробки...
--

== Загальний опис

Підсистема, призначенням якої є симуляція поведінки зовнішніх систем згідно налаштувань цифрового регламенту реєстру та необхідних для його операційної діяльності зовнішніх інтеграцій.

Дозволяє забезпечити тимчасову ізоляцію реєстру з ціллю спрощення процесів розробки та тестування регламенту.

[TIP]
--
Детальніше з дизайном підсистем налаштування правил мокування зовнішніх інтеграцій можна ознайомитись у відповідних розділах:

* xref:arch:architecture/registry/administrative/regulation-management/overview.adoc[]
* xref:arch:architecture/registry/administrative/regulation-publication/overview.adoc[]
--

== Функції підсистеми

* Симуляція API зовнішніх систем згідно налаштувань цифрового регламенту реєстру
* Симуляція віджету підпису даних для використання в кабінетах користувачів

== Технічний дизайн підсистеми

На даній діаграмі зображено компоненти, які входять в _Підсистема симуляції API зовнішніх систем_ та їх взаємодію з іншими підсистемами в рамках реалізації функціональних сценаріїв.

image::arch:architecture/registry/operational/ext-systems-simulation/ext-systems-simulation-design.svg[float="center",align="center"]

_Підсистема симуляції API зовнішніх систем_ представленя двома компонентами, які відповідають за мокування основних інтеграційних сценаріїв реєстру з зовнішніми системами:

* _Тестовий віджет симуляції підпису даних_ - статична копія віджету підпису, яка обслуговується веб-сервером _Nginx_.
* _Тестовий сервер симуляції API зовнішніх систем_ - Сервер мокування API на базі https://wiremock.org/[Wiremock], який підтримує мокування _API_ з використанням _REST_ та _SOAP_ протоколів інтеграції.

== Складові підсистеми

|===
|Назва компоненти|Представлення в реєстрі|Походження|Репозиторій|Призначення

|_Тестовий віджет симуляції підпису даних_
|`sign-widget-mock`
|origin
|https://gerrit-mdtu-ddm-edp-cicd.apps.cicd2.mdtu-ddm.projects.epam.com/admin/repos/mdtu-ddm/low-code-platform/mock/sign-widget-mock[gerrit:/mdtu-ddm/low-code-platform/mock/sign-widget-mock]
|Статична копія віджету підпису

|_Тестовий сервер симуляції API зовнішніх систем_
|`wiremock`
|3rd-party
|https://gerrit-mdtu-ddm-edp-cicd.apps.cicd2.mdtu-ddm.projects.epam.com/admin/repos/mdtu-ddm/general/wiremock[gerrit:/mdtu-ddm/general/wiremock]
|Сервер мокування API зовнішніх систем з підтримкою декларативного підходу до опису контрактів

|_Тестовий мок-сервіс інтеграції з ЄДР_
|`trembita-edr-registry-mock`
|origin [_deprecated_]
|https://gerrit-mdtu-ddm-edp-cicd.apps.cicd2.mdtu-ddm.projects.epam.com/admin/repos/mdtu-ddm/low-code-platform/mock/trembita-edr-registry-mock[gerrit:/mdtu-ddm/low-code-platform/mock/trembita-edr-registry-mock]
|Сервіс мокування SOAP API реєстру ЄДР

|_Тестовий мок-сервіс інтеграції з ДРАЦС_
|`trembita-dracs-registry-mock`
|origin [_deprecated_]
|https://gerrit-mdtu-ddm-edp-cicd.apps.cicd2.mdtu-ddm.projects.epam.com/admin/repos/mdtu-ddm/low-code-platform/mock/trembita-dracs-registry-mock[gerrit:/mdtu-ddm/low-code-platform/mock/trembita-dracs-registry-mock]
|Сервіс мокування SOAP API реєстру ДРАЦС

|_Тестовий мок-сервіс інтеграції з ЄІБДВПО_
|`trembita-idp-mock-server`
|origin [_deprecated_]
|https://gerrit-mdtu-ddm-edp-cicd.apps.cicd2.mdtu-ddm.projects.epam.com/admin/repos/mdtu-ddm/low-code-platform/mock/trembita-idp-mock-server[gerrit:/mdtu-ddm/low-code-platform/mock/trembita-idp-mock-server]
|Сервіс мокування SOAP API ЄІБДВПО

|===

== Технологічний стек

При проектуванні та розробці підсистеми, були використані наступні технології:

* xref:arch:architecture/platform-technologies.adoc#javascript[JavaScript]
* xref:arch:architecture/platform-technologies.adoc#java[Java]
* xref:arch:architecture/platform-technologies.adoc#spring[Spring]
* xref:arch:architecture/platform-technologies.adoc#spring-boot[Spring Boot]
* xref:arch:architecture/platform-technologies.adoc#spring-cloud[Spring Cloud]
* xref:arch:architecture/platform-technologies.adoc#wiremock[Wiremock]

== Атрибути якості підсистеми

=== _Testability_

_Підсистема симуляції API зовнішніх систем_ забезпечує можливості по розробці та тестування реєстру в ізоляції від зовнішніх систем.

Налаштування правил мокування відбувається на рівні регламенту реєстру через _Підсистему моделювання регламенту реєстру_ та доступне для тимчасового використання через _Підсистему управління Платформою та Реєстрами_.