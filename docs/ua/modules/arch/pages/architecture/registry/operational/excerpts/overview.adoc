//:imagesdir: ../../../../../images
= Підсистема формування витягів реєстру

[NOTE]
--
Сторінка технічної документації у процесі розробки...
--

== Загальний опис

Підсистема, призначенням якої є формування витягів з даних реєстру з бізнес-процесів на базі налаштованих шаблонів та довгострокове їх зберігання.

== Функції підсистеми

* Формування витягів з даними реєстру на базі налаштованих шаблонів
* Перевірка статусу формування витягу
* Отримання сформованого користувачем витягу з файлового сховища
* Підписання згенерованих витягів

== Технічний дизайн підсистеми

image::architecture/registry/operational/excerpts/excerpt-overview.svg[float="center",align="center"]

== Складові підсистеми

|===
|Назва компоненти|Представлення в реєстрі|Походження|Репозиторій|Призначення

|_Сервіс управління витягами_
|`excerpt-service-api-deployment`
|origin
|https://github.com/epam/edp-ddm-excerpt-service-api
|Надання REST API для створення заявок на витяг, отримання статусу заявок та завантаження витягів

|_Сервіс генерації PDF-витягів_
|`excerpt-worker-deployment`
|origin
|https://github.com/epam/edp-ddm-excerpt-worker
|Генерація витягів у форматі `pdf`

|_Сервіс генерації CSV-витягів_
|`excerpt-worker-csv-deployment`
|origin
|https://github.com/epam/edp-ddm-excerpt-worker-csv
|Генерація витягів у форматі `csv`

|_Сервіс генерації DOCX-витягів_
|`excerpt-worker-docx-deployment`
|origin
|https://github.com/epam/edp-ddm-excerpt-worker-docx
|Генерація витягів у форматі `docx`

|_Утиліта генерації історичних витягів_
|`history-excerptor-job`
|origin
|https://github.com/epam/edp-ddm-history-excerptor

https://github.com/epam/edp-ddm-history-excerptor-chart
|Генерація історичних витягів

|_Бібліотека спільних класів DTO_
|-
|origin
|https://github.com/epam/edp-ddm-excerpt-model
|Бібліотека що містить усі загальні класи DTO, необхідні для комунікації сервісів витягів між собою. 

|_Операційна БД витягів_
|`operational:excerpt`
|3rd-party
|-
|Зберігання стану запитів на формування витягів

|_Операційне сховище файлів витягів_
|`ceph:file-excerpt-bucket`
|3rd-party
|-
|Зберігання згенерованих витягів

| _Операційне сховище підписаних витягів_
|`ceph:excerpt-signature-bucket`
|3rd-party
|-
|Зберігання підписаних витягів
|===

== Атрибути якості підсистеми

=== _Observability_

_Підсистема формування витягів реєстру_ підтримує журналювання та збір метрик продуктивності для подальшого аналізу через веб-інтерфейси відповідних підсистем Платформи.

[TIP]
--
Детальніше з дизайном підсистем можна ознайомитись у відповідних розділах:

* xref:arch:architecture/platform/operational/logging/overview.adoc[]
* xref:arch:architecture/platform/operational/monitoring/overview.adoc[]
--

=== Auditability

_Підсистема формування витягів реєстру_ фіксує значимі технічні та бізнес події, пов'язані з експлуатацією системи кінцевими користувачами використовуючи xref:arch:architecture/registry/operational/audit/overview.adoc[підсистему журналювання подій аудиту].