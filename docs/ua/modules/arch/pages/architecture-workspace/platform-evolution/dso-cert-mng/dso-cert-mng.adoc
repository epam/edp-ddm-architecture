= Керування сертифікатами АЦСК для Сервісу цифрових підписів


|===
|Варіант|Опис|Плюси|Мінуси|Ціна

|Push сертифікатів на файлову систему
|Монтуємо замість секрету PV по тому ж шляху. В пайплайні по розгортанню реєстру оновлюємо сертифікати на файловій
системі
|Дешево. Швидко
|Прозорість налаштування. Може бути не очевидно, що для коректної роботи сервісу треба ще щось зробити руками на
файловій системі, хоча по факту зараз теж саме можна сказати і про секрети
|XS

|Pull сертифікатів по публічній урлі
|Вказуємо в конфігурації УРЛ по якій скачати сертифікати при старті застосунку. Так само працює віджет
|Мінімум змін. Не треба залучати додаткові компоненти. Локальна розробка не відрізняється від запуску на оточенні
a|
 * Залежність від 3rd party сервісів. Якщо сервер з сертифікатами відпаде, сервіс dso не зможе стартанути.
Але якщо він відпаде, віджет так само не буде працювати
 * Додаткові динамічні network policy.
 * Складність використання кастомних ланцюжків. Так потреба виникла тільки тоді, коли виникла помилка з великим розміром
секрету
|S

|Pull сертифікатів по публічній/приватній урлі + управління сертифікатами на платформі
|Додаємо можливість адміністратору платформи вказати ланцюжки сертифікатів для платформи. Для них формується урл, який
вказується в конфігурації dso
|Адресування мінусів з попереднього пункту. Незалежність від 3rd party сервісів. Статичні network policy. Можливість
формування кастомних ланцюжків. Можливо розбити на 2 етапи
|Максимум змін, додаємо новий функціонал щоб адресувати ризик з нестабільністтю сервера з сертифікатами (спірний момент)
|M

|Pull сертифікатів з vault/ceph
|На оточенні dso при старті забирає сертифікати з вказанням кредів доступу до vault/ceph
|Відносно дешеве рішення з точки зору розгортання. Зрозумілий підхід
|Ускладнення локального девелопменту. Або тримати декілька стратегій отримання сертифікатів
|S

|Pull сертифікатів на файлову систему в ініт контейнері
|init контейнер на оточенні викачує сертифікати з урли/vault/ceph і скаладає на файлову систему
|Жодних змін в DSO. Локально розробка ніяк не змінюється.
a|
* Прозорість налаштування. Може бути не очевидно, що для коректної роботи сервісу треба ще щось зробити руками на
файловій системі, хоча по факту зараз теж саме можна сказати і про секрети
* Додаткова розробка init контейнеру
|M

|===