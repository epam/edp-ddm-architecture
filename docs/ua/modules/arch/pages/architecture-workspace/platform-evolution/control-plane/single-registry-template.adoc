= Мінімізація кількості шаблонів розгортання реєстру

== Загальний опис

== Актори та ролі користувачів
* Технічний адміністратор Платформи

== Загальні принципи та положення

== Функціональні сценарії

== Поточна реалізація

== Цільовий дизайн

=== Цільові кластери

=== Оточення для розробки CICD2

=== Перелік параметрів для винесення на рівень адмін-консолі
[cols="5*",options="header"]
.spec parameters
|===
|Поле|Тип|Значення за замовчуванням|Приналежність|Призначення

|`griada`
|<<griada,object>>
|-
|Registry values.yaml
|Налаштування програмно-апаратного криптомодуля "Гряда"

|`global`
|<<global,object>>
|-
|Registry values.yaml

Cluster values.yaml
|Глобальні параметри налаштувань реєстрів або Платформи

|===

[[griada]]
[cols="4*",options="header"]
.griada object
|===
|Поле|Тип|Значення за замовчуванням|Призначення

|`enabled`
|string
|Пусте значення. Встановлюється в залежності від попередньо заданого типу носія ключа на табі "Дані про ключ". Файловий носій
— `false`, апаратний — `true`.
|Поле для вказання, чи використовується апаратний ключ для реєстру.

|`ip`
|string
|Пусте значення. Задається з поля `Хост ключа` на табі "Дані про ключ" при вибраному апаратному носію ключа.
|Поле для вказання ip-адреси програмно-апаратного криптомодуля "Гряда".

|`port`
|string
|Пусте значення. Задається з поля `Порт ключа` на табі "Дані про ключ" при вибраному апаратному носію ключа.
|Поле для вказання порту програмно-апаратного криптомодуля "Гряда".

|===

[[global]]
[cols="5*",options="header"]
.global object
|===
|Поле|Тип|Значення за замовчуванням|Приналежність|Призначення

|`geoServer`
|bool
|`false`
|Registry helmfile.yaml
|Поле для вказання, чи має бути розгорнута _підсистема управління геоданими_.

|`deploymentMode`
|string
|`development`
|Registry values.yaml

Cluster values.yaml
|Поле для вказання режиму розгортання реєстру. Дозволені значення `development` або `production`.

|`excludePortals`
|list
|Пусте значення.
|Registry values.yaml
|Поле для вказання, які портали не мають бути розгорнуті. За замовчуванням розгортаються всі. Дозволені значення в листі `citizen-portal`, `officer-portal`, `admin-portal`.

|===

WARNING: Параметр `griada.url` не виноситься на рівень адмін-консолі за відсутністю кейсів використання, а залишається доступним для зміни через комміт в Gerrit.
При цьому, Griada ServiceEntry не повинен створюватись, якщо url не заданий явно.

=== Компоненти системи та їх призначення в рамках дизайну рішення

[cols="3*",options="header"]
.Компоненти підсистеми
|===
|Компонент|Службова назва|Призначення / Суть змін

|-
|-
|-

|===

== Високорівневий план розробки
=== Технічні експертизи
* _DevOps_
* _FE_

=== План розробки
