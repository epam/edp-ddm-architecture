= Адаптація "Підсистеми розгортання регламенту реєстру"

[NOTE]
--
В даній статті фіксується обсяг змін що були виконані для реалізації підтримки Платформою регіонів обслуговування.
--

== Опис

В рамках адаптації підсистеми розгортання потрібно внести зміни в пайплайн публікації для можливості обробки структури
цифрового регламенту специфічного для глобального регіону

== Епіки

* https://jiraeu.epam.com/browse/MDTUDDM-29663[_[BN-08-03\][S23\][OSS\] Адаптація "Підсистеми розгортання регламенту реєстру" згідно налаштованого регіону обслуговування_]

== Функціональні сценарії

* Розгортання регламенту реєстру
* Валідація регламенту реєстру на етапі код-ревью
* Валідація регламенту реєстру на етапі розгортання
* Перегляд аудит звітів у _Веб-інтерфейсі перегляду звітів_ (_redash-server_)

== Зміни в підсистемах

|===
|Підсистема|Компонент|Зміна
.2+|Підсистема розгортання регламенту реєстру
.2+|Пайплайни розгортання регламенту (_registry-regulations-publications-pipelines_)
|Отримання змінної про регіон розгортання _global.region_ з хелм чарту _registry-configuration_

|Не передавати параметр _diia-notification-template-folder_ при валідації регламенту в утіліту

|===

== Поза скоупом

|===
|Підсистема|Компонент|Зміна|Коментар

|Підсистема моделювання регламенту реєстру
|Git репозиторій Цифрового регламенту реєстру (_gerrit:registry-regulations_)
|Розділення конфігурацій для запуску БП через Трембіту та іншими зовнішніми системами по REST протоколу
|В рамках епіку https://jiraeu.epam.com/browse/MDTUDDM-29207[Генералізація складової регламенту управління інтеграціями "bp-trembita"]

.10+|Підсистема розгортання регламенту реєстру
.3+|Утиліта валідації регламенту (_registry-regulations-validator-cli_)

|Зміна правил валідації директорії bp-trembita і файлу bp-trembita/external-system.yml
|В рамках епіку https://jiraeu.epam.com/browse/MDTUDDM-29207[Генералізація складової регламенту управління інтеграціями "bp-trembita"]

|Перевірка поштової адреси служби підтримки відносно заборонених доменів
|В рамках епіку https://jiraeu.epam.com/browse/MDTUDDM-20362[Розширення глобальних налаштувань для blacklist email]

|Умовне включення валідаторів, пов'язаних з перевіркою Дія нотифікацій
|Поза скоупом 1 версії адаптації

.2+|Пайплайни розгортання регламенту (_registry-regulations-publications-pipelines_)
|Адаптація кроку _create-trembita-business-process_
|В рамках епіку https://jiraeu.epam.com/browse/MDTUDDM-29207[Генералізація складової регламенту управління інтеграціями "bp-trembita"]

|Видалення розгортання проекту _registry-soap-api_
|Поза скоупом 1 версії адаптації

|Агент розгортання регламенту (_dataplatform-jenkins-agent_)
|Налаштування локалі для Docker контейнеру. Впливає на формат технічних логів
|Поза скоупом 1 версії адаптації

.2+|Утиліта генерації сервісів доступу до даних реєстру (_service-generation-utility_)
|Вимкнення генерації коду проекту _registry-soap-api_
|Поза скоупом 1 версії адаптації

|Перейменування клієнта trembita-invoker для вхідних викликів зовнішніх систем
|В рамках епіку https://jiraeu.epam.com/browse/MDTUDDM-29207[Генералізація складової регламенту управління інтеграціями "bp-trembita"]

|Утиліта публікації шаблонів нотифікацій (_notification-template-publisher_)
|Умовне включення бінів в контекст застосунку пов'язаних з Дія нотифікаціями
|Поза скоупом 1 версії адаптації

|Утиліта публікації аналітичних звітів та витягів (_report-publisher_)
|Переклад звітів аудиту і використання англійської мови в глобальному регіоні
|В рамках епіку https://jiraeu.epam.com/browse/MDTUDDM-29883[Локалізація службових інформаційних панелей]

|===

== Вплив на підсистеми

|===
|Підсистема|Компонент|Опис
|Підсистема моделювання регламенту реєстру
|Веб-інтерфейс моделювання регламенту (_admin-portal_)
|Зміна правил валідації регламенту
|===

== Перелік git-комітів

Для відстеження MR зі змінами використовувати https://gerrit-mdtu-ddm-edp-cicd.apps.cicd2.mdtu-ddm.projects.epam.com/q/status:open+-is:wip+MDTUDDM-???[фільтр].