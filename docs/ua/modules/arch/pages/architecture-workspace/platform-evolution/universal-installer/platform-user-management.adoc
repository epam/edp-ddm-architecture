= Адаптація "Підсистеми управління користувачами та ролями"

[NOTE]
--
В даному розділі ми фіксуємо обсяг змін, які було виконано для реалізації підтримки Платформою регіонів обслуговування:

* Епіки (для відслідковування комітів в майбутньому)
* Функціональні сценарії
* Підсистеми, які підлягають зміні
* Компоненти підсистем, які підлягають зміні
* Суть змін / перелік дизайн-рішень у вигляді баллет-поінтів
--

== Епіки

* _[BN-08-03][S23][OSS] Адаптація "Підсистеми управління користувачами та ролями" згідно налаштованого регіону обслуговування_

== Автентифікація користувачів кабінетів

=== Автентифікація

У разі налаштування екземпляра Платформи на обслуговування _global_ регіону, для автентифікації користувачів має використовуватись _Browser Authentication_.

image::architecture-workspace/platform-evolution/universal-installer/authentication.png[]

=== Самореєстрація

image::architecture-workspace/platform-evolution/universal-installer/self-registration.png[]

У разі, якщо для реєстру, який обслуговує _global_ регіон, налаштовано Самореєстрацію, має використовуватись стандартний механізм реєстрації Keycloak.

Додатково мають бути налаштовані Attribute Mappers на рівні клієнтів для пропагації в токен службових атрибутів з тестовими значеннями (тип _Hardcoded Claim_):

* _citizen-portal_:
** drfo
** fullName

* _officer-portal_:
** drfo
** edrpou
** fullName