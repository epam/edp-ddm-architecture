= Адаптація "Підсистеми моделювання регламенту реєстру"

[NOTE]
--
В даній статті фіксується обсяг змін що були виконані для реалізації підтримки Платформою регіонів обслуговування.
--

== Опис
В рамках адаптації вимикається набір інструментів, які можна використовувати для моделювання регламенту, який специфічний
для українського регіону у _Веб-інтерфейсі моделювання регламенту_ (делегати БП, JUEL функції тощо)

== Епіки

* _https://jiraeu.epam.com/browse/MDTUDDM-29659[[BN-08-03\][S23\][OSS\] Адаптація "Підсистеми моделювання регламенту реєстру" згідно налаштованого регіону обслуговування]_

== Функціональні сценарії
* Моделювання бізнес-процесів регламенту реєстру
* Моделювання дата-моделі регламенту реєстру
* Створення облікових записів надавачів послуг через csv файл

== Зміни в підсистемах

|===

|Підсистема|Компонент|Зміна

.4+|Підсистема моделювання регламенту реєстру
.4+|Веб-інтерфейс моделювання регламенту (_admin-portal_)

|Вимкнення JUEL функцій зі списку підказок в Groovy скриптах, які специфічні для українського регіону
|Вимкнення шаблонів елементів, які специфічні для українського регіону
|Адаптація окремих шаблонів елементів, які специфічні для українського регіону
|Вимкнення розділу "Управління користувачами"

|===

=== Перелік шаблонів елементів БП для вимкнення в глобальному регіоні

* Всі deprecated делегати
* Get Certificate By Birthdate
* Get Certificate By Name
* Search Subjects Edr Registry
* Get Subject Detail Edr Registry
* Idp Exchange Service Registry Connector
* Trembita SOAP connector
* Signature validation by DSO service (валідація підписів від 3rd party систем)
* Digital signature by DSO service (залишити тільки System signature by DSO service)

=== Перелік шаблонів елементів БП для адаптації в глобальному регіоні

* Create Keycloak officer user (поля _drfo_ та _edrpou_ приховані і мають статичне фіктивне значення)
* Save officer user attributes to Keycloak (поля _drfo_ та _edrpou_ приховані і мають статичне фіктивне значення)

=== Перелік JUEL функцій для вимкнення в глобальному регіоні
* get_trembita_auth_token
* signature_content
* signature_details

== Поза скоупом

|===

|Підсистема|Компонент|Зміна|Коментар

.9+|Підсистема моделювання регламенту реєстру
.3+|Веб-інтерфейс моделювання регламенту (_admin-portal_)

|Керування блек-лістом для поштових адрес на рівні регламенту
|В рамках епіку https://jiraeu.epam.com/browse/MDTUDDM-20362[[BN-12-03\][S23\][A\][OSS\] Розширення глобальних налаштувань для blacklist email]

|Адаптація дизайну кабінету, керування логотипами та локалізація
|В рамках окремих епіків _https://jiraeu.epam.com/browse/MDTUDDM-28300[1], https://jiraeu.epam.com/browse/MDTUDDM-28667[2],
https://jiraeu.epam.com/browse/MDTUDDM-28829[3]_

|Адаптація компонента "Карта" для стартового тайла (залишається Україна)
|Поза скоупом 1 версії адаптації

|Бібліотека _liquibase-ddm-ext_
|Виключення атрибуту _trembita_ у тегу _exposeSearchCondition_
|Поза скоупом 1 версії адаптації

|Веб-інтерфейс моделювання звітів (_redash-admin_)
|Локалізація
|В рамках епіку _https://jiraeu.epam.com/browse/MDTUDDM-28301[Підтримка декількох мов інтерфейсу перегляду звітів]_

|Сервіс управління регламентом (_registry-regulation-management_)
|Вимкнення API методу по завантаженню користувачів
|Поза скоупом 1 версії адаптації

|Утиліта завантаження надавачів послуг (_publish-users-job_)
|Не розгортати джобу в глобальному регіоні
|Поза скоупом 1 версії адаптації

|Операційне сховище файлів з користувачами (_ceph:user-import_)
|Не створювати бакет в глобальному регіоні
|Поза скоупом 1 версії адаптації

|Архівне сховище файлів з користувачами (_ceph:user-import-archive_)
|Не створювати бакет в глобальному регіоні
|Поза скоупом 1 версії адаптації

|Підсистема управління реляційними базами даних
|Бібліотека _data-model_
|Виключення типів _dn_passport_num_, _dn_edrpou_
|Поза скоупом 1 версії адаптації

.3+|Підсистема виконання бізнес-процесів
.3+|Сервіс виконання бізнес-процесів (_bpms_)

|Виключення JUEL-функцій на рівні сервісу виконання БП (вимкнена можливість виконати juel-функцію, якщо вона була
внесена в код напряму)
|Поза скоупом 1 версії адаптації

|Виключення делегатів БП на рівні сервісу виконання БП (вимкнена можливість запуску делегату, якщо внесений в код
напряму)
|Поза скоупом 1 версії адаптації

|Валідація email у делегатах відносно блекліста, який налаштований на рівні регламенту
|В рамках епіку https://jiraeu.epam.com/browse/MDTUDDM-20362[[BN-12-03\][S23\][A\][OSS\] Розширення глобальних налаштувань для blacklist email]

|Підсистема управління Платформою та реєстрами
|Веб-інтерфейс управління Платформою та реєстрами (_control-plane_)
|Вимкнути можливість створення зовнішніх інтеграцій через Трембіту
|У скоупі xref:arch:architecture-workspace/platform-evolution/universal-installer/platform-control-plane.adoc[]

|===

== Вплив на підсистеми

|===
|Підсистема|Компонент|Зміна

|Підсистема розгортання регламенту реєстру
|Утиліта валідації регламент (_registry-regulations-validator-cli_)
|Зміна правил валідації бізнес-процесів через зміни в шаблонах елементів

|===

== Перелік git комітів

Для відстеження MR зі змінами використовувати https://gerrit-mdtu-ddm-edp-cicd.apps.cicd2.mdtu-ddm.projects.epam.com/q/status:open+-is:wip+MDTUDDM-29659[фільтр].