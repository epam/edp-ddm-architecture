= Registry configuration structure
include::platform:ROOT:partial$templates/document-attributes/arch-set-en.adoc[]

include::platform:ROOT:partial$admonitions/language-en.adoc[]

include::common/description.adoc[]

.Registry configuration
|===
//|Рівень налаштувань|Репозиторій|Шлях|Призначення
|Configuration level |Repository |Path |Description

//.2+|_Реєстр_
//.2+|`<registry name>`
//|`<<registry-yaml,/deploy-templates/values.yaml>>`
//|Загальні налаштування реєстру. Налаштовується адміністратором через адмін-консоль.

//|`<<registry-gotmpl,/deploy-templates/values.gotmpl>>`
//|Містить шаблони та значення за замовчуванням для системних параметрів реєстру. У більшості випадків не потребує коригувань.

.2+|_Registry_
.2+|`<registry name>`
|`<<registry-yaml,/deploy-templates/values.yaml>>`
|Contains general registry settings. Configured by the administrator through the admin console.

|`<<registry-gotmpl,/deploy-templates/values.gotmpl>>`
|Contains templates and default values for system parameters. In most cases, no adjustments are required.

|===

//TIP: Детальніше про процеси розгортання конфігурації див. xref:architecture/platform/administrative/config-management/overview.adoc[] та xref:architecture/platform/administrative/control-plane/overview.adoc[]
TIP: For details on configuration deployment processes, see xref:architecture/platform/administrative/config-management/overview.adoc[] та xref:architecture/platform/administrative/control-plane/overview.adoc[].

//=== Структура конфігурації реєстру
=== Registry configuration structure

//.Складові конфігурації реєстрів
.Registry configuration components
image::architecture/platform/administrative/control-plane/registry-configuration-structure.drawio.svg[]

//== Специфікація yaml конфігурації реєстру (values.yaml)
== Registry yaml configuration specification (values.yaml)
[[registry-yaml]]

//У цьому розділі наведено список загальних параметрів налаштувань реєстру, що задаються адміністраторами через адмін-консоль або через коміт у відповідний репозиторій.
This section provides a list of general registry settings that administrators configure via the admin console or a commit to the repository.

//=== Загальні параметри реєстру
=== General registry settings

//Наступна таблиця містить рутові параметри реєстру.
The following table provides the registry's root parameters.

//TIP: Для зручної навігації по ієрархії специфікації обʼєктів, в таблицях присутні посилання на відповідні дочерні таблиці.
TIP: Use links to the corresponding child tables for convenient navigation through the object specification hierarchy.

[[root]]
[cols="20%,15%,7%,7%,60%",options="header",caption=]
//.Загальні параметри реєстру
.General registry settings
|===
|Name |Type |Default value |Required |Description

|`<<administrators,administrators>>`
|[]object
|❌
|✅
//|Вказання переліку користувачів реєстру, що мають роль адміністратора реєстру (`cp-registry-admin-<registry-name>`).
|A list of registry users with the registry administrator role (`cp-registry-admin-<registry-name>`).

|`<<digital-signature,digitalSignature>>`
|object
|❌
|✅
//|Налаштування _сервісу цифрового підпису_ Підсистеми цифрових підписів реєстру.
|The registry Digital signatures subsystem's _Digital signature service_ settings.

|`<<digital-documents,digitalDocuments>>`
|object
|❌
|✅
//|Налаштування обмежень _сервісу цифрових документів_ на завантаження файлів цифрових документів до реєстру користувачами та бізнес-процесами.
|The _Digital document service_ limitation settings for the digital document files uploaded to the registry by users and business processes.

|`<<dso,dso>>`
|object
|❌
|✅
//|Налаштування реплік _сервісу цифрового підпису_ Підсистеми цифрових підписів реєстру.
|The registry Digital signatures subsystem's _Digital signature service_ replica settings.

|`<<external-systems,external-systems>>`
|[]object
|❌
|✅
//|Налаштування взаємодії з іншими зовнішніми системами.
|Configuration of interaction with external systems.

|`<<global,global>>`
|object
|❌
|✅
//|Глобальні налаштування реєстру
|Global registry settings.

|`<<griada,griada>>`
|object
|❌
|✅
//|Налаштування програмно-апаратного криптомодуля "Гряда".
|Hardware and software cryptomodule settings.

|`<<keycloak,keycloak>>`
|object
|❌
|✅
//|Налаштування _сервісу управління користувачами та ролями_.
|_User and role management service_ settings.

|`<<kongPluginsConfig,kongPluginsConfig>>`
|object
|❌
|✅
//|Налаштування плагінів _зовнішнього API-шлюзу операційної зони реєстру_.
|The _external API gateway of the registry operational zone_ plugin configuration.

|`<<nontrembita-external-registration,nontrembita-external-registration>>`
|[]object
|❌
|✅
//|Налаштування плагінів _зовнішнього API-шлюзу операційної зони реєстру_.
|The _external API gateway of the registry operational zone_ plugin configuration.

|`<<portals,portals>>`
|object
|❌
|✅
//|Налаштування кабінетів користувача.
|User portal settings.

//TODO: Missing anchor: redash
|`<<redash,redash>>`
|object
|❌
|✅
//|Налаштування підсистеми аналітичної звітності реєстру.
|_Registry analytical reporting subsystem_ settings.

|`registryVaultPath`
|string
|registry-kv/registry/<registry_name>
|✅
//|Шлях до реєстрового Vault Engine в cервісі управління секретами та шифруванням Hashicorp Vault.
|The path to the registry Vault Engine in the Hashicorp Vault _Secrets and encryption management service_.

|`<<signWidget,signWidget>>`
|object
|❌
|✅
//|Налаштування IIT-віджету автентифікації.
|Authentication widget settings.

|`<<trembita,trembita>>`
|object
|❌
|❌
//|Налаштування _шлюзу безпечного обміну "Трембіта"_.
|Secure exchange gateway settings.

|===

//=== Параметри налаштувань сервісу цифрових документів
=== Digital document service settings

//`digitalDocuments` містить налаштування сервісу цифрових документів.
The `digitalDocuments` group contains the _Digital document service_ settings.

[[digital-documents]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.global.digitalDocuments | <<root,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`maxFileSize`
|string
|100MB
|✅
//|Максимальний розмір файлу для завантаження, MB
|The maximum size of a file for upload in MB.

|`maxTotalFileSize`
|string
|100MB
|✅
//|Макс. сумарний розмір групи файлів для завантаження, MB
|The maximum size of a group of files for upload in MB.

|===

[source,yaml]
//.Приклад специфікації налаштування digitalDocuments
.digitalDocuments configuration example
----
digitalDocuments:
    maxFileSize: 100MB
    maxTotalFileSize: 100MB
----

//=== Параметри налаштувань адміністраторів реєстру
=== Registry administrators configuration parameters

//`administrators` містить перелік адміністраторів реєстру.
The `administrators` group contains a list of registry administrators.

[[administrators]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.administrators | <<root,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`email`
|string
|❌
|✅
//|Адреса електронної пошти, що ідентифікує користувача.
|The email address that identifies the user.

|`firstName`
|string
|❌
|✅
//|Імʼя користувача
|User's first name.

|`lastName`
|string
|❌
|✅
//|Прізвище користувача
|User's last name.

|`passwordVaultSecret`
|string
|❌
|✅
//|Шлях до тимчасового пароля в _Сервісі управління секретами та шифруванням_ Hashicorp Vault.
|The path to the temporary password in the Hashicorp Vault _Secrets and encryption management service_.

|`passwordVaultSecretKey`
|string
|❌
|✅
//|Ключ для пошуку тимчасового пароля в _Сервісі управління секретами та шифруванням_ Hashicorp Vault.
|The key to finding the temporary password in the Hashicorp Vault _Secrets and encryption management service_.

|`username`
|string
|❌
|✅
//|Імʼя акаунту користувача. Дорівнює полю `email`.
|User account name. Equals the `email` field.

|===

[source,yaml]
//.Приклад специфікації налаштування адміністраторів
.Administrators configuration example
----
administrators:
    - email: user@company.com
      firstName: user
      lastName: user
      passwordVaultSecret: registry-kv/cluster/user@company.com
      passwordVaultSecretKey: password
      username: user@company.com
----

//=== Параметри налаштувань сервісу управління користувачами та ролями
=== User and role management service configuration parameters

//`keycloak` містить перелік налаштувань сервісу управління користувачами та ролями.
The `keycloak` group contains the _User and role management service_ settings.

[[keycloak]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.keycloak | <<root,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<authFlows,authFlows>>`
|object
|❌
|✅
//|Налаштування сутності `AuthFlow` в Keycloak.
|The `AuthFlow` entity settings in Keycloak.

|`<<citizenAuthFlow,citizenAuthFlow>>`
|object
|❌
|✅
//|Налаштування сутності `AuthFlow` в Keycloak для кабінету отримувача послуг.
|The `AuthFlow` entity settings in Keycloak for the citizen portal.

|`customHost`
|string
|❌
|❌
//|Визначає keycloak хост з попередньо доданих на рівні Платформи для використання при автентифікації.
|The Keycloak host to use for authentication from the ones previously added at the Platform level.

|`<<identityProviders,identityProviders>>`
|object
|❌
|✅
//|Налаштування ідентифікаційних провайдерів в Keycloak.
|Identity provider settings in Keycloak.

|`<<realms,realms>>`
|object
|❌
|✅
//|Налаштування сутності `Realm` в Keycloak.
|The `Realm` entity settings in Keycloak.

|===

[[authFlows]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.keycloak.authFlows | <<keycloak,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<authFlows-spec,officerAuthFlow>>`
|object
|❌
|✅
//|Налаштування сутності `AuthFlow` в Keycloak для кабінету надавача послуг.
|The `AuthFlow` entity settings in Keycloak for the officer portal.

|===

[[citizenAuthFlow]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.keycloak.citizenAuthFlow | <<keycloak,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`authType`
|string
|❌
|✅
//|Визначає можливість використовувати власний віджет автентифікації або налаштувати інтеграцію з id.gov.ua.
//TODO: ua-specific generalized
|The authentication widget to use.

|`edrCheck`
|bool
|❌
|✅
//|Визначає ввімкнена або вимкнена перевірка наявності активного запису в ЄДР для бізнес-користувачів.
a|Determines whether the business users should be checked for an active record in the Unified state register.

include::platform::partial$admonitions/ua-specific.adoc[]

|`<<idGovUa,registryIdGovUa>>`
|bool
|❌
|✅
//|Налаштування ідентифікаційного провайдера id.gov.ua
a|Identification provider settings.

[NOTE,caption=UA-specific]
The `idGovUa` identity provider with its respective settings is specific to the Ukrainian implementation and does not apply to other contexts or regions. Please consult the local guidelines or documentation if you are implementing this outside of Ukraine.

|`<<widget,widget>>`
|bool
|❌
|✅
//|Налаштування виджету авторизації.
|Authentication widget settings.

|===

[[widget]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.keycloak.citizenAuthFlow.widget | <<keycloak,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`height`
|string
|❌
|✅
//|Визначає висоту віджету автентифікації.
|The authentication widget height.

|`url`
|string
|❌
|✅
//|Визначає посилання на віджет автентифікації.
|The authentication widget URL.

|===

[[identityProviders]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.keycloak.identityProviders | <<keycloak,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<idGovUa,idGovUa>>`
|object
|❌
|✅
//|Налаштування ідентифікаційного провайдера id.gov.ua
a|Identification provider settings.

[NOTE,caption=UA-specific]
The `idGovUa` identity provider with its respective settings is specific to the Ukrainian implementation and does not apply to other contexts or regions. Please consult the local guidelines or documentation if you are implementing this outside of Ukraine.

|===

[[idGovUa]]
[NOTE,caption=UA-specific]
====
The `idGovUa` identity provider with its respective settings is specific to the Ukrainian implementation and does not apply to other contexts or regions. Please consult the local guidelines or documentation if you are implementing this outside of Ukraine.

[cols="20%,10%,5%,5%,60%",options="header",caption=]
.keycloak.identityProviders.idGovUa | <<identityProviders,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`clientId`
|string
|❌
|✅
//|Визначає клієнтський ідентифікатор.
|The client ID.

|`secretKey`
|string
|❌
|✅
//|Визначає шлях в _Сервісі управління секретами та шифруванням_ Hashicorp Vault до секрету клієнта що був зареєстрований в id.gov.ua.
|The path to the client secret in the Hashicorp Vault _Secrets and encryption management service_ for users registered at id.gov.ua.

|`url`
|string
|❌
|✅
//|Визначає посилання для id.gov.ua
|The identity provider URL.

|===
====

[[authFlows-spec]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.keycloak.authFlows.officerAuthFlow | <<authFlows,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`widgetHeight`
|string
|720
|✅
//|Визначає висоту віджету автентифікації.
|The authentication widget height.

|===

[[realms]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.keycloak.realms | <<keycloak,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<officerPortal,officerPortal>>`
|object
|❌
|✅
//|Визначає налаштування рілму автентифікації кабінету надавача послуг.
|Authentication realm settings for the officer portal.

|===

[[officerPortal]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.keycloak.realms.officerPortal | <<realms,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`browserFlow`
|string
|dso-officer-auth-flow
|✅
//|Визначає назву використовуємого AuthFlow.
|The name of the AuthFlow to use.

|`selfRegistration`
|bool
|❌
|✅
//|Визначає можливість автоматичного створення облікового запису при першому логіні користувача.
|Determines whether the automatic account creation is enabled during the user's first sign-in.

|===

[source,yaml]
----
keycloak:
    authFlows:
        officerAuthFlow:
            widgetHeight: 720
    citizenAuthFlow:
        authType: widget
        edrCheck: true
        registryIdGovUa: {}
        widget:
            height: 720
            url: https://example.com/sign-widget
    customHost: "dns-keycloak.openshift.example.com"
    identityProviders:
        idGovUa:
            clientId: ""
            secretKey: ""
            url: ""
    realms:
        officerPortal:
            browserFlow: dso-officer-auth-flow
            selfRegistration: false
----

//=== Параметри налаштувань сервісу цифрового підпису реєстру
=== Registry's Digital signature service configuration parameters

//`digitalSignature` містить перелік налаштувань сервісу цифрового підпису реєстру
The `digitalSignature` group contains the _Digital signature service_ settings.

[[digital-signature]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.digitalSignature | <<root,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<digital-signature-data,data>>`
|object
|❌
|✅
//|Налаштування ключів сервісу цифрового підпису реєстру.
|The registry's _Digital signature service_ key settings.

|`<<digital-signature-env,env>>`
|object
|❌
|✅
//|Налаштування оточення сервісу цифрового підпису реєстру.
|The registry's _Digital signature service_ environment settings.

|===

[[digital-signature-data]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.digitalSignature.data | <<digital-signature,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`Key-6-dat`
|string
|❌
|✅
//|Шлях до приватного файлового ключа організації в _Сервісі управління секретами та шифруванням_ Hashicorp Vault.
|The path to the organization's private file key in the Hashicorp Vault _Secrets and encryption management service_.

|`allowed-keys-yml`
|string
|❌
|✅
//|Шлях до файлу з переліком атрибутів дозволених (або раніше виданих) ключів в _Сервісі управління секретами та шифруванням_ Hashicorp Vault.
|The path to the file listing the attributes of authorized or previously issued keys in the Hashicorp Vault _Secrets and encryption management service_.

|`osplm.ini`
|string
|❌
|✅
//|Шлях до конфігураційного файлу програмно-апаратного криптомодуля "Гряда" в _Сервісі управління секретами та шифруванням_ Hashicorp Vault. Використовується тільки з апаратним типом ключа.
|The path to the configuration file of the hardware and software cryptomodule in the Hashicorp Vault _Secrets and encryption management service_. Only used with the hardware key type.

|===

[[digital-signature-env]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.digitalSignature.env | <<digital-signature,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`sign.key.device-type`
|string
|❌
|✅
//|Визначає тип ключа що використовується реєстром. Допустимі значення `file` або `hardware`.
|The type of the key used by the registry. Possible values are `file` or `hardware`.

|`sign.key.file.issuer`
|string
|❌
|✅
//|Шлях до інформації про емітента приватного ключа організації. в _Сервісі управління секретами та шифруванням_ Hashicorp Vault. Використовується, коли `sign.key.device-type` = `file`
|The path to information about the issuer of the organization's private key in the Hashicorp Vault _Secrets and encryption management service_. Used when `sign.key.device-type` = `file`.

|`sign.key.file.password`
|string
|❌
|✅
//|Шлях до пароля приватного ключа організації. в _Сервісі управління секретами та шифруванням_ Hashicorp Vault. Використовується, коли `sign.key.device-type` = `file`
|The path to the organization's private key password in the Hashicorp Vault _Secrets and encryption management service_. Used when `sign.key.device-type` = `file`.

|`sign.key.hardware.device`
|string
|❌
|✅
//|Опис носія ключової інформації (НКІ) згідно з описами ІІТ в _Сервісі управління секретами та шифруванням_ Hashicorp Vault. Використовується, коли `sign.key.device-type` = `hardware`
|The description of the key information carrier in the Hashicorp Vault _Secrets and encryption management service_. Used when `sign.key.device-type` = `hardware`.

|`sign.key.hardware.password`
|string
|❌
|✅
//|Шлях до пароля апаратного екземпляра Гряди в _Сервісі управління секретами та шифруванням_ Hashicorp Vault. Використовується, коли `sign.key.device-type` = `hardware`
|The path to the hardware cryptomodule device password in the Hashicorp Vault _Secrets and encryption management service_. Used when `sign.key.device-type` = `hardware`.

|`sign.key.hardware.type`
|string
|❌
|✅
//|Шлях до типу апаратного екземпляра Гряди в _Сервісі управління секретами та шифруванням_ Hashicorp Vault. Використовується, коли `sign.key.device-type` = `hardware`
|The path to the hardware cryptomodule device type in the Hashicorp Vault _Secrets and encryption management service_. Used when `sign.key.device-type` = `hardware`.

|===

[source,yaml]
//.Приклад специфікації налаштування сервісу цифрового підпису реєстру
.Registry's Digital signature service configuration example
----
digital-signature:
    data:
        Key-6-dat: registry-kv/registry/<registry_name>/key-management-20231608T063220Z
        allowed-keys-yml: registry-kv/registry/<registry_name>/key-management-20231608T063220Z
        osplm.ini: ""
    env:
        sign.key.device-type: file
        sign.key.file.issuer: registry-kv/registry/<registry_name>/key-management-20231608T063220Z
        sign.key.file.password: registry-kv/registry/<registry_name>/key-management-20231608T063220Z
        sign.key.hardware.device: ""
        sign.key.hardware.password: ""
        sign.key.hardware.type: ""
----

//`dso` містить перелік налаштувань кількості реплік сервісу цифрового підпису реєстру
The `dso` group contains the settings for the number of replicas of the registry's _Digital signature service_.

[[dso]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.dso | <<root,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`maxReplicas`
|int
|3
|❌
//|Максимальна кількість реплік компонента.
|The maximum number of component replicas.


|`minReplicas`
|int
|1
|❌
//|Мінімальна кількість реплік компонента.
|The minimum number of component replicas.

|===

[source,yaml]
//.Приклад специфікації налаштування сервісу цифрового підпису реєстру
.Registry's Digital signature service configuration example
----
dso:
  maxReplicas: 3
  minReplicas: 1
----

//=== Глобальні параметри налаштувань реєстру
=== Global registry settings

//`global` мість глобальні параметри реєстру, що не були класифіковані в окремі розділи.
The `global` group contains the registry's global parameters that are not classified into separate groups.

[[global]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.global | <<root,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<computeResources,computeResources>>`
|object
|❌
|✅
//|Налаштування віртуальних машин реєстру.
|Registry virtual machine configuration.

|`deploymentMode`
|string
|development
|✅
//|Налаштування режиму розгортання реєстру. Детальніше див. xref:registry-develop:registry-admin/change-dev-prod-mode.adoc[Налаштування режиму розгортання реєстру].
|The registry deployment mode. For details, see xref:registry-develop:registry-admin/change-dev-prod-mode.adoc[].

|`disableRequestsLimits`
|bool
|true
|✅
//|Визначає чи ввімкнені Requests/Limits для компонентів реєстру.
|Determines whether Requests/Limits are enabled for registry components.

|`<<whitelistip,whiteListIP>>`
|object
|❌
|❌
//|Налаштування доступів до реєстрових сервісів.
|Registry service access parameters.

|`excludePortals`
|[]object
|[""]
|❌
//|Перелік користувацьких порталів, що не будуть розгортатись в реєстрі. Доступні значення в переліку `officer-portal`, `citizen-portal` або `admin-portal`.
|The list of user portals that will not be deployed in the registry. Possible values are: `officer-portal`, `citizen-portal`, or `admin-portal`.

|`<<bpAdminPortal,bpAdminPortal>>`
|object
|❌
|✅
//|Налаштувань користувацького інтерфейсу для перегляду стану виконання та управління бізнес-процесами реєстру.
|User interface settings for managing and viewing the execution status of the registry's business processes.

|`<<crunchyPostgres,crunchyPostgres>>`
|object
|❌
|✅
//|Налаштувань підсистеми управління реляційними базами даних.
|_Relational database management subsystem_ settings.

|`<<kafkaOperator,kafkaOperator>>`
|object
|❌
|✅
//|Налаштування підсистеми асинхронного обміну повідомленнями.
|_Asynchronous messaging subsystem_ settings.

|`<<notifications,notifications>>`
|object
|❌
|✅
//|Налаштування сповіщень.
|Notification settings.

|`<<registry,registry>>`
|object
|❌
|✅
//|Реєстрові налаштування.
|Registry settings.

|`<<registryBackup,registryBackup>>`
|object
|❌
|❌
//|Налаштування резервного копіювання компонентів реєстру.
|Registry component backup settings.

|`<<regulationManagement,regulationManagement>>`
|object
|❌
|✅
//|Налаштування registry regulation management сервісів.
|_Registry regulations management service_ settings.

|===

//=== Параметри налаштувань реєстрових компонентів.
=== Registry components configuration parameters

//`registry` містить загальні налаштування реєстрових компонентів.
The `registry` group contains the general settings of the registry components.

[[registry]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.global.registry | <<global,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<geoServer,geoServer>>`
|object
|❌
|✅
//|Визначає загальні налаштування компонента `bpms` реєстру.
|Defines the general settings of the registry's `geo-server` component.

|`<<component,bpms>>`
|object
|❌
|❌
//|Визначає загальні налаштування компонента `bpms` реєстру.
|Defines the general settings of the registry's `bpms` component.

|`<<component,digitalDocumentService>>`
|object
|❌
|❌
//|Визначає загальні налаштування компонента `digital-document-service` реєстру.
|Defines the general settings of the registry's `digital-document-service` component.

|`<<component,digitalSignatureOps>>`
|object
|❌
|❌
//|Визначає загальні налаштування компонента `digital-signature-ops` реєстру.
|Defines the general settings of the registry's `digital-signature-ops` component.


|`<<component,kafkaApi>>`
|object
|❌
|❌
//|Визначає загальні налаштування компонента `registry-kafka-api` реєстру.
|Defines the general settings of the registry's `registry-kafka-api` component.

|`<<component,kong>>`
|object
|❌
|❌
//|Визначає загальні налаштування компонента `kong-kong` реєстру.
|Defines the general settings of the registry's `kong-kong` component.

|`<<component,redis>>`
|object
|❌
|❌
//|Визначає загальні налаштування компонента `redis` реєстру.
|Defines the general settings of the registry's `redis` component.

|`<<component,restApi>>`
|object
|❌
|❌
//|Визначає загальні налаштування компонента `registry-rest-api` реєстру.
|Defines the general settings of the registry's `registry-rest-api` component.

|`<<component,sentinel>>`
|object
|❌
|❌
//|Визначає загальні налаштування компонента `redis-sentinel` реєстру.
|Defines the general settings of the registry's `redis-sentinel` component.

|`<<component,soapApi>>`
|object
|❌
|❌
//|Визначає загальні налаштування компонента `registry-soap-api` реєстру.
|Defines the general settings of the registry's `registry-soap-api` component.

|`<<component,userProcessManagement>>`
|object
|❌
|❌
//|Визначає загальні налаштування компонента `user-process-management` реєстру.
|Defines the general settings of the registry's `user-process-management` component.

|`<<component,userTaskManagement>>`
|object
|❌
|❌
//|Визначає загальні налаштування компонента `user-task-management` реєстру.
|Defines the general settings of the registry's `user-task-management` component.

|===

[[geoServer]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.global.registry.geoServer | <<registry,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`enabled`
|bool
|❌
|✅
//|Визначає наявніть або відсутність підсистеми управління геоданими.
|Determines whether the _Geodata management subsystem_ is enabled.

|===

[[component]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.global.registry.component | <<registry,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`replicas`
|int
|❌
|❌
//|Налаштування кількості реплік.
|The number of replicas.

|<<hpa,hpa>>
|object
|❌
|❌
//|Налаштування Horizontal Pod Autoscaler для компонента реєстру.
|Horizontal Pod Autoscaler settings for the registry component.

//TODO: Missing anchor: requestslimits
|<<requestslimits,requestsLimits>>
|object
|❌
|❌
//|Налаштування Requests/Limits для компонента реєстру.
|Requests/Limits settings for the registry component.

//TODO: Missing anchor: istio
|<<istio,istio>>
|object
|❌
|❌
//|Налаштування Istio Sidecar для компонента реєстру.
|Istio Sidecar settings for the registry component.

//TODO: Missing anchor: container
|<<container,container>>
|object
|❌
|❌
//|Налаштування ресурсів контейнера компонента реєстру.
|Container resources settings for the registry component.

|===

[[hpa]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.global.registry.component.hpa | <<registry,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`enabled`
|bool
|false
|❌
//|Визначає ввімкнене чи вимкнене автоматичне масштабування.
|Determines whether the automatic scaling is enabled.

|`minReplicas`
|integer
|1
|❌
//|Визначає мінімальну кількість реплік компонента.
|The minimum number of component replicas.

|`maxReplicas`
|integer
|3
|❌
//|Визначає максимальну кількість реплік компонента.
|The maximum number of component replicas.

|===

//=== Параметри налаштувань підсистеми резервного копіювання та відновлення.
=== Backup and restore subsystem configuration parameters

//`registryBackup` містить налаштування підсистеми резервного копіювання та відновлення.
The `registryBackup` group contains the _Backup and restore subsystem_ settings.

[[registryBackup]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.global.registryBackup | <<global,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`enabled`
|bool
|❌
|❌
//|Вмикає або вимикає резервне копіювання реєстру.
|Determines whether the registry backup is enabled.

|`expiresInDays`
|int
|❌
|❌
//|Визначає кількість днів для зберігання створеної резервної копії реєстру.
|The number of days to store the backup copy of the registry.

|`schedule`
|string
|❌
|❌
//|Розклад резервного копіювання реєстру. Задається в UNIX cron форматі.
|The registry backup schedule definition in the UNIX cron format.

|`<<obc,obc>>`
|object
|❌
|❌
//|Визначає налаштування резервного копіювання S3-бакетів.
|The backup configuration of the S3 buckets.

|===

[[obc]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.global.registryBackup.obc | <<registryBackup,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`credentials`
|string
|❌
|❌
//|Шлях до токена доступу в S3-бакети в _Сервісі управління секретами та шифруванням_ Hashicorp Vault.
|The path to the S3 buckets access token in the Hashicorp Vault _Secrets and encryption management service_.

|`cronExpression`
|string
|❌
|❌
//|Розклад резервного копіювання S3-бакетів. Задається в UNIX cron форматі.
|The S3 buckets backup schedule definition in the UNIX cron format.

|`endpoint`
|string
|❌
|❌
//|Визначає хост до S3-бакета.
|The S3 bucket endpoint.

|`backupBucket`
|string
|❌
|❌
//|Визначає назву S3-бакету для резервної копії.
|The name of the S3 bucket for the backup copy.

|===

//=== Параметри налаштувань сповіщень.
=== Notification settings

//`notifications` містить налаштування сповіщень реєстру.
The `notifications` group contains the registry notification settings.

[[notifications]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.global.notifications | <<global,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<email,email>>`
|object
|❌
|✅
//|Визначає налаштування сервісу поштових повідомлень реєстру
|The registry's _Email messaging service_ settings.

|===

[[email]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.global.notifications.email | <<notifications,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`type`
|string
|❌
|✅
//|Визначає тип поштового сервера використовуємого для відправки повідомлень. Доступні значення `external` або `internal`.
|The type of the email server to use for notifications. Possible values are `external` or `internal`.

|`address`
|string
|❌
|✅
//|Визначає поштову адресу поштового сервера типу `external`.
|The email address of the `external` email server.

|`host`
|string
|❌
|✅
//|Визначає хост поштового сервера типу `external`.
|The host of the `external` email server.

|`port`
|string
|❌
|✅
//|Визначає порт поштового сервера типу `external`.
|The port of the `external` email server.

|`password`
|string
|❌
|✅
//|❌ Застарілий параметр. Буде видалений в наступних версіях Платформи.
|❌ A deprecated parameter. Will be discontinued in the future Platform versions.

|`vaultKey`
|string
|❌
|✅
//|Ключ для пошуку пароля поштового сервера типу `external` в _Сервісі управління секретами та шифруванням_ Hashicorp Vault.
|The key to finding the `external` email server's password in the Hashicorp Vault _Secrets and encryption management service_.

|`vaultPath`
|string
|❌
|✅
//|Шлях до пароля поштового сервера типу `external` в _Сервісі управління секретами та шифруванням_ Hashicorp Vault.
|The path to the `external` email server's password in the Hashicorp Vault _Secrets and encryption management service_.

|===

//=== Параметри налаштувань підсистеми асинхронного обміну повідомленнями.
=== Asynchronous messaging subsystem configuration parameters

//`kafkaOperator` містить налаштування сервісів registry regulation management.
The `kafkaOperator` group contains the _Registry regulations management service_ settings.

[[kafkaOperator]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.global.kafkaOperator | <<global,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<storage,storage>>`
|object
|❌
|✅
//|Налаштування сховища підсистеми асинхронного обміну повідомленнями.
|The _Asynchronous messaging subsystem's_ storage settings.

|===

[[storage]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.global.kafkaOperator.storage | <<kafkaOperator,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<kafka,kafka>>`
|object
|❌
|✅
//|Налаштування сховища підсистеми асинхронного обміну повідомленнями.
|The _Asynchronous messaging subsystem's_ storage settings.

|===

[[kafka]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.global.kafkaOperator.storage.kafka | <<storage,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`size`
|string
|20Gi
|✅
//|Визначає розмір сховища підсистеми асинхронного обміну повідомленнями.
|The _Asynchronous messaging subsystem's_ storage size.

|===

//=== Параметри налаштувань registry regulation management сервісів.
=== Registry regulations management service configuration parameters

//`regulationManagement` містить налаштування сервісів registry regulation management.
The `regulationManagement` group contains the _Registry regulations management service_ settings.

[[regulationManagement]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.global.regulationManagement | <<global,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`maxCandidateVersions`
|int
|10
|✅
//|Визначає максимальну кількість активних версій кандидатів регламенту реєстру.
|The maximum number of active version candidates of the registry regulations.

|===

//=== Параметри налаштувань підсистеми управління реляційними базами даних.
=== Relational database management subsystem configuration parameters

//`crunchyPostgres` містить налаштування сервісу управління виконанням бізнес-процесів.
The `crunchyPostgres` group contains the _Business processes execution service_ settings.

[[crunchyPostgres]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.global.crunchyPostgres | <<global,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<schedules,backups.pgbackrest.repos.schedules>>`
|object
|❌
|✅
//|Параметри налаштувань резервного копіювання підсистеми управління реляційними базами даних.
|The backup settings of the _Relational database management subsystem_.

|`<<postgresql,postgresql>>`
|object
|❌
|✅
//|Параметри налаштувань екземплярів СКБД підсистеми управління реляційними базами даних.
|The DBMS instance settings of the _Relational database management subsystem_.

|`storageSize`
|string
|10Gi
|✅
//|Визначає розмір сховища екземплярів СКБД підсистеми управління реляційними базами даних.
|The DBMS instance storage size of the _Relational database management subsystem_.

|===

[[schedules]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.global.crunchyPostgres.backups.pgbackrest.repos.schedules | <<crunchyPostgres,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`full`
|string
|❌
|✅
//|Визначає розклад повного резервного копіювання екземплярів СКБД.
|The full backup schedule for the DBMS instances.

|===

[[postgresql]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.global.crunchyPostgres.postgresql.parameters | <<crunchyPostgres,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<parameters,parameters>>`
|object
|❌
|✅
//|Параметри налаштувань резервного копіювання підсистеми управління реляційними базами даних.
|The backup settings of the _Relational database management subsystem_.

|===

[[parameters]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.global.crunchyPostgres.postgresql.parameters | <<postgresql,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`max_connections`
|string
|200
|✅
//|Визначає максимальну кількість одночасних з'єднань з екземпляром СКБД.
|The maximum number of simultaneous connections to the DBMS instance.

|===

//=== Параметри налаштувань сервісу управління виконанням бізнес-процесів
=== Business processes execution service configuration parameters

//`bpAdminPortal` містить налаштування сервісу управління виконанням бізнес-процесів.
The `bpAdminPortal` group contains the _Business processes execution service_ settings.

[[bpAdminPortal]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.global.bpAdminPortal | <<global,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<metrics,camunda.bpm.metrics>>`
|object
|❌
|✅
//|Параметри налаштувань користувацького інтерфейсу для перегляду стану виконання та управління бізнес-процесами реєстру.
|User interface settings for managing and viewing the execution status of the registry's business processes.

|===

[[metrics]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.global.bpAdminPortal.camunda.bpm.metrics | <<bpAdminPortal,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`enabled`
|bool
|true
|✅
//|Визначає чи доступний інтерфейс для збору метрик підсистемою моніторингу подій та сповіщення.
|Determines whether the interface for collecting metrics is enabled for the _Event monitoring and notification subsystem_.

|`scrapeInterval`
|string
|60s
|✅
//|Визначає часовий проміжок між зборами метрик підсистемою моніторингу подій та сповіщення.
|The time interval between metrics collection by the _Event monitoring and notification subsystem_.

|===

//=== Параметри налаштувань доступів до реєстрових сервісів
=== Registry services access parameters

//`whiteListIP` містить параметри конфігурації доступів до реєстрових сервісів.
The `whiteListIP` group contains access parameters for the registry services.

[[whitelistip]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.global.whiteListIP | <<global,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`adminRoutes`
|string
|❌
|✅
//|Налаштування доступу до роутів адміністративних сервісів реєстру.
|The registry's administrative service route access parameters.

|`citizenPortal`
|string
|❌
|✅
//|Налаштування доступу до кабінету отримувача послуг.
|Citizen portal access parameters.

|`officerPortal`
|string
|❌
|✅
//|Налаштування доступу до кабінету надавача послуг.
|Officer portal access parameters.

|===

//=== Параметри налаштувань IIT-віджету автентифікації
//TODO: ua-specific, generalized
=== Authentication widget settings

//`signWidget` містить параметри конфігурації IIT-віджету автентифікації.
The `signWidget` group contains the authentication widget configuration parameters.

[[signWidget]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.global.signWidget | <<root,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`copyFromAuthWidget`
|bool
|false
|✅
//TODO: Missing description
|

|`height`
|int
|0
|✅
//|Визначає висоту IIT-віджета, px.
|The authentication widget height in px.

|`url`
|string
|❌
|✅
//|Визначає посилання на IIT-віджет.
|The authentication widget URL.

|===

//=== Параметри налаштувань віртуальних машин реєстру
=== Registry virtual machine configuration parameters

//`computeResources` містить параметри конфігурації віртуальних машин реєстру.
The `computeResources` group contains the registry's virtual machine configuration parameters.

[[computeResources]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.global.computeResources | <<global,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`instanceCount`
|int
|2
|✅
//|Визначає кількість віртуальних машин для розгортання реєстру з типом інфраструктури `AWS` або `vSphere`.
|The number of virtual machines for registry deployment using the `AWS` or `vSphere` infrastructure type.

|`awsInstanceType`
|string
|r5.2xlarge
|✅
//|Визначає тип AWS EC2-інстансу для розгортання реєстру з типом інфраструктури `AWS`.
|The type of AWS EC2 instance for registry deployment using the `AWS` infrastructure type.

|`awsSpotInstance`
|bool
|false
|✅
//|Визначає використання типу spot для AWS EC2-інстансу реєстру.
|Determines whether to use the Spot type for the AWS EC2 registry instance.

|`awsSpotInstanceMaxPrice`
|string
|❌
|❌
//|Визначає максимальну ціну для AWS EC2 spot-інстансу.
|The maximum price for the AWS EC2 Spot instance.

|`awsInstanceVolumeType`
|string
|gp3
|✅
//|Визначає тип системного диска AWS EC2-інстансу для розгортання реєстру з типом інфраструктури `AWS`.
|The system disk type of the AWS EC2 instance for registry deployment using the `AWS` infrastructure type.

|`instanceVolumeSize`
|int
|80
|✅
//|Визначає розмір системного диска віртуальної машини реєстру з типом інфраструктури `AWS` або `vSphere`.
|The system disk size of the registry virtual machine using the `AWS` or `vSphere` infrastructure type.

|`vSphereInstanceCPUCount`
|int
|8
|✅
//|Визначає кількість vCPU віртуальної машини реєстру з типом інфраструктури `vSphere`.
|The number of vCPUs of the registry virtual machine using the `vSphere` infrastructure type.

|`vSphereInstanceCoresPerCPUCount`
|int
|1
|✅
//|Визначає кількість ядер у кожного vCPU віртуальної машини реєстру з типом інфраструктури `vSphere`.
|The number of cores in each vCPU of the registry virtual machine using the `vSphere` infrastructure type.

|`vSphereInstanceRAMSize`
|int
|32768
|✅
//|Визначає кількість RAM віртуальної машини реєстру з типом інфраструктури `vSphere`.
|The amount of RAM of the registry virtual machine using the `vSphere` infrastructure type.

|===

[source,yaml]
//.Приклади конфігурації загальних параметрів реєстру — bpAdminPortal.
.General registry configuration example -- bpAdminPortal
----
global:
    bpAdminPortal:
         camunda:
            bpm:
                metrics:
                    enabled: true
                    scrapeInterval: 60s
----

[source,yaml]
//.Приклади конфігурації загальних параметрів реєстру — crunchyPostgres.
.General registry configuration example -- crunchyPostgres
----
global:
    crunchyPostgres:
        backups:
            pgbackrest:
                repos:
                    schedules:
                        full: 0 1 * * *
        postgresql:
            parameters:
                max_connections: 200
        storageSize: 10Gi
----

[source,yaml]
//.Приклади конфігурації загальних параметрів реєстру — computeResources.
.General registry configuration example -- computeResources
----
global:
    computeResources:
      instanceCount: 3
      awsInstanceType: "r5.2xlarge"
      awsSpotInstance: false
      awsInstanceVolumeType: "gp3"
      awsInstanceVolumeSize: 80
----

[source,yaml]
//.Приклади конфігурації загальних параметрів реєстру — kafkaOperator.
.General registry configuration example -- kafkaOperator
----
global:
    kafkaOperator:
        storage:
            kafka:
                size: 20Gi
----

[source,yaml]
//.Приклади конфігурації загальних параметрів реєстру — notifications.
.General registry configuration example -- notifications
----
global:
    notifications:
        email:
            type: internal
----

[source,yaml]
//.Приклади конфігурації загальних параметрів реєстру — registry.
.General registry configuration example -- registry
----
global:
    registry:
        <component_name>:
            container:
                envVars:
                    JAVA_OPTS: -Xms1536m -Xmx1536m
                resources:
                    limits:
                        cpu: "1"
                        memory: 2Gi
                    requests:
                        cpu: "1"
                        memory: 2Gi
            istio:
                sidecar:
                    enabled: true
                    resources:
                        limits:
                            cpu: 350m
                            memory: 128Mi
                        requests:
                            cpu: 350m
                            memory: 128Mi
----

[source,yaml]
//.Приклади конфігурації загальних параметрів реєстру.
.General registry configuration example
----
global:
    deploymentMode: production
    excludePortals:
        - "admin-portal"
    regulationManagement:
        maxCandidateVersions: 10
    whiteListIP:
        adminRoutes: "192.168.1.64/26 172.16.0.192/27"
        citizenPortal: "0.0.0.0/0"
        officerPortal: "192.168.1.64/26 172.16.0.192/27"
----

//=== Параметри налаштувань програмно-апаратного криптомодуля "Гряда"
//TODO: ua-specific, generalized
=== Hardware and software cryptomodule configuration parameters

//`griada` містить налаштувань програмно-апаратного криптомодуля "Гряда".
The `griada` group contains the hardware and software cryptomodule settings.

include::platform::partial$admonitions/ua-specific.adoc[]

[[griada]]
[cols="20%,10%,5%,5%,60%",options="header",caption=]
.griada | <<root,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`enabled`
|bool
|true
|✅
//|Визначає використання або відсутність апаратного ключа в реєстрі.
|Determines whether the hardware key is enabled in the registry.

|`ip`
|string
|❌
|✅
//|Визначає ip-адресу програмно-апаратного криптомодуля "Гряда".
|The IP address of the hardware and software cryptomodule.

|`port`
|int
|❌
|✅
//|Визначає порт програмно-апаратного криптомодуля "Гряда".
|The port of the hardware and software cryptomodule.

|===

[source,yaml]
//.Приклад налаштувань програмно-апаратного криптомодуля "Гряда"
.Hardware and software cryptomodule configuration example
----
griada:
  enabled: true
  ip: "10.0.0.23"
  port: 3080
----

//=== Параметри реєстрових налаштувань зовнішнього API-шлюзу операційної зони реєстру
=== Registry operational zone's external API gateway settings

//`kongPluginsConfig` містить перелік налаштувань зовнішнього API-шлюзу операційної зони реєстру.
The `kongPluginsConfig` group contains the registry operational zone's external API gateway settings.

[[kongPluginsConfig]]
//TODO: Since the descriptions in this table were missing, I removed the fourth column for now
//[cols="20%,15%,7%,7%,60%",options="header",caption=]
[cols="30%,20%,30%,20%",options="header",caption=]
.kongPluginsConfig | <<root,Return to parent table>>
|===
|Name |Type |Default value |Required

|`pluginsPrometheusBandwidthMetrics`
|bool
|true
|✅

|`pluginsPrometheusLatencyMetrics`
|bool
|true
|✅

|`pluginsPrometheusPerConsumerMetrics`
|bool
|true
|✅

|`pluginsPrometheusStatusCodeMetrics`
|bool
|true
|✅

|`pluginsProxyCacheTtl`
|int
|900
|✅

|`pluginsRateLimitByHeaderFaultTolerant`
|bool
|true
|✅

|`pluginsRateLimitByHeaderHeaderName`
|string
|token-claim
|✅

|`pluginsRateLimitByHeaderHideClientHeaders`
|bool
|false
|✅

|`pluginsRateLimitByHeaderPolicy`
|string
|local
|✅

|`pluginsRateLimitByHeaderRequestsPerHour`
|int
|10000
|✅

|`pluginsRateLimitByHeaderRequestsPerSecond`
|int
|10
|✅

|`pluginsRateLimitByIpFaultTolerant`
|bool
|true
|✅

|`pluginsRateLimitByIpHideClientHeaders`
|bool
|false
|✅

|`pluginsRateLimitByIpPolicy`
|string
|local
|✅

|`pluginsRateLimitByIpRequestsPerHour`
|int
|10000
|✅

|`pluginsRateLimitByIpRequestsPerSecond`
|int
|10
|✅

|`rateLimitingPluginEnable`
|bool
|false
|✅

|===

[source,yaml]
//.Приклад специфікації налаштуванm зовнішнього API-шлюзу операційної зони реєстру
.Registry operational zone's external API gateway configuration example
----
kongPluginsConfig:
    pluginsPrometheusBandwidthMetrics: true
    pluginsPrometheusLatencyMetrics: true
    pluginsPrometheusPerConsumerMetrics: true
    pluginsPrometheusStatusCodeMetrics: true
    pluginsProxyCacheTtl: 900
    pluginsRateLimitByHeaderFaultTolerant: true
    pluginsRateLimitByHeaderHeaderName: token-claim
    pluginsRateLimitByHeaderHideClientHeaders: false
    pluginsRateLimitByHeaderPolicy: local
    pluginsRateLimitByHeaderRequestsPerHour: 10000
    pluginsRateLimitByHeaderRequestsPerSecond: 10
    pluginsRateLimitByIpFaultTolerant: true
    pluginsRateLimitByIpHideClientHeaders: false
    pluginsRateLimitByIpPolicy: local
    pluginsRateLimitByIpRequestsPerHour: 10000
    pluginsRateLimitByIpRequestsPerSecond: 10
    rateLimitingPluginEnable: false
----

//=== Параметри налаштувань доступів для реєстрів Платформи та зовнішніх систем
=== Platform registries and external systems access parameters

//`nontrembita-external-registration` містить перелік налаштувань доступів для реєстрів Платформи та зовнішніх систем.
The `nontrembita-external-registration` group contains the access parameters for the Platform registries and external systems.

[[nontrembita-external-registration]]
[cols="20%,15%,7%,7%,60%",options="header",caption=]
.nontrembita-external-registration | <<root,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`enabled`
|bool
|❌
|❌
//|Визначає ввімкнена або вимкнена зовнішня інтеграція.
|Determines whether the external integration is enabled.

|`external`
|bool
|❌
|❌
//|Визначає тип зовнішньої інтеграції: інший реєстр на Платформі або за межами Платформи.
|Defines the type of external integration: another registry on the Platform or outside the Platform.

|`name`
|string
|❌
|❌
//|Визначає імʼя зовнішньої системи.
|The name of the external system.

|===

[source,yaml]
//.Приклад специфікації налаштування доступів для реєстрів Платформи та зовнішніх систем
.Platform registries and external systems access configuration example
----
nontrembita-external-registration:
    - enabled: true
      external: false
      name: example-registry
----

//TODO: ua-specific, generalized
//=== Параметри налаштувань шлюзу безпечного обміну "Трембіта"
=== Secure exchange gateway configuration parameters

//`trembita` містить перелік налаштувань шлюзу безпечного обміну "Трембіта".
The `trembita` group contains the secure exchange gateway (SEG) settings.

include::platform::partial$admonitions/ua-specific.adoc[]

[[trembita]]
[cols="20%,15%,7%,7%,60%",options="header",caption=]
.trembita | <<root,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`ipList`
|[]object
|❌
|❌
//|Визначає перелік IP-адрес ШБО Трембіта, з яких дозволен доступ до `bp-webservice-gateway` та `registry-soap-api`. Пусте значення поля дорівнює відсутності доступу до SOAP API.
|The list of SEG IP addresses from which access to `bp-webservice-gateway` and `registry-soap-api` is allowed. An empty field value means no access to the SOAP API.

|`<<registries,registries>>`
|object
|❌
|✅
//|Містить налаштування взаємодію з реєстром через ШБО "Трембіта".
|Contains the registry SEG interaction settings.

|===

[[registries]]
[cols="20%,15%,7%,7%,60%",options="header",caption=]
.trembita.registries | <<trembita,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<trembita-integration,dracs-registry>>`
|object
|❌
|✅
//|Налаштування системної інтеграції з ДРАЦС. Присутня за замовчуванням і недоступна для видалення.
a|System integration settings for the State registry of civil status acts. Enabled by default and cannot be removed.

include::platform::partial$admonitions/ua-specific.adoc[]

|`<<trembita-integration,edr-registry>>`
|object
|❌
|✅
//|Налаштування системної інтеграції з ЄДР. Присутня за замовчуванням і недоступна для видалення.
a|System integration settings for the Unified state register. Enabled by default and cannot be removed.

include::platform::partial$admonitions/ua-specific.adoc[]

|`<<trembita-integration,idp-exchange-service-registry>>`
|object
|❌
|✅
//|Налаштування системної інтеграції з ЄІБДВПО. Присутня за замовчуванням і недоступна для видалення.
a|System integration settings for the Unified information database of internally displaced persons. Enabled by default and cannot be removed.

include::platform::partial$admonitions/ua-specific.adoc[]

|`<<trembita-integration,<system_name_placeholder> >>`
|object
|❌
|❌
//|Параметри іншої зовнішньої системи для інтеграції з реєстром.
|Another external system's integration parameters with the registry.

|===

[[trembita-integration]]
[cols="20%,15%,7%,7%,60%",options="header",caption=]
.trembita.registries.<system_name_placeholder> | <<registries,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<trembita-auth,auth>>`
|object
|❌
|✅
//|Параметри заголовку, що визначають налаштування авторизації.
|Header parameters that define authorization settings.

|`<<trembita-client,client>>`
|object
|❌
|✅
//|Параметри заголовку, що ідентифікують учасника сервісу.
|Header parameters that identify the service participant.

|`<<trembita-service,service>>`
|object
|❌
|✅
//|Параметри заголовку, що ідентифікують сервіс.
|Header parameters that identify the service.

|`mock`
|bool
|❌
|✅
//|Визначає зовнішню систему як реальну, або як заглушку точки інтеграції.
|Determines whether the external system is real or an integration point mock.

|`protocol`
|string
|SOAP
|✅
//|Визначає протокол інтеграційної взаємодії. Дозволені значення `SOAP`.
|The integration protocol. Possible value is `SOAP`.

|`protocol-version`
|string
|❌
|✅
//|Визначає версію протоколу, за яким обмінюються повідомленням з ШБО "Трембіта".
|The version of the protocol used to exchange messages with the SEG.

|`type`
|string
|❌
|✅
//|Визначає `platform` або `registry` тип взаємодії.
|Defines the interaction type as either `platform` or `registry`.

|`url`
|string
|❌
|✅
//|Визначає хост ШБО "Трембіта"
|The SEG URL.

|`user-id`
|string
|❌
|✅
//|Ідентифікатор користувача, що ініціює запит.
|The ID of the user initiating the request.

|===

[[trembita-auth]]
[cols="20%,15%,7%,7%,60%",options="header",caption=]
.trembita.registries.<system_name_placeholder>.auth | <<trembita-integration,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`type`
|string
|❌
|✅
//|Визначає тип авторизації. Доступні значення `AUTH_TOKEN` або `NO_AUTH`
|The authorization type. Possible values are `AUTH_TOKEN` or `NO_AUTH`.

|`secret`
|string
|❌
|❌
//|Шлях до токена авторизації в _Сервісі управління секретами та шифруванням_ Hashicorp Vault.
|The path to the authorization token in the Hashicorp Vault _Secrets and encryption management service_.

|===

[[trembita-client]]
[cols="20%,15%,7%,7%,60%",options="header",caption=]
.trembita.registries.<system_name_placeholder>.client | <<trembita-integration,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`x-road-instance`
|string
|❌
|✅
//|Код середовища, що ідентифікує екземпляр сервісу або учасника.
|The environment code that identifies the instance of the service or member.

|`member-class`
|string
|❌
|✅
//|Ідентифікатор класу сервісу або учасника.
|The service or member class identifier.

|`member-code`
|string
|❌
|✅
//|Ідентифікатор сервісу або учасника.
|The service or member identifier.

|`subsystem-code`
|string
|❌
|✅
//|Код, що ідентифікує підсистему сервісу або учасника, якщо сервіс надається підсистемою.
|The code that identifies the subsystem of the service or member, if the service is provided by the subsystem.

|===

[[trembita-service]]
[cols="20%,15%,7%,7%,60%",options="header",caption=]
.trembita.registries.<system_name_placeholder>.service | <<trembita-integration,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`x-road-instance`
|string
|❌
|✅
//|Код середовища, що ідентифікує екземпляр сервісу або учасника.
|The environment code that identifies the instance of the service or member.

|`member-class`
|string
|❌
|✅
//|Ідентифікатор класу сервісу або учасника.
|The service or member class identifier.

|`member-code`
|string
|❌
|✅
//|Ідентифікатор сервісу або учасника.
|The service or member identifier.

|`subsystem-code`
|string
|❌
|✅
//|Код, що ідентифікує підсистему сервісу або учасника, якщо сервіс надається підсистемою.
|The code that identifies the subsystem of the service or member, if the service is provided by the subsystem.

|`service-code`
|string
|❌
|❌
//|Код, що ідентифікує підсистему сервісу або учасника, якщо сервіс надається підсистемою.
|The code that identifies the subsystem of the service or member, if the service is provided by the subsystem.

|`service-version`
|string
|❌
|❌
//|Код, що ідентифікує підсистему сервісу або учасника, якщо сервіс надається підсистемою.
|The code that identifies the subsystem of the service or member, if the service is provided by the subsystem.

|===

[source,yaml]
//.Приклад специфікації налаштування шлюзу безпечного обміну "Трембіта".
.Secure exchange gateway configuration example
----
trembita:
    ipList:
      - "192.168.1.34"
      - "192.168.1.152"
    registries:
        dracs-registry:
            auth:
                 type: NO_AUTH
            client:
                member-class: GOV
                member-code: Member_Class
                subsystem-code: IDGOV_EXAMPLE_01
                x-road-instance: SEVDEIR-EXAMPLE
            service:
            mock: false
            protocol: SOAP
            protocol-version: "4.1"
            type: platform
            url: https://trembita.example.com/trembita
            user-id: DDM
        edr-registry:
           ...
        idp-exchange-service-registry:
           ...
----

//=== Параметри налаштувань інтеграції з зовнішніми системами
=== Parameters of integration with external systems

//`external-systems` налаштовують інтеграції з зовнішніми системами.
The `external-systems` group contains the external system integration parameters.

[[external-systems]]
[cols="20%,15%,7%,7%,60%",options="header",caption=]
.external-systems | <<root,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|<<external-systems-spec,diia>>
|object
|❌
|✅
//|Налаштування системної інтеграції з ДіЯ. Присутня за замовчуванням і недоступна для видалення.
a|System integration settings for the citizen-facing solution. Enabled by default and cannot be removed.

include::platform::partial$admonitions/ua-specific.adoc[]

|<<external-systems-spec,<system_name_placeholder> >>
|object
|❌
|❌
//|Параметри іншої зовнішньої системи для інтеграції з реєстром.
|Another external system's integration parameters with the registry.

|===

//TIP: `<system_name_placeholder>` — буде замінений на назву зовнішньої системи задану через адмін-консоль.
TIP: The `<system_name_placeholder>` will be replaced by the name of the external system specified through the admin console.

[[external-systems-spec]]
[cols="20%,15%,7%,7%,60%",options="header",caption=]
.<system_name_placeholder> | <<external-systems,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`protocol`
|string
|❌
|✅
//|Визначає протокол інтеграції з зовнішньою системою. Доступне значення `REST`.
|The external system integration protocol. Possible value is `REST`.

|`type`
|string
|❌
|✅
//|Визначає `platform` або `registry` тип взаємодії.
|Defines the interaction type as either `platform` or `registry`.

|`url`
|string
|❌
|✅
//|Визначає адресу зовнішньої системи.
|The external system's URL.

|`mock`
|string
|❌
|✅
//|Визначає зовнішню систему як реальну, або як заглушку точки інтеграції.
|Determines whether the external system is real or an integration point mock.

|`<<external-systems-auth-spec,auth>>`
|object
|❌
|✅
//|Визначає налаштування автентифікації з зовнішньою системою.
|Defines the external system's authentication settings.

|===

[[external-systems-auth-spec]]
[cols="20%,15%,7%,7%,60%",options="header",caption=]
.external-systems.<system_name_placeholder>.auth | <<external-systems-spec,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`secret`
|string
|❌
|❌
//|Шлях до токену зовнішньої системи в _Сервісі управління секретами та шифруванням_ Hashicorp Vault.
|The path to the external system's token in the Hashicorp Vault _Secrets and encryption management service_.


|`type`
|string
|❌
|✅
//|Визначає метод автентифікації з зовнішньою системою. Доступні значення `NO_AUTH`, `AUTH_TOKEN`, `BEARER`, `BASIC`, `AUTH_TOKEN+BEARER`.
|The external system authorization type. Possible values are: `NO_AUTH`, `AUTH_TOKEN`, `BEARER`, `BASIC`, `AUTH_TOKEN+BEARER`.

|===

[source,yaml]
//.Приклад специфікації налаштування сервісу цифрового підпису реєстру
.Registry Digital signature service configuration example
----
external-systems:
    example-system-1:
        auth:
            secret: vault:registry-kv/registry/<registry_name>/external-systems
            type: BASIC
        protocol: REST
        type: registry
        url: https://example.com.ua
    example-system-N:
        auth:
            secret: vault:registry-kv/registry/<registry_name>/external-systems
            type: BASIC
        protocol: REST
        type: registry
        url: https://example.com.ua
    diia:
        protocol: REST
        type: platform
----

//=== Параметри налаштувань кабінетів користувачів
=== User portal configuration parameters

//`portals` налаштування кабінетів користувачів.
The `portals` group contains the user portal settings.

[[portals]]
[cols="20%,15%,7%,7%,60%",options="header",caption=]
.portals | <<root,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<portals-spec,citizen>>`
|object
|❌
|✅
//|Налаштування кабінету отримувача послуг.
|Citizen portal settings.

|`<<portals-spec,officer>>`
|object
|❌
|✅
//|Налаштування кабінету надавача послуг.
|Officer portal settings.

|===

[[portals-spec]]
[cols="20%,15%,7%,7%,60%",options="header",caption=]
.portals.<portal_name> | <<root,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<customdns-spec,customDns>>`
|object
|❌
|❌
//|Налаштування власних DNS-імен для кабінетів користувачів.
|The user portal custom DNS settings.

|`<<signwidget-spec,signWidget>>`
|object
|❌
|✅
//|Налаштування IIT-віджету авторизації для кабінетів користувачів.
//TODO: ua-specific, generalized
|The user portal's authentication widget settings.

|===

[[customdns-spec]]
[cols="20%,15%,7%,7%,60%",options="header",caption=]
.portals.<portal_name>.customDns | <<portals-spec,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`enabled`
|bool
|❌
|✅
//|Визначає наявніть або відсутність заданого власного DNS-імені для кабінету.
|Determines whether a custom DNS name for the user portal is enabled.

|`host`
|string
|❌
|❌
//|Визначає хост власного DNS-імені для кабінету.
|The user portal's custom DNS hostname.

|===

[[signwidget-spec]]
[cols="20%,15%,7%,7%,60%",options="header",caption=]
.portals.<portal_name>.signWidget | <<portals-spec,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`url`
|string
|❌
|✅
//|Визначає посилання на віджет автентифікації.
|The authentication widget URL.

|`height`
|object
|❌
|✅
//|Визначає візуальну висоту віджету автентифікації.
|The authentication widget height.

|`copyFromAuthWidget`
|bool
|❌
|✅
//TODO: Missing description
|

|===

//== Специфікація технічної yaml конфігурації реєстру (values.gotmpl)
== Registry technical yaml configuration specification (values.gotmpl)
[[registry-gotmpl]]

//У цьому розділі наведено список технічних параметрів реєстру. Їх значення встановлюються з використанням шаблонів для параметризації, що може мати вигляд `{{ env "<variable_name>" }}` — для визначення значення зі змінних оточення або виду `{{ $cluster_version := exec ... }}` — для виконання команди під час запуску пайплайну.
This section lists the technical parameters of the registry. Their values are set using parameterization templates, which can take one of the following forms:

* `{{ env "<variable_name>" }}` to get values from environment variables.
* `{{ $cluster_version := exec ... }}` to execute a command during pipeline execution.

//IMPORTANT: Власноруч вносити зміни в цей файл не рекомендується.
IMPORTANT: We do not recommend making changes to this file manually.

[[parent-tech-params]]
[cols="20%,15%,10%,10%,60%",options="header",caption=]
//.Технічні параметри реєстру
.Registry technical parameters
|===
|Name |Type |Default value |Required |Description

|`<<tech-global,global>>`
|object
|❌
|✅
//|Глобальні налаштування реєстру
|Global registry settings.

|`<<vault,vault>>`
|object
|❌
|✅
//|Містить налаштування центрального сервісу управління секретами реєстру.
|Contains settings for the registry's central _Secrets management service_.

|`<<s3,s3>>`
|object
|❌
|✅
//|Містить налаштування S3-клієнту для взаємодії з S3 сховищем.
|Contains S3 client settings for interaction with S3 storage.

|`<<platform,platform>>`
|object
|❌
|✅
//|Містить налаштування реєстру.
|Contains registry settings.

|`namespace`
|string
|❌
|✅
//|Визначає зі специфікації `codebase` назву OKD namespace для розгортання компонентів підсистем та налаштувань в залежності від приналежності до реєстру.
|Defines the name of the OKD namespace for deploying subsystem components and configurations from the `codebase` specification based on whether they belong to the registry.

|`baseDomain`
|string
|❌
|✅
//|Отримує та встановлює базовий домен кластера OKD. Усі керовані записи DNS в кластері будуть піддоменами цього базового домену. Після розгортання кластера OKD, це значення не можна змінювати. Наприклад, `openshift.example.com`.
|Receives and sets the base domain of the OKD cluster -- for example, `openshift.example.com`. All managed DNS records in the cluster become subdomains of the base domain. After the OKD cluster is deployed, this value cannot be changed.

|`dnsWildcard`
|string
|❌
|✅
//|Піддомен базового домена кластера OKD для маршрутизації трафіку до застосунків Платформи та реєстрів. Наприклад, `apps.openshift.example.com`
|A subdomain of the base domain of the OKD cluster for routing traffic to Platform and registry applications -- for example, `apps.openshift.example.com`.

|`cdPipelineName`
|string
|❌
|✅
//|Назва Платформного CD пайплайну. Є сутністю xref:arch:architecture/platform-technologies.adoc#edp-codebase-operator[EDP] і частиною обслуговуючого пайплайну процесів розгортання реєстру.
|The name of the Platform CD pipeline. This is an xref:arch:architecture/platform-technologies.adoc#edp-codebase-operator[EDP] entity and part of the servicing pipeline of the registry deployment processes.

|`dockerRegistry`
|string
|❌
|✅
//|Містить URL до `control-plane-nexus` — сховища артефактів Платформи.
|The URL for the `control-plane-nexus` Platform artifacts repository.

|`dockerProxyRegistry`
|string
|❌
|✅
//|Містить URL до `control-plane-nexus` — сховища артефактів Платформи.
|The URL for the `control-plane-nexus` Platform artifacts repository.

|`edpProject`
|string
|❌
|✅
//|Визначає з параметрів технічного пайплайну назву OKD namespace для розгортання компонентів підсистем та налаштувань в залежності від приналежності до Платформи або реєстру.
|Defines the name of the OKD namespace for deploying subsystem components and configurations from the technical pipeline parameters based on whether they belong to the Platform or registry.

|`stageName`
|string
|❌
|✅
//|Назва етапу реєстрового CD пайплайну. Є сутністю EDP і частиною обслуговуючого пайплайну процесів розгортання реєстру.
|The name of the registry CD pipeline stage. This is an EDP entity and part of the servicing pipeline of the registry deployment processes.

|===

[[tech-global]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.global | <<parent-tech-params,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`clusterVersion`
|string
|❌
|✅
//|Автоматично визначає поточну версію OKD кластеру.
|Automatically determines the current version of the OKD cluster.

|`storageClass`
|string
|ocs-storagecluster-ceph-rbd
|✅
//|Містить назву `StorageClass` що використовується в кластерів OKD за замовчуванням.
|Contains the `StorageClass` name used in the OKD cluster by default.

|`imageRegistry`
|string
|❌
|✅
//|Містить URL до `control-plane-nexus` — сховища артефактів Платформи.
|The URL for the `control-plane-nexus` Platform artifacts repository.

//TODO: Missing anchor: nexus
|`<<nexus,nexus>>`
|object
|❌
|✅
//|❌ Застарілий параметр. Буде видалений в наступних версіях Платформи.
|❌ A deprecated parameter. Will be discontinued in the future Platform versions.

//TODO: Missing anchor: jenkins
|`<<jenkins,jenkins>>`
|object
|❌
|✅
//|❌ Застарілий параметр. Буде видалений в наступних версіях Платформи.
|❌ A deprecated parameter. Will be discontinued in the future Platform versions.

//TODO: Missing anchor: gerrit
|`<<gerrit,gerrit>>`
|object
|❌
|✅
//|❌ Застарілий параметр. Буде видалений в наступних версіях Платформи.
|❌ A deprecated parameter. Will be discontinued in the future Platform versions.

|`<<tech-kafka,kafkaOperator>>`
|object
|❌
|✅
//|Налаштування підсистеми асинхронного обміну повідомленнями.
|_Asynchronous messaging subsystem_ configuration.

|`<<crunchyPostgresOperator,crunchyPostgresOperator>>`
|object
|❌
|✅
//|Параметри налаштувань підсистеми управління реляційними базами даних.
|_Relational database management subsystem_ configuration.

|`<<tech-registry,registry>>`
|object
|❌
|✅
//|Містить реєстрові налаштування.
|Contains registry settings.

|`<<tech-notifications,notifications>>`
|object
|❌
|✅
//|Містить загальні налаштування підсистеми поштових повідомлень.
|The _Email messaging subsystem's_ general settings.

|===

[[tech-registry]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.global.registry | <<tech-global,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<tech-registry-redis,redis>>`
|object
|❌
|✅
//|Налаштування Redis.
|Redis settings.

|`<<tech-registry-sentinel,sentinel>>`
|object
|❌
|✅
//|Налаштування Redis Sentinel.
|Redis Sentinel settings.

|===

[[tech-registry-redis]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.global.registry.redis | <<tech-registry,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`replicas`
|string
|❌
|✅
//|Визначає кількість екземплярів Redis.
|The number of Redis instances.

|`<<tech-registry-redis-container,container>>`
|string
|❌
|✅
//|Визначає налаштування контейнерів екземплярів Redis.
|Defines the Redis instance containers configuration.

|===

[[tech-registry-redis-container]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.global.registry.redis.container | <<tech-registry-redis,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`customConfig`
|[]object
|["maxmemory 500m"]
|✅
//|Визначає додаткові налаштування для Redis контейнера.
|Defines additional settings for the Redis container.

|===

[[tech-registry-sentinel]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.global.registry.sentinel | <<tech-registry,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`replicas`
|string
|❌
|✅
//|Визначає кількість екземплярів Sentinel.
|The number of Sentinel instances.

|===

[[tech-notifications]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.global.notifications | <<tech-global,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<tech-notifications-email,email>>`
|object
|❌
|✅
//|Містить налаштування підсистеми поштових повідомлень.
|Contains the _Email messaging subsystem_ settings.

|===

[[tech-notifications-email]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.global.notifications.email | <<tech-notifications,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`password`
|string
|❌
|✅
//|Визначає SMTP-пароль до підсистеми поштових повідомлень.
|The SMTP password for the _Email messaging subsystem_.

|===

[[crunchyPostgresOperator]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.global.crunchyPostgresOperator | <<tech-global,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<instances,instances>>`
|object
|❌
|✅
//|Містить налаштування екземплярів підсистеми управління реляційними базами даних.
|The _Relational database management subsystem's_ instances configuration.


|`<<minioConf,minioConf>>`
|object
|❌
|✅
//|Містить налаштування сховища резервних копій підсистеми управління реляційними базами даних.
|Contains the _Relational database management subsystem's_ backup storage configuration.

|===

[[instances]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.global.crunchyPostgresOperator.instances | <<crunchyPostgresOperator,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<replicas,operational>>`
|object
|❌
|✅
//|Містить налаштування операційних екземплярів БД підсистеми управління реляційними базами даних.
|Contains the _Relational database management subsystem's_ operational DB instance settings.

|`<<replicas,analytical>>`
|object
|❌
|✅
//|Містить налаштування аналітичних екземплярів БД підсистеми управління реляційними базами даних.
|Contains the _Relational database management subsystem's_ analytical DB instance settings.

|===

[[replicas]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.global.crunchyPostgresOperator.instances.operational (analytical) | <<instances,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`replicas`
|int
|❌
|✅
//|Визначає кількість екземплярів відповідних БД підсистеми управління реляційними базами даних.
|The number of relevant DB instances of the _Relational database management subsystem_.

|===

[[minioConf]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.global.crunchyPostgresOperator.minioConf | <<crunchyPostgresOperator,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`endpoint`
|string
|❌
|✅
//|Містить налаштування сховища сервісу асинхронного обміну повідомленнями.
|_Asynchronous messaging service's_ storage settings.

|`bucketName`
|string
|❌
|✅
//|Містить налаштування сховища сервісу асинхронного обміну повідомленнями.
|_Asynchronous messaging service's_ storage settings.

|===

[[tech-kafka]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.global.kafkaOperator | <<parent-tech-params,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<kafka-storage,storage>>`
|object
|❌
|✅
//|Містить налаштування сховища сервісу асинхронного обміну повідомленнями.
|_Asynchronous messaging service's_ storage settings.

|`kafkaBrokers`
|int
|3
|✅
//|Визначає кількість екземплярів Kafka брокерів.
|The number of Kafka broker instances.

|`zookeepers`
|int
|3
|✅
//|Визначає кількість екземплярів Zookeepers.
|The number of Zookeeper instances.

|`replicationFactor`
|int
|3
|✅
//|Налаштовує фактор реплікації Kafka що визначає кількість копій даних, які зберігаються в кількох брокерах Kafka.
|Configures the Kafka replication factor that determines the number of data copies stored across multiple Kafka brokers.

|`kafkaCentralNamespace`
|string
|❌
|✅
//|Визначає namespace компонента Kafka.
|The namespace of the Kafka component.

|===

[[kafka-storage]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.kafkaOperator.storage | <<tech-kafka,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<kafka-storage-zookeper,zookeeper>>`
|object
|❌
|✅
//|Містить налаштування Kafka Zookeeper.
|Contains Kafka Zookeeper settings.

|===

[[kafka-storage-zookeper]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.kafkaOperator.storage.zookeeper | <<kafka-storage,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`size`
|string
|5Gi
|✅
//|Визначає розмір сховища Kafka Zookeeper.
|The size of the Kafka Zookeeper storage.

|===

[[platform]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.platform | <<parent-tech-params,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<security,security>>`
|object
|❌
|✅
//|Містить налаштування безпеки реєстру.
|Contains registry security settings.

|===

[[security]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.platform.security | <<platform,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<csrf,csrf>>`
|object
|❌
|✅
//|Містить налаштування захисту від підробки запитів Cross-Site Request Forgery (CSRF).
|Contains Cross-Site Request Forgery (CSRF) protection settings.

|===

[[csrf]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.platform.security.csrf | <<security,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`enabled`
|bool
|true
|✅
//|Визначає чи ввімкнений або вимкнений захист від підробки запитів Cross-Site Request Forgery (CSRF).
|Determines whether the Cross-Site Request Forgery (CSRF) protection is enabled.

|===

[[s3]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.s3 | <<parent-tech-params,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<s3-config,config>>`
|object
|❌
|✅
//|Містить налаштування S3-клієнту реєстрових компонентів для коректної взаємодії з S3 сховищем.
|Contains the registry components' S3 client settings for correct interaction with the S3 storage.

|===

[[s3-config]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.s3.config | <<s3,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<s3-client,client>>`
|object
|❌
|✅
//|Містить налаштування S3-клієнту реєстрових компонентів для коректної взаємодії з S3 сховищем.
|Contains the registry components' S3 client settings for correct interaction with the S3 storage.

|`<<s3-options,options>>`
|object
|❌
|✅
//|Містить налаштування S3-клієнту реєстрових компонентів для коректної взаємодії з S3 сховищем.
|Contains the registry components' S3 client settings for correct interaction with the S3 storage.

|===

[[s3-client]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.s3.config.client | <<s3-config,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`protocol`
|object
|http
|✅
//|Визначає протокол взаємодії S3-клієнта та сервера.
|Defines the S3 client and server interaction protocol.

|===

[[s3-options]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.s3.config.options | <<s3-config,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`pathStyleAccess`
|object
|true
|✅
//|Вмикає доступ типу `path-style` до сегментів S3-бакетів.
|Enables `path-style` access to S3 bucket segments.

|===

[[vault]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.vault | <<parent-tech-params,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`platformVaultToken`
|string
|❌
|✅
//|Містить токен доступу до центрального сервісу управління секретами Платформи.
|Contains the access token for the Platform's central _Secrets and encryption management service_.

|`openshiftApiUrl`
|string
|❌
|✅
//|Містить URL до OKD API-сервера.
|The OKD API server URL.

|`centralVaultUrl`
|string
|❌
|✅
//|Містить URL до центрального сервісу управління секретами Платформи.
|The Platform's central _Secrets and encryption management service_ URL.

|`<<vault-server,server>>`
|object
|❌
|✅
//|Налаштування розгортання реєстрового Vault.
|Registry Vault deployment configuration.

|===

[[vault-server]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.vault.server | <<vault,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`<<vault-storage,dataStorage>>`
|string
|❌
|✅
//|Налаштування сховища для реєстрового Vault.
|Registry Vault storage configuration.

|`<<vault-storage,auditStorage>>`
|string
|❌
|✅
//|Налаштування аудит-сховища для реєстрового Vault.
|Registry Vault audit storage configuration.

|===

[[vault-storage]]
[cols="20%,15%,5%,5%,60%",options="header",caption=]
.vault.server.dataStorage (auditStorage) | <<vault-server,Return to parent table>>
|===
|Name |Type |Default value |Required |Description

|`storageClass`
|string
|ocs-storagecluster-ceph-rbd
|✅
//|Містить назву `StorageClass` що використовується для розгортання Vault за замовчуванням.
|Contains the `StorageClass` name used in Vault deployment by default.

|===
