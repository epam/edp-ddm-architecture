:toc-title: On this page:
:toc: auto
:toclevels: 5
:experimental:
:sectnums:
:sectnumlevels: 5
:sectanchors:
:sectlinks:
:partnums:

= Managing registry backup scheduling and retention

NOTE: üåê This document is available in both English and Ukrainian. Use the language toggle in the top right corner to switch between versions.

//== –ó–∞–≥–∞–ª—å–Ω–∏–π –æ–ø–∏—Å
== General description
////
–í –ø–æ—Ç–æ—á–Ω—ñ–π –≤–µ—Ä—Å—ñ—ó –ü–ª–∞—Ç—Ñ–æ—Ä–º–∏ —Ä–µ—î—Å—Ç—Ä—ñ–≤ –Ω–µ –ø–µ—Ä–µ–¥–±–∞—á–µ–Ω–æ –ø—Ä–æ—Ü–µ—Å—É –∫–µ—Ä—É–≤–∞–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏ –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∏ –±–µ–∫–∞–ø—É–≤–∞–Ω–Ω—è —Ä–µ—î—Å—Ç—Ä—ñ–≤.
–î–ª—è –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è —Ç–∞–∫–æ—ó —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ –ø—Ä–æ–ø–æ–Ω—É—î—Ç—å—Å—è –ø–æ–ª—ñ–ø—à–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –∞–¥–º—ñ–Ω-–∫–æ–Ω—Å–æ–ª—ñ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —è–∫—É –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä
—Ä–µ—î—Å—Ç—Ä—É –º–æ–∂–µ –Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞—Ç–∏ —Ä–æ–∑–∫–ª–∞–¥ —Ç–∞ —á–∞—Å –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π —Ä–µ—î—Å—Ç—Ä—É.
////
In the current version of the Registry Platform, there is no process for managing the settings of the registry backup subsystem.
To implement such functionality, it is proposed to improve the admin console interface, which the administrator uses
the registry can configure the schedule and time to store registry backups.

//== –†–æ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
== User roles

//* –¢–µ—Ö–Ω—ñ—á–Ω–∏–π –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä —Ä–µ—î—Å—Ç—Ä—É
* Registry administrator
////
== –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó
* –í–≤–µ–¥–µ–Ω–Ω—è —Ä–æ–∑–∫–ª–∞–¥—É —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ –∞–¥–º—ñ–Ω-–∫–æ–Ω—Å–æ–ª—å
* –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —á–∞—Å—É –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π —á–µ—Ä–µ–∑ –∞–¥–º—ñ–Ω-–∫–æ–Ω—Å–æ–ª—å
////

== Functional scenarios
* Entering the backup schedule through the admin console
* Setting the storage time of backup copies through the admin console

////
== –ó–∞–≥–∞–ª—å–Ω—ñ –ø—Ä–∏–Ω—Ü–∏–ø–∏ —Ç–∞ –ø–æ–ª–æ–∂–µ–Ω–Ω—è
* –í–≤–µ–¥–µ–Ω–Ω—è —Ä–æ–∑–∫–ª–∞–¥—É —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –≤ unix-cron —Ñ–æ—Ä–º–∞—Ç—ñ –∑–∞–¥–∞—î—Ç—å—Å—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
* –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —á–∞—Å—É –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π –≤–∫–∞–∑—É—î—Ç—å—Å—è –≤ –¥–Ω—è—Ö –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –≤ –≥–æ–¥–∏–Ω–∞—Ö –¥–ª—è —Å–∏—Å—Ç–µ–º–∏ –±–µ–∫–∞–ø—É–≤–∞–Ω–Ω—è
* –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ä–æ–∑–∫–ª–∞–¥—É —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Ç–∞ —á–∞—Å—É –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π –Ω–µ —î –æ–±–æ–≤ º—è–∑–∫–æ–≤–∏–º –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ —Ä–µ—î—Å—Ç—Ä—É
* –ü—Ä–∏ –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—ñ —Å—Ç—Ä–æ–∫—É –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∞ –±–µ–∫–∞–ø—É–≤–∞–Ω–Ω—è –≤–∏–¥–∞–ª—è—î –∑–∞—Å—Ç–∞—Ä—ñ–ª—ñ —Ä–µ–∑–µ—Ä–≤–Ω—ñ –∫–æ–ø—ñ—ó
* –í–≤–µ–¥–µ–Ω–∏–π —Ä–æ–∑–∫–ª–∞–¥ –ø–æ–≤–∏–Ω–µ–Ω –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ unix-cron —Ñ–æ—Ä–º–∞—Ç—É —Ç–∞ –≤–∞–ª—ñ–¥—É–≤–∞—Ç–∏—Å—å –∞–¥–º—ñ–Ω-–∫–æ–Ω—Å–æ–ª–ª—é
* –ß–∞—Å –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –±—ñ–ª—å—à–µ –∞–±–æ –¥–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ –æ–¥–∏–Ω–∏—Ü—ñ, –±—É—Ç–∏ —Ü—ñ–ª–∏–º —á–∏—Å–ª–æ–º —Ç–∞ –Ω–µ –º—ñ—Å—Ç–∏—Ç–∏ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏—Ö —Å–∏–º–≤–æ–ª—ñ–≤
* –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π –º–æ–∂–Ω–∞ –≤–∏–º–∫–Ω—É—Ç–∏ –∞–±–æ –≤–≤—ñ–º–Ω—É—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø–µ—Ä–µ–º–∏–∫–∞—á–∞
* –ü—Ä–∏ –≤–≤–µ–¥–µ–Ω—ñ —Ä–æ–∑–∫–ª–∞–¥—É —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –∞–¥–º—ñ–Ω-–∫–æ–Ω—Å–æ–ª—å –ø–æ–≤–∏–Ω–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç–∏ –∫–æ–ª–∏ –≤—ñ–¥–±—É–¥—É—Ç—å—Å—è –Ω–∞—Å—Ç—É–ø–Ω—ñ —Ç—Ä–∏ –∑–∞–ø—É—Å–∫–∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è
* –ü—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ —Ä–µ—î—Å—Ç—Ä—É –Ω–∞ –Ω–æ–≤—É –≤–µ—Ä—Å—ñ—é, –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ä–æ–∑–∫–ª–∞–¥—É —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π —Ç–∞ —á–∞—Å—É –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π –ø–æ–≤–∏–Ω–Ω–æ –∑–∞–ª–∏—à–∏—Ç–∏—Å—å –Ω–µ–∑–º—ñ–Ω–Ω–∏–º
* –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏—Ö —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π –≤–∏–º–∫–Ω–µ–Ω–æ –¥–ª—è –Ω–æ–≤–∏—Ö —Ä–µ—î—Å—Ç—Ä—ñ–≤
* –ê–¥–º—ñ–Ω-–∫–æ–Ω—Å–æ–ª—å –ø–æ–≤–∏–Ω–Ω–∞ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –¥–∞—Ç—É –æ—Å—Ç–∞–Ω–Ω—å–æ—ó —É—Å–ø—ñ—à–Ω–æ—ó —Ä–µ–∑–µ—Ä–≤–Ω–æ—ó –∫–æ–ø—ñ—ó —Ç–∞ —Ç–µ—Ä–º—ñ–Ω —ó—ó –≤–∏–¥–∞–ª–µ–Ω–Ω—è
* –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º —Ç–∞–π–º-–∑–æ–Ω–∞ `Europe/Kiev` –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è —É `values.yaml` —Ç–∞ –Ω–∞ —Ä—ñ–≤–Ω—ñ –ø–æ–¥–∏ –∑ Jenkins, —è–∫ –∑–º—ñ–Ω–Ω–∞ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
* –ü—Ä–∏ –≤–∏–º–∫–Ω–µ–Ω—ñ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —ñ—Å–Ω—É—é—á—ñ —Ä–µ–∑–µ—Ä–≤–Ω—ñ –∫–æ–ø—ñ—ó –Ω–µ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è
* –ê–¥–º—ñ–Ω-–∫–æ–Ω—Å–æ–ª—å –ø–æ–≤–∏–Ω–Ω–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏ –∑–∞–¥–∞–Ω–∏–π —á–∞—Å–æ–≤–∏–π –ø–æ—è—Å –≤ `values.yaml` –ø—Ä–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—ñ —Ä–æ–∑–∫–ª–∞–¥—É —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è.
////

== General provisions

* Entry of the backup schedule in unix-cron format is set by the administrator
* Backup storage time settings are specified in days by the administrator and set in hours for the backup system
* Setting the backup schedule and backup storage time is optional when creating the registry
* When the storage period expires, the backup system deletes outdated backup copies
* The entered schedule must correspond to the unix-cron format and be validated by the admin console
* Backup storage time must be greater than or equal to one, be an integer, and contain no special characters
* Automatic backups can be turned off or on with a switch
* When entering a backup schedule, the admin console should show when the next three backup runs will take place
* When updating the registry to a new version, the backup schedule and backup storage time settings should remain unchanged
* By default, the automatic backups setting is disabled for new registries
* The admin console should show the date of the last successful backup and the date of its deletion
* By default, the time zone `Europe/Kiev` is set in `values.yaml` and at the pod level with Jenkins, as an environment variable
* When backup is disabled, existing backups are not deleted
* The admin console should reflect the specified time zone in `values.yaml` when configuring the backup schedule.

////
== –ü–æ—Ç–æ—á–Ω–∏–π —Ç–µ—Ö–Ω—ñ—á–Ω–∏–π –¥–∏–∑–∞–π–Ω
–í –ø–æ—Ç–æ—á–Ω—ñ–π –≤–µ—Ä—Å—ñ—ó –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏ —Ä–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Ä–µ—î—Å—Ç—Ä—ñ–≤ –¥–æ—Å—Ç—É–ø–Ω–µ —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ —Ä—É—á–Ω–æ–º—É –∑–∞–ø—É—Å–∫—É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—ó –¥–∂–æ–±–∏.
–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —á–∞—Å—É –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π –Ω–µ –ø–µ—Ä–µ–¥–±–∞—á–µ–Ω–æ.
////

== Current technical design
In the current version of the platform, registry backup is available only when the corresponding job is manually launched.
Setting the storage time of backup copies is not provided.

////
== –¢–µ—Ö–Ω—ñ—á–Ω–∏–π –¥–∏–∑–∞–π–Ω —Ä—ñ—à–µ–Ω–Ω—è
–ù–∞ –¥–∞–Ω—ñ–π –¥—ñ–∞–≥—Ä–∞–º—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–æ –∑–∞–ª—É—á–µ–Ω—ñ –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≤–∏–º–æ–≥ —Å–µ—Ä–≤—ñ—Å–∏ —Ç–∞ –≤–∑–∞—î–º–æ–¥—ñ—é –º—ñ–∂ –Ω–∏–º–∏.
–î–æ–¥–∞—Ç–∫–æ–≤–æ –∑–æ–±—Ä–∞–∂–µ–Ω–æ –≤–∞–∂–ª–∏–≤—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ, —è–∫—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –±—Ä–∞—Ç–∏ –¥–æ —É–≤–∞–≥–∏ –≤ —Ä–∞–º–∫–∞—Ö —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó.
////

== Technical solution design
This diagram shows the services involved in fulfilling the requirements and the interaction between them.
In addition, important features that must be taken into account in the framework of implementation are depicted.

image::architecture/platform/administrative/control-plane/backup-schedule/backup-schedule.svg[remote-file-transfer,700]

//–†–æ–∑–∫–ª–∞–¥ —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π —Ç–∞ —á–∞—Å –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π –ø–µ—Ä–µ–¥–∞—é—Ç—å—Å—è –≤ values.yaml
The backup schedule and backup retention time are passed in values.yaml
[source, yaml]
----
global:
  timeZone: Europe/Kiev
  .....
  registryBackup:
    enabled: true
    schedule: "30 19 * * *"
    expiresInDays: 3
----
////
—Ç–∞ –≤ –∞–Ω–æ—Ç–∞—Ü—ñ—é `registry-parameters/values` codebase —Ä–µ—Å—É—Ä—Å—É —Ä–µ—î—Å—Ç—Ä—É.
–û–ø–µ—Ä–∞—Ç–æ—Ä –ø–æ–≤–∏–Ω–µ–Ω –∑—Ä–µ–∞–≥—É–≤–∞—Ç–∏ –Ω–∞ –∑–º—ñ–Ω—É –≤ codebase CR —Ç–∞ —Ç—Ä–∏–≥–µ—Ä–Ω—É—Ç–∏ job provisioner, —è–∫–∏–π –ø–µ—Ä–µ—Å—Ç–≤–æ—Ä–∏—Ç—å `Create-registry-backup`
–¥–∂–æ–±—É –∑ –Ω–æ–≤–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏. –ü—Ä–∏–∫–ª–∞–¥ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ä–æ–∑–∫–ª–∞–¥—É –≤ Jenkins:
[source, bash]
////
and in the `registry-parameters/values` codebase annotation of the registry resource.
The operator must react to the change in the CR codebase and trigger the job provisioner, which will recreate `Create-registry-backup`
job with new parameters. An example of configuring a schedule in Jenkins:
[source, bash]
----
30 19 * * *
----

//== –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–µ—Ä—É–≤–∞–Ω–Ω—è
== Management interface

//An example of filling in backup parameters. If the schedule is filled out correctly, then we show the next execution dates.

image::architecture/platform/administrative/control-plane/backup-schedule/schedule-2.svg[]

//.–†–æ–∑–≥–æ—Ä–Ω—ñ—Ç—å, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –±—ñ–ª—å—à–µ –º–æ–∫–∞–ø—ñ–≤
.Expand to see more mockups
[%collapsible%]
====
//* –ü–æ—á–∞—Ç–∫–æ–≤–∏–π —Å—Ç–∞–Ω. –†–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –≤–∏–º–∫–Ω–µ–Ω–æ:
* Initial state. Backup is disabled:
+
image::architecture/platform/administrative/control-plane/backup-schedule/schedule-1.svg[]

//* –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ —Ä–µ–∑–µ—Ä–≤–Ω—ñ –∫–æ–ø—ñ—ó —ñ—Å–Ω—É—é—Ç—å –≤ —Å–∏—Å—Ç–µ–º—ñ. –í–∏–≤–æ–¥–∏–º–æ –¥–∞—Ç—É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–ø—ñ—ó —Ç–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –¥–Ω—ñ–≤ –¥–æ —ó—ó –≤–∏–¥–∞–ª–µ–Ω–Ω—è:
* Previous backups exist in the system. We output the date of creation of the copy and the number of days until its deletion:
+
image::architecture/platform/administrative/control-plane/backup-schedule/schedule-3.svg[]

====

//== –í–∏—Å–æ–∫–æ—Ä—ñ–≤–Ω–µ–≤–∏–π –ø–ª–∞–Ω —Ä–æ–∑—Ä–æ–±–∫–∏
== High-level development plan

//=== –¢–µ—Ö–Ω—ñ—á–Ω—ñ –µ–∫—Å–ø–µ—Ä—Ç–∏–∑–∏
=== Technical examinations

* _BE / DevOps_

////
=== –ü–ª–∞–Ω —Ä–æ–∑—Ä–æ–±–∫–∏
* –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É codebase –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ —Ç—Ä–∏–≥–µ—Ä–æ–º jenkins job provisioner –ø—ñ—Å–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è codebase CR
* –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è UI —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É –∞–¥–º—ñ–Ω-–∫–æ–Ω—Å–æ–ª—ñ –ø–æ –≤–≤–µ–¥–µ–Ω–Ω—é / –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—é –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å —Ä–æ–∑–∫–ª–∞–¥—É —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π —Ç–∞ —á–∞—Å—É —ó—Ö –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è
* –†–æ–∑—Ä–æ–±–∫–∞ groovy-—Ñ—É–Ω–∫—Ü—ñ–π –≤ jenkins job provisioner –ø–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—é –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –≤ `Create-registry-backup` job.
////

=== Development plan
* Extending the functionality of the codebase operator with a jenkins job provisioner trigger after updating the CR codebase
* Extension of the UI functionality of the admin console for entering / saving backup schedule settings and their storage time
* Development of groovy functions in jenkins job provisioner for updating parameters in `Create-registry-backup` job.

////
== –ú—ñ–≥—Ä–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö –ø—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ —Ä–µ—î—Å—Ç—Ä—É
* –ü—ñ–¥ —á–∞—Å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–µ—î—Å—Ç—Ä—É –Ω–∞ –Ω–æ–≤—É –≤–µ—Ä—Å—ñ—é –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ä–æ–∑–∫–ª–∞–¥—É –±–µ–∫–∞–ø—ñ–≤ –ø–æ—Ç–æ—á–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–æ–≤–∏–Ω–Ω—ñ –∑–∞–ª–∏—à–∏—Ç–∏—Å—å –Ω–µ–∑–º—ñ–Ω–Ω–∏–º–∏.
* –ù–µ–æ–±—Ö—ñ–¥–Ω–æ –ø–µ—Ä–µ–¥–±–∞—á–∏—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∏–º–∫–Ω–µ–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –±–µ–∫–∞–ø—É–≤–∞–Ω–Ω—è —Ä–µ—î—Å—Ç—Ä–∞.
////

== Data migration when updating the registry
* When updating the registry to a new version of the backup schedule settings, the current settings should remain unchanged.
* It is necessary to provide for the possibility of disabling automatic backup of the registry.

== Security

=== Business data
////
|===
|–ö–∞—Ç–µ–≥–æ—Ä—ñ—è –î–∞–Ω–∏—Ö|–û–ø–∏—Å|–ö–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—ñ—Å—Ç—å|–¶—ñ–ª—ñ—Å–Ω—ñ—Å—Ç—å|–î–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å
|–¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–∞–Ω—ñ —â–æ –º—ñ—Å—Ç—è—Ç—å –≤—ñ–¥–∫—Ä–∏—Ç—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é | –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏, –∫–æ–Ω—Ñ—ñ–≥–∏, –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑ –Ω–µ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏ –∞–ª–µ –∑–º—ñ–Ω–∞ —è–∫–∏—Ö –º–æ–∂–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ –≤–ø–ª–∏–Ω—É—Ç–∏ –Ω–∞ –∞—Ç—Ä–∏–±—É—Ç–∏ —Å–∏—Å—Ç–µ–º–∏ |–í—ñ–¥—Å—É—Ç–Ω—è|–í–∏—Å–æ–∫–∞|–í–∏—Å–æ–∫–∞
|===
////
|===
|Data category|Description|Privacy|Integrity|Accessibility
|Technical data containing open information | System settings, configs, parameters with non-confidential values, but changing which can negatively affect system attributes |Absent|High|High
|===

=== Simplified threat model

image::architecture/platform/administrative/control-plane/backup-schedule/schedule_TM.svg[]

//=== –ú–µ—Ö–∞–Ω—ñ–∑–º–∏ –ø—Ä–æ—Ç–∏–¥—ñ—ó —Ä–∏–∑–∏–∫–∞–º –±–µ–∑–ø–µ–∫–∏ —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å –≤–∏–º–æ–≥–∞–º –±–µ–∑–ø–µ–∫–∏
=== Security risk mitigation and compliance

////

|===
| –†–∏–∑–∏–∫ | –ó–∞—Å–æ–±–∏ –∫–æ–Ω—Ç—Ä–æ–ª—é –±–µ–∑–ø–µ–∫–∏ | –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è | –ü—Ä—ñ–æ—Ä—ñ—Ç–µ—Ç 
| –í—ñ–¥–¥–∞–ª–µ–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥–∏ (RCE). –ó–Ω–∞—á–µ–Ω–Ω—è expiresInDays –±–µ–∑ —Å–∞–Ω—ñ—Ç—ñ–∑–∞—Ü—ñ—ó –∫–æ–º—ñ—Ç–∞—î—Ç—å—Å—è –≤ –≥–µ—Ä—ñ—Ç –∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –∞–¥–º—ñ–Ω –∫–æ–Ω—Å–æ–ª—ñ. –ü—ñ–¥ —á–∞—Å –∑–∞–ø—É—Å–∫—É –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –≤ —Å–∫—Ä–∏–ø—Ç backup-registry.sh —è–∫ –∞—Ä–≥—É–º–µ–Ω—Ç –∑–Ω–æ–≤—É –±–µ–∑ —Å–∞–Ω—ñ—Ç—ñ–∑–∞—Ü—ñ—ó —â–æ –¥–∞—î –∑–º–æ–≥—É –≤–∏–∫–æ–Ω–∞—Ç–∏ –±—É–¥—å-—è–∫—É —Å–∏—Å—Ç–µ–º–Ω—É –∫–æ–º–∞–Ω–¥—É –Ω–∞ –ø—Ä–æ–≤—ñ–∂–µ–Ω–µ—Ä—ñ
a|
- –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –º–µ—Ö–∞–Ω—ñ–∑–º –ø–æ–∑–∏—Ç–∏–≤–Ω–æ—ó –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –¥–ª—è —Ñ–æ—Ä–º–∏ "–†–æ–∑–∫–ª–∞–¥" –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ
- –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –º–µ—Ö–∞–Ω—ñ–∑–º –ø–æ–∑–∏—Ç–∏–≤–Ω–æ—ó –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –¥–ª—è –¥–∞–Ω–∏—Ö –∑ —Ñ–æ—Ä–º–∏ "–†–æ–∑–∫–ª–∞–¥" –Ω–∞ –±–µ–∫–µ–Ω–¥—ñ
- –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –º–µ—Ö–∞–Ω–∑–º —Å—Ç—Ä–æ–≥–æ—ó —Ç–∏–ø—ñ–∑–∞—Ü—ñ—ó —Ç–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –¥–ª—è –¥–∞–Ω–∏—Ö expiresInDays –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ
- –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –º–µ—Ö–∞–Ω–∑–º —Å—Ç—Ä–æ–≥–æ—ó —Ç–∏–ø—ñ–∑–∞—Ü—ñ—ó —Ç–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –¥–ª—è –¥–∞–Ω–∏—Ö –∑ —Ñ–æ—Ä–º–∏ expiresInDays –Ω–∞ –±–µ–∫–µ–Ω–¥—ñ
- –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –º–µ—Ö–∞–Ω—ñ–∑–º —Å–∞–Ω—ñ—Ç—ñ–∑–∞—Ü—ñ—ó –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤ –≤ —Å–∫—Ä–∏–ø—Ç—ñ backup-registry.sh
| –ß–∞—Å—Ç–∫–æ–≤–æ –≤—Ä–∞—Ö–æ–≤–∞–Ω–æ –≤ –ø–æ—á–∞—Ç–∫–æ–≤–æ–º—É –¥–∏–∑–∞–π–Ω—ñ. –ó–∞–ª–∏—à–∏–ª–æ—Å—å —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –º–µ—Ö–∞–Ω—ñ–∑–º —Å–∞–Ω—ñ—Ç—ñ–∑–∞—Ü—ñ—ó –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤ –≤ —Å–∫—Ä–∏–ø—Ç—ñ backup-registry.sh | –ö—Ä–∏—Ç–∏—á–Ω–∏–π

| –í—ñ–¥–º–æ–≤–∞ –≤ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—ñ —á–µ—Ä–µ–∑ –≤–∏—á–µ—Ä–ø–∞–Ω–Ω—è –æ–±—á–∏—Å–ª—é–≤–∞–ª—å–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤ (DOS) —à–ª—è—Ö–æ–º –∑–∞–¥–∞–Ω–Ω—è —Ä–æ–∑–∫–ª–∞–¥—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –∫–æ–∂–Ω—É —Ö–≤–∏–ª–∏–Ω—É
a|
- –†–æ–∑—Ä–æ–±–∏—Ç–∏ –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–ª—è —Ä–æ–∑–∫–ª–∞–¥—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —è–∫ –º—ñ–Ω—ñ–º—É–º –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞ –≥–æ–¥–∏–Ω—É.
| –ù–µ –≤—Ä–∞—Ö–æ–≤–∞–Ω–æ –≤ –ø–æ—á–∞—Ç–∫–æ–≤–æ–º—É –¥–∏–∑–∞–π–Ω—ñ | –í–∏—Å–æ–∫–∏–π

| –†–∏–∑–∏–∫ –≤—Ç—Ä–∞—Ç–∏ –¥–∞–Ω–∏—Ö –ø—Ä–∏ –∑–∞–Ω–∞–¥—Ç–æ –º–∞–ª–æ–º—É —Ç–µ—Ä–º—ñ–Ω—É –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π
a|
- –†–æ–∑—Ä–æ–±–∏—Ç–∏ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –ª—ñ–º—ñ—Ç –¥–ª—è —Ç–µ—Ä–º—ñ–Ω—É –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π —Ä—ñ–≤–Ω–∏–π 7 –¥–Ω—è–º.
| –ù–µ –≤—Ä–∞—Ö–æ–≤–∞–Ω–æ –≤ –ø–æ—á–∞—Ç–∫–æ–≤–æ–º—É –¥–∏–∑–∞–π–Ω—ñ | –í–∏—Å–æ–∫–∏–π

| –†–∏–∑–∏–∫ –≤—Ç—Ä–∞—Ç–∏ –¥–∞–Ω–∏—Ö –ø—Ä–∏ –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ —É–≤—ñ–º–∫–Ω–µ–Ω–æ–≥–æ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º. (Secure by default)
a|
- –†–æ–∑—Ä–æ–±–∏—Ç–∏ —Ä–æ–∑–∫–ª–∞–¥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Ç–∞ —Ç–µ—Ä–º—ñ–Ω—É –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –π–æ–≥–æ –¥–ª—è –Ω–æ–≤–∏—Ö —Ä–µ—î—Å—Ç—Ä—ñ–≤.
| –ù–µ –≤—Ä–∞—Ö–æ–≤–∞–Ω–æ –≤ –ø–æ—á–∞—Ç–∫–æ–≤–æ–º—É –¥–∏–∑–∞–π–Ω—ñ | –í–∏—Å–æ–∫–∏–π

| –í—ñ–¥–º–æ–≤–∞ –≤—ñ–¥ –∞–≤—Ç–æ—Ä—Å—Ç–≤–∞. –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –∞—É–¥–∏—Ç –ª–æ–≥—É —ñ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó —Ö—Ç–æ –∑–∞–π–º–∞–≤—Å—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è.
a|
- –¶—ñ–ª—å–æ–≤–∏–π —Å–µ—Ä–≤—ñ—Å –º–∞—î –ª–æ–≥—É–≤–∞—Ç–∏ —É—Å—ñ –∑–∞–ø–∏—Ç–∏ —Ç–∞ –Ω–∞–¥—Å–∏–ª–∞—Ç–∏ —ó—Ö –¥–æ —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏ –ª–æ–≥—É–≤–∞–Ω–Ω—è —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É.
- –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—å —â–æ —É—Å—ñ –Ω–µ—É—Å–ø—ñ—à–Ω—ñ –∑–∞–ø–∏—Ç–∏ —Ç–∞ –ø–æ–º–∏–ª–∫–∏ –ø—Ä–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ–π –±—É–¥—É—Ç—å –∑–∞–ª–æ–≥–æ–≤–∞–Ω—ñ.
- –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è –º–∞—î –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —É–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π —á–∞—Å —Ç–∞ —á–∞—Å–æ–≤—É –∑–æ–Ω—É.
- –õ–æ–≥–∏ –º–∞—é—Ç—å –±—É—Ç–∏ —É —É–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ —Ç–∞ –º—ñ—Å—Ç–∏—Ç–∏ —É—Å—é –Ω–µ–æ–±—Ö—ñ–¥–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –¥–ª—è —Ä–æ–∑—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è —ñ–Ω—Ü–∏–¥–µ–Ω—Ç—ñ–≤ –±–µ–∑–ø–µ–∫–∏.
- –õ–æ–≥–∏ –Ω–µ –º–∞—é—Ç—å –º—ñ—Å—Ç–∏—Ç–∏ —á—É—Ç–ª–∏–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –∞–±–æ –≤–æ–Ω–∞ –ø–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ –∑–∞–ø–ª—É—Ç–∞–Ω–∞ (obfuscated) –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–º —á–∏–Ω–æ–º
| –ù–µ –≤—Ä–∞—Ö–æ–≤–∞–Ω–æ –≤ –ø–æ—á–∞—Ç–∫–æ–≤–æ–º—É –¥–∏–∑–∞–π–Ω—ñ | –°–µ—Ä–µ–¥–Ω—ñ–π

| –†–∏–∑–∏–∫ –≤–∏—Ç–æ–∫—É –¥–∞–Ω–∏—Ö –ø—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ –ø—Ä–æ—Å—Ç–æ—Ä—É –¥–æ–º–µ–Ω–∏—Ö —ñ–º–µ–Ω
a|
- –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤—Å—é –≤–Ω—É—Ç—Ä—ñ—à–Ω—é –º—ñ–∂—Å–µ—Ä–≤—ñ—Å–Ω—É –∫–æ–º—É–Ω—ñ–∫–∞—Ü—é –Ω–∞ –ø—Ä–∏–≤–∞—Ç–Ω—ñ –¥–æ–º–µ–Ω—ñ —ñ–º–µ–Ω–∞.
| –ß–∞—Å—Ç–∫–æ–≤–æ –≤—Ä–∞—Ö–æ–≤–∞–Ω–æ –≤ –ø–æ—á–∞—Ç–∫–æ–≤–æ–º—É –¥–∏–∑–∞–π–Ω—ñ. –î–µ—è–∫—ñ —Å–µ—Ä–≤—ñ—Å–∏ –º–æ–∂—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∑–æ–≤–Ω—ñ—à–Ω—ñ –∞–¥—Ä–µ—Å–∏. –ü–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —É—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏ –Ω–∞ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—é –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –ø—Ä–∏–≤–∞—Ç–Ω–æ—ó –º–µ—Ä–µ–∂—ñ | –°–µ—Ä–µ–¥–Ω—ñ–π

| –í–∏–º–æ–≥–∏ –∑ –±–µ–∑–ø–µ–∫–∏: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–µ—Ä–µ–∂–µ–≤–∏—Ö –ø–æ–ª—ñ—Ç–∏–∫ –±–µ–∑–ø–µ–∫–∏
a|
- –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –º–µ—Ä–µ–∂–µ–≤—ñ –ø–æ–ª—ñ—Ç–∏–∫–∏ —Ç–∞–∫–∏–º —á–∏–Ω–æ–º —â–æ–± –≤–æ–Ω–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª–∏ –ø—Ä–∏–Ω—Ü–∏–ø—É –Ω–∞–π–º–µ–Ω—à–∏—Ö –ø—Ä—ñ–≤—ñ–ª–µ—ó–≤.
| –í—Ä–∞—Ö–æ–≤–∞–Ω–æ –≤ –ø–æ—á–∞—Ç–∫–æ–≤–æ–º—É –¥–∏–∑–∞–π–Ω—ñ  | –°–µ—Ä–µ–¥–Ω—ñ–π

////

|===
| Risk | Security controls | Realization | Priority
| Remote command execution (RCE). The expiresInDays value without sanitization is committed to herit from the admin console interface. When starting the backup procedure, the value is passed to the backup-registry.sh script as an argument, again without sanitization, which allows you to execute any system command on the provisioner
a|
- Implement a positive validation mechanism for the "Schedule" form on the frontend
- Implement a positive validation mechanism for data from the "Schedule" form on the backend
- Implement a strict typing and validation mechanism for expiresInDays data on the frontend
- Implement a mechanism of strict typing and validation for data from the expiresInDays form on the backend
- Implement the argument sanitization mechanism in the backup-registry.sh script
| Partially considered in the initial design. It remains to implement the argument sanitization mechanism in the backup-registry.sh script | Critical

| Refusal of Service (DOS) by scheduling backups to run every minute
a|
- Design a limit for the backup schedule to run at least once an hour.
| Not considered in the initial design | High

|Risk of data loss if the storage period for backup copies is too short
a|
- Develop a minimum limit for the storage period of backup copies equal to 7 days.
| Not considered in the initial design | High

| Risk of data loss if backup is not enabled by default. (Secure by default)
a|
- Develop a default backup and retention schedule and use it for new registries.
| Not considered in the initial design | High

| Disclaimer of authorship. Lack of audit log and information about who was involved in the backup configuration.
a|
- The target service should log all requests and send them to a centralized logging and monitoring system.
- Make sure that all unsuccessful requests and errors during operations will be logged.
- The logging system must use a unified time and time zone.
- Logs must be in a unified format and contain all the necessary information for the investigation of security incidents.
- Logs should not contain sensitive information or it should be obfuscated accordingly
| Not considered in the initial design | Average

| Risk of data leakage when using external domain name space
a|
- Transfer all internal interservice communication to private domain names.
| Partially considered in the initial design. Some services may use external addresses. It is necessary to transfer all services to communication within a private network | Average

| Security requirements: Configuring network security policies
a|
- Configure network policies to conform to the principle of least privilege.
| Considered in the initial design | Average


|===
//== –ì–ª–æ—Å–∞—Ä—ñ–π —Ç–∞ –∞–∫—Ä–æ–Ω—ñ–º–∏
== Glossary and acronyms

[cols="3,6"]
|===
|Term|Description

|_–°R_
|Custom Resource

|===
