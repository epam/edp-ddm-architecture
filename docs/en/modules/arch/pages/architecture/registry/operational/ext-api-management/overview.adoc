//= Підсистема управління зовнішнім трафіком операційної зони реєстру
= External traffic management subsystem of the registry operational zone
include::platform:ROOT:partial$templates/document-attributes/arch-set-en.adoc[]

include::platform:ROOT:partial$admonitions/language-en.adoc[]

//== Загальний опис
== General overview

//Підсистема, призначенням якої є управління зовнішнім трафіком та контроль доступу до API-сервісів операційної зони Реєстру.
The subsystem is designed to manage external traffic and control access to API services of the registry operational zone.

//== Функції підсистеми
== Subsystem functions

//* Аутентифікація та авторизація запитів
// зони реєстру
//* Налаштування та контроль рейт-лімітів
//* Трансформація запитів та відповідей
//* Логування вхідних запитів
* Authentication and authorization of requests
* Traffic routing to API services of the registry operational zone subsystems
* Configuration and control of rate limits
* Transformation of requests and responses
* Logging of incoming requests

//== Технічний дизайн підсистеми
== Technical design of the subsystem

image::architecture/registry/operational/ext-api-management/registry-ext-traffic-subsystem.drawio.svg[width=600,float="center",align="center"]

//== Складові підсистеми
[#subsystem-components]
== Subsystem components

|===
//|Назва компоненти|Представлення в реєстрі|Походження|Репозиторій|Призначення
|Component name|Presentation in the registry|Origin|Repository|Purpose

//|_Зовнішній API-шлюз операційної зони_
|_Registry operational zone external API gateway_
|`kong-kong`
|3rd-party
|https://github.com/epam/edp-ddm-kong[github:/epam/edp-ddm-kong]
//|Забезпечує керування трафіком, авторизацію, контроль доступу до API, балансування навантаження, перетворення запитів/відповідей та аналітику/моніторинг.
|Provides traffic management, authorization, API access control, load balancing, request/response transformation, and analytics/monitoring.

//|_ServiceMesh шлюз_
|_ServiceMesh gateway_
|`istio-ingressgateway`
|3rd-party
|https://github.com/istio/proxy[github:/istio/proxy]
//|Мережевий шлюз що працює на межі istio service-mesh та отримує вхідні з'єднання HTTP/TCP.
|Network gateway operating on the edge of the Istio service
-mesh, receiving incoming HTTP/TCP connections.

//|xref:arch:architecture/registry/operational/ext-api-management/redis-storage.adoc#_sessions[__Операційне сховище сесій користувача__]
|xref:arch:architecture/registry/operational/ext-api-management/redis-storage.adoc#_sessions[__Operational user sessions storage__]
|`redis:sessions`
|3rd-party
|-
//|Зберігання користувацьких JWT-токенів
|Storage of user JWT tokens
|===

//== Технологічний стек
== Technological stack

//При проектуванні та розробці підсистеми, були використані наступні технології:
The following technologies were used in the design and development of the subsystem:

* xref:arch:architecture/platform-technologies.adoc#kong[Kong]
* xref:arch:architecture/platform-technologies.adoc#kong-ingress-controller[Kong Ingress Controller]
* xref:arch:architecture/platform-technologies.adoc#redis[Redis]
* xref:arch:architecture/platform-technologies.adoc#istio[Istio ServiceMesh]

//== Атрибути якості підсистеми
== Subsystem quality attributes
=== _Scalability_

//Підсистема управління зовнішнім трафіком операційної зони реєстру підтримує як горизонтальне, так і вертикальне масштабування.
The external traffic management subsystem of the registry operational zone supports both horizontal and vertical scalability.
[TIP]
--
//Детальніше з масштабуванням підсистем можна ознайомитись у розділі
For more details on subsystem scalability, please refer to
xref:architecture/container-platform/container-platform.adoc[]
--

=== _Observability_
//Підсистема управління зовнішнім трафіком операційної зони реєстру підтримує журналювання вхідних запитів та збір метрик продуктивності для подальшого аналізу через веб-інтерфейси відповідних підсистем Платформи.
The external traffic management subsystem of the registry operational zone supports logging of incoming requests and collects performance metrics for further analysis through web interfaces of the corresponding Platform subsystems.

[TIP]
--
//Детальніше з дизайном підсистем можна ознайомитись у відповідних розділах:
For more details on subsystem design, please refer to the relevant sections:

* xref:arch:architecture/platform/operational/logging/overview.adoc[]
* xref:arch:architecture/platform/operational/monitoring/overview.adoc[]
--

=== _Portability_
//Підсистема управління зовнішнім трафіком операційної зони реєстру може бути перенесена, розгорнута та керована однаково та надійно на різних платформах оркестрації контейнерів що розгорнуті в різних хмарних середовищах або власній інфраструктурі в дата-центрі.
The external traffic management subsystem of the registry operational zone can be easily transported, deployed, and reliably managed across different container orchestration platforms in various cloud environments or in proprietary infrastructure within data centers.

[TIP]
--
//Детальніше можна ознайомитись у розділі xref:arch:architecture/container-platform/container-platform.adoc[Платформа оркестрації контейнерів]
For more details, please refer to
xref:arch:architecture/container-platform/container-platform.adoc[Container orchestration platform]
--
