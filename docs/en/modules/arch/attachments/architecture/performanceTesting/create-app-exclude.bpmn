<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" id="Definitions_0rgkxg0" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.5.0">
  <bpmn:collaboration id="Collaboration_02ovycg">
    <bpmn:participant id="Participant_18brs1j" name="Create an application to remove the Laboratory from the list" processRef="create-app-exclude" />
  </bpmn:collaboration>
  <bpmn:process id="create-app-exclude" name="Створення заяви на видалення Лабораторії з переліку" isExecutable="true">
    <bpmn:sequenceFlow id="Flow_0tei7z3" sourceRef="createRegistrationForDenyActivity" targetRef="defineBusinessProcessStatusForDenyActivity" />
    <bpmn:sequenceFlow id="Flow_1s2oez3" sourceRef="createRegistrationForExclusionActivity" targetRef="defineBusinessProcessStatusForExclusionActivity" />
    <bpmn:sequenceFlow id="Flow_1dgxdk8" sourceRef="signFormDataForDenyWithDsoActivity" targetRef="createRegistrationForDenyActivity" />
    <bpmn:sequenceFlow id="Flow_1578idm" sourceRef="convertSignFormDataForDenyToDataFactoryFormatActivity" targetRef="signFormDataForDenyWithDsoActivity" />
    <bpmn:sequenceFlow id="Flow_0ewnmuo" sourceRef="signFormDataForExclusionWithDsoActivity" targetRef="createRegistrationForExclusionActivity" />
    <bpmn:sequenceFlow id="Flow_1frzegu" sourceRef="convertSignFormDataForExclusionToDataFactoryFormatActivity" targetRef="signFormDataForExclusionWithDsoActivity" />
    <bpmn:sequenceFlow id="Flow_1bxrr8b" sourceRef="searchApplicationTypeIdForDenyActivity" targetRef="convertSignFormDataForDenyToDataFactoryFormatActivity" />
    <bpmn:sequenceFlow id="Flow_0039a9g" sourceRef="searchApplicationTypeIdForExclusionActivity" targetRef="convertSignFormDataForExclusionToDataFactoryFormatActivity" />
    <bpmn:sequenceFlow id="Flow_0xrur4k" name="no" sourceRef="Gateway_0ylv6h6" targetRef="getExcludeSolutionActivity">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${!errorCheckFlag}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0kv96nf" sourceRef="getExcludeSolutionActivity" targetRef="Activity_1getm1o" />
    <bpmn:sequenceFlow id="Flow_0txtb4r" sourceRef="getDenySolutionActivity" targetRef="Activity_0hozznl" />
    <bpmn:sequenceFlow id="Flow_0yrwhm9" sourceRef="defineBusinessProcessStatusForDenyActivity" targetRef="Event_15ha5z9" />
    <bpmn:sequenceFlow id="Flow_1k1xaa5" sourceRef="defineBusinessProcessStatusForExclusionActivity" targetRef="Event_1dnnwxx" />
    <bpmn:sequenceFlow id="Flow_19mzg2a" sourceRef="Event_0tpo6ct" targetRef="Gateway_1g2worh" />
    <bpmn:sequenceFlow id="Flow_0on4bmx" sourceRef="Gateway_1g2worh" targetRef="signAppDenyFormActivity" />
    <bpmn:sequenceFlow id="Flow_1dxtp73" name="Ministry of State Labor" sourceRef="Gateway_0zq2506" targetRef="buildPrepopulationForAddLetterDataFormForExclusionActivity">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${initiated.equals("держпраці")}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0324uei" sourceRef="Event_1d3528m" targetRef="Gateway_0ynaerq" />
    <bpmn:sequenceFlow id="Flow_1b6jn9b" sourceRef="Gateway_0ynaerq" targetRef="signAppExcludeFormActivity" />
    <bpmn:sequenceFlow id="Flow_1umse39" sourceRef="parseCheckComplienceFormActivity" targetRef="Gateway_0ylv6h6" />
    <bpmn:sequenceFlow id="Flow_0810ess" name="Laboratory" sourceRef="Gateway_0zq2506" targetRef="Gateway_0qv9m5y">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${initiated.equals("лабораторія")}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0s0wsvr" sourceRef="Gateway_0qv9m5y" targetRef="createSignAppExcludeFormDataPrepoulationActivity" />
    <bpmn:sequenceFlow id="Flow_0uwwm0r" sourceRef="Gateway_0e2dhwk" targetRef="createSignAppDenyFormDataPrepoulationActivity" />
    <bpmn:sequenceFlow id="Flow_053dudb" sourceRef="addLetterDataFormForExclusionActivity" targetRef="Gateway_0qv9m5y" />
    <bpmn:sequenceFlow id="Flow_1agrlbi" sourceRef="buildPrepopulationForAddLetterDataFormForDenyActivity" targetRef="addLetterDataFormForDenyActivity" />
    <bpmn:sequenceFlow id="Flow_0inr64u" sourceRef="createSignAppExcludeFormDataPrepoulationActivity" targetRef="Gateway_0ynaerq" />
    <bpmn:sequenceFlow id="Flow_1qb0apf" sourceRef="addLetterDataFormForDenyActivity" targetRef="Gateway_0e2dhwk" />
    <bpmn:sequenceFlow id="Flow_0dk9gjo" sourceRef="buildPrepopulationForAddLetterDataFormForExclusionActivity" targetRef="addLetterDataFormForExclusionActivity" />
    <bpmn:sequenceFlow id="Flow_0gb78wp" name="yes" sourceRef="Gateway_0ylv6h6" targetRef="getDenySolutionActivity">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${errorCheckFlag}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0ebqe8e" sourceRef="checkComplianceFormActivity" targetRef="parseCheckComplienceFormActivity" />
    <bpmn:sequenceFlow id="Flow_0wo44qp" sourceRef="getNameAndEdrpouFromLabActivity" targetRef="addApplicationFormActivity" />
    <bpmn:sequenceFlow id="Flow_16awf42" sourceRef="addApplicationFormActivity" targetRef="checkComplianceFormActivity" />
    <bpmn:sequenceFlow id="Flow_09lehq0" sourceRef="signAppExcludeFormActivity" targetRef="searchApplicationTypeIdForExclusionActivity" />
    <bpmn:sequenceFlow id="Flow_0gj5d9q" sourceRef="createSignAppDenyFormDataPrepoulationActivity" targetRef="Gateway_1g2worh" />
    <bpmn:sequenceFlow id="Flow_0j4dlgx" sourceRef="signAppDenyFormActivity" targetRef="searchApplicationTypeIdForDenyActivity" />
    <bpmn:sequenceFlow id="Flow_0ls0w3k" sourceRef="Activity_1dd6d9i" targetRef="Activity_1ff6kao" />
    <bpmn:sequenceFlow id="Flow_0uev93k" sourceRef="Activity_1z0fbwk" targetRef="Gateway_1c69eh6" />
    <bpmn:sequenceFlow id="Flow_1dm2pq7" sourceRef="Activity_1ff6kao" targetRef="Activity_1z0fbwk" />
    <bpmn:sequenceFlow id="Flow_1uh4o3y" name="ні" sourceRef="Gateway_1c69eh6" targetRef="createValidationErrorActivity">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${lastSolutionResponse.value.responseBody.elements().isEmpty() || !lastSolutionResponse.value.responseBody.elements()[0].prop('applicationTypeId').value().equals(appTypeResponse.value.responseBody.elements()[0].prop('applicationTypeId').value()) || !lastSolutionResponse.value.responseBody.elements()[0].prop('solutionTypeId').value().equals(solTypeResponse.value.responseBody.elements()[0].prop('solutionTypeId').value())}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_022v17m" name="так" sourceRef="Gateway_1c69eh6" targetRef="readLaboratoryFromDataFactoryActivity">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${!lastSolutionResponse.value.responseBody.elements().isEmpty() &amp;&amp; lastSolutionResponse.value.responseBody.elements()[0].prop('applicationTypeId').value().equals(appTypeResponse.value.responseBody.elements()[0].prop('applicationTypeId').value()) &amp;&amp; lastSolutionResponse.value.responseBody.elements()[0].prop('solutionTypeId').value().equals(solTypeResponse.value.responseBody.elements()[0].prop('solutionTypeId').value())}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0qaxvg5" sourceRef="readLaboratoryFromDataFactoryActivity" targetRef="getNameAndEdrpouFromLabActivity" />
    <bpmn:sequenceFlow id="Flow_0c4kjdl" sourceRef="start_event" targetRef="Activity_1dd6d9i" />
    <bpmn:serviceTask id="createValidationErrorActivity" name="Formation of a validation error" camunda:modelerTemplate="userDataValidationErrorDelegate" camunda:delegateExpression="${userDataValidationErrorDelegate}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="validationErrors">
            <camunda:list>
              <camunda:value>{"field": "laboratory", "value": "${submission('start_event').formData.prop('laboratory').prop('laboratoryId').value()}", "message": "Немає заяви на первинне внесення або заява на видалення вже створена"}</camunda:value>
            </camunda:list>
          </camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1uh4o3y</bpmn:incoming>
      <bpmn:outgoing>Flow_1osx656</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_1osx656" sourceRef="createValidationErrorActivity" targetRef="Event_11krvm7" />
    <bpmn:sequenceFlow id="Flow_06wtttm" name="Ministry of State Labor" sourceRef="Gateway_1akogiv" targetRef="buildPrepopulationForAddLetterDataFormForDenyActivity">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${initiated.equals("держпраці")}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0mdytn4" name="Laboratory" sourceRef="Gateway_1akogiv" targetRef="Gateway_0e2dhwk">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${initiated.equals("лабораторія")}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_01x22t9" sourceRef="addDecisionDenyFormActivity" targetRef="Gateway_1akogiv" />
    <bpmn:startEvent id="start_event" name="Start" camunda:formKey="shared-search-lab-with-subject" camunda:initiator="initiator">
      <bpmn:outgoing>Flow_0c4kjdl</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:serviceTask id="Activity_1dd6d9i" name="Data Request about the current application" camunda:modelerTemplate="dataFactoryConnectorSearchDelegate" camunda:delegateExpression="${dataFactoryConnectorSearchDelegate}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="resource">last-laboratory-solution</camunda:inputParameter>
          <camunda:inputParameter name="searchConditions">
            <camunda:map>
              <camunda:entry key="laboratoryId">${submission('start_event').formData.prop('laboratory').prop('laboratoryId').value()}</camunda:entry>
            </camunda:map>
          </camunda:inputParameter>
          <camunda:inputParameter name="x_access_token">${initiator().accessToken}</camunda:inputParameter>
          <camunda:outputParameter name="lastSolutionResponse">${ response }</camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0c4kjdl</bpmn:incoming>
      <bpmn:outgoing>Flow_0ls0w3k</bpmn:outgoing>
      <bpmn:property id="Property_0avhn7f" name="__targetRef_placeholder" />
      <bpmn:dataInputAssociation id="DataInputAssociation_1oq9sqv">
        <bpmn:sourceRef>DataStoreReference_048cae9</bpmn:sourceRef>
        <bpmn:targetRef>Property_0avhn7f</bpmn:targetRef>
      </bpmn:dataInputAssociation>
    </bpmn:serviceTask>
    <bpmn:dataStoreReference id="DataStoreReference_048cae9" name="Database" />
    <bpmn:serviceTask id="Activity_1ff6kao" name="Directory request to applicationType (ADD)" camunda:modelerTemplate="dataFactoryConnectorSearchDelegate" camunda:delegateExpression="${dataFactoryConnectorSearchDelegate}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="resource">application-type-equal-constant-code</camunda:inputParameter>
          <camunda:inputParameter name="searchConditions">
            <camunda:map>
              <camunda:entry key="constantCode">ADD</camunda:entry>
            </camunda:map>
          </camunda:inputParameter>
          <camunda:inputParameter name="x_access_token">${initiator().accessToken}</camunda:inputParameter>
          <camunda:outputParameter name="appTypeResponse">${ response }</camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0ls0w3k</bpmn:incoming>
      <bpmn:outgoing>Flow_1dm2pq7</bpmn:outgoing>
      <bpmn:property id="Property_1dncaet" name="__targetRef_placeholder" />
      <bpmn:dataInputAssociation id="DataInputAssociation_0g8wgdq">
        <bpmn:sourceRef>DataStoreReference_1ltt0e3</bpmn:sourceRef>
        <bpmn:targetRef>Property_1dncaet</bpmn:targetRef>
      </bpmn:dataInputAssociation>
    </bpmn:serviceTask>
    <bpmn:dataStoreReference id="DataStoreReference_1ltt0e3" name="Database" />
    <bpmn:serviceTask id="Activity_1z0fbwk" name="Directory request to solutionType (ADD)" camunda:modelerTemplate="dataFactoryConnectorSearchDelegate" camunda:delegateExpression="${dataFactoryConnectorSearchDelegate}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="resource">solution-type-equal-constant-code</camunda:inputParameter>
          <camunda:inputParameter name="searchConditions">
            <camunda:map>
              <camunda:entry key="constantCode">ADD</camunda:entry>
            </camunda:map>
          </camunda:inputParameter>
          <camunda:inputParameter name="x_access_token">${initiator().accessToken}</camunda:inputParameter>
          <camunda:outputParameter name="solTypeResponse">${ response }</camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1dm2pq7</bpmn:incoming>
      <bpmn:outgoing>Flow_0uev93k</bpmn:outgoing>
      <bpmn:property id="Property_199dxzs" name="__targetRef_placeholder" />
      <bpmn:dataInputAssociation id="DataInputAssociation_0i4zriu">
        <bpmn:sourceRef>DataStoreReference_103sahg</bpmn:sourceRef>
        <bpmn:targetRef>Property_199dxzs</bpmn:targetRef>
      </bpmn:dataInputAssociation>
    </bpmn:serviceTask>
    <bpmn:dataStoreReference id="DataStoreReference_103sahg" name="Database" />
    <bpmn:exclusiveGateway id="Gateway_1c69eh6" name="Оcтання заява на включення та прийнята?">
      <bpmn:incoming>Flow_0uev93k</bpmn:incoming>
      <bpmn:outgoing>Flow_1uh4o3y</bpmn:outgoing>
      <bpmn:outgoing>Flow_022v17m</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:dataStoreReference id="DataStoreReference_04xxdtf" name="Database" />
    <bpmn:serviceTask id="readLaboratoryFromDataFactoryActivity" name="Search for laboratory data" camunda:modelerTemplate="dataFactoryConnectorReadDelegate" camunda:delegateExpression="${dataFactoryConnectorReadDelegate}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="resource">laboratory</camunda:inputParameter>
          <camunda:inputParameter name="x_access_token">${initiator().accessToken}</camunda:inputParameter>
          <camunda:inputParameter name="id">${submission('start_event').formData.prop('laboratory').prop('laboratoryId').stringValue()}</camunda:inputParameter>
          <camunda:outputParameter name="labResponse">${ response }</camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_022v17m</bpmn:incoming>
      <bpmn:outgoing>Flow_0qaxvg5</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_00kix08">
        <bpmn:targetRef>DataStoreReference_04xxdtf</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:serviceTask>
    <bpmn:scriptTask id="getNameAndEdrpouFromLabActivity" name="Preparation of document data for display (transient)" scriptFormat="groovy">
      <bpmn:incoming>Flow_0qaxvg5</bpmn:incoming>
      <bpmn:outgoing>Flow_0wo44qp</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_18o1gyn">
        <bpmn:targetRef>DataObjectReference_0334p0g</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
      <bpmn:script>var cephData = [:]
        ['name', 'edrpou'].each {
        cephData[it] = labResponse.responseBody.prop(it).value()
        }

        execution.removeVariable('addApplicationFormPayload')
        set_transient_variable('addApplicationFormPayload', S(cephData, 'application/json')) 

execution.setVariable('fullName', initiator().fullName)</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:userTask id="addApplicationFormActivity" name="Enter application data" camunda:modelerTemplate="formUserTaskTemplate" camunda:formKey="shared-add-application" camunda:assignee="${initiator}">
      <bpmn:extensionElements>
        <camunda:properties>
          <camunda:property name="formVariables" value="fullName" />
        </camunda:properties>
        <camunda:inputOutput>
          <camunda:inputParameter name="userTaskInputFormDataPrepopulate">${addApplicationFormPayload}</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0wo44qp</bpmn:incoming>
      <bpmn:outgoing>Flow_16awf42</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="checkComplianceFormActivity" name="Check documents for compliance" camunda:modelerTemplate="formUserTaskTemplate" camunda:formKey="create-app-exclude-bp-check-compliance" camunda:assignee="${initiator}">
      <bpmn:extensionElements>
        <camunda:properties>
          <camunda:property name="eSign" value="" />
        </camunda:properties>
        <camunda:inputOutput>
          <camunda:inputParameter name="userTaskInputFormDataPrepopulate">${submission('addApplicationFormActivity').formData}</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_16awf42</bpmn:incoming>
      <bpmn:outgoing>Flow_0ebqe8e</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_0ylv6h6" name="Is error exist?">
      <bpmn:incoming>Flow_1umse39</bpmn:incoming>
      <bpmn:outgoing>Flow_0gb78wp</bpmn:outgoing>
      <bpmn:outgoing>Flow_0xrur4k</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:dataStoreReference id="DataStoreReference_0x24lwj" name="Database" />
    <bpmn:scriptTask id="parseCheckComplienceFormActivity" name="Check for errors" scriptFormat="groovy">
      <bpmn:incoming>Flow_0ebqe8e</bpmn:incoming>
      <bpmn:outgoing>Flow_1umse39</bpmn:outgoing>
      <bpmn:script>['errorCheckFlag', 'initiated'].each {
        execution.setVariable(it, submission('checkComplianceFormActivity').formData.prop(it).value())
        }</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:serviceTask id="getDenySolutionActivity" name="Obtaining the result from the datebase" camunda:modelerTemplate="dataFactoryConnectorSearchDelegate" camunda:delegateExpression="${dataFactoryConnectorSearchDelegate}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="resource">solution-type-equal-constant-code</camunda:inputParameter>
          <camunda:inputParameter name="searchConditions">
            <camunda:map>
              <camunda:entry key="constantCode">WO_CONSIDER</camunda:entry>
            </camunda:map>
          </camunda:inputParameter>
          <camunda:inputParameter name="x_access_token">${completer('checkComplianceFormActivity').accessToken}</camunda:inputParameter>
          <camunda:outputParameter name="solutionResponse">${ response }</camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0gb78wp</bpmn:incoming>
      <bpmn:outgoing>Flow_0txtb4r</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_1ct66lh">
        <bpmn:targetRef>DataStoreReference_1d8skx7</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:serviceTask>
    <bpmn:dataStoreReference id="DataStoreReference_1d8skx7" name="Database" />
    <bpmn:serviceTask id="getExcludeSolutionActivity" name="Obtaining the result from the datebase" camunda:modelerTemplate="dataFactoryConnectorSearchDelegate" camunda:delegateExpression="${dataFactoryConnectorSearchDelegate}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="resource">solution-type-equal-constant-code</camunda:inputParameter>
          <camunda:inputParameter name="searchConditions">
            <camunda:map>
              <camunda:entry key="constantCode">EXCLUDE</camunda:entry>
            </camunda:map>
          </camunda:inputParameter>
          <camunda:inputParameter name="x_access_token">${completer('checkComplianceFormActivity').accessToken}</camunda:inputParameter>
          <camunda:outputParameter name="solutionResponse">${ response }</camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0xrur4k</bpmn:incoming>
      <bpmn:outgoing>Flow_0kv96nf</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_1gxu43s">
        <bpmn:targetRef>DataStoreReference_0x24lwj</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:serviceTask>
    <bpmn:scriptTask id="Activity_1getm1o" name="Preparation of document data for display" scriptFormat="groovy">
      <bpmn:incoming>Flow_0kv96nf</bpmn:incoming>
      <bpmn:outgoing>Flow_1uydftt</bpmn:outgoing>
      <bpmn:script>def cephData = [:]

        ['name', 'registrationNo'].each {
        cephData[it] = submission('checkComplianceFormActivity').formData.prop(it).value()
        }

        var solutionResponseObj = solutionResponse.responseBody.elements()[0]
        var solutionName = solutionResponseObj.prop('name').value()

        cephData['solutionName'] = solutionName
        cephData['initiated'] = initiated

        execution.removeVariable('addDecisionExcludeFormData')
        set_transient_variable('addDecisionExcludeFormData', S(cephData, 'application/json'))

        execution.setVariable('solutionTypeId', solutionResponseObj.prop('solutionTypeId').value())</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_1uydftt" sourceRef="Activity_1getm1o" targetRef="addDecisionExcludeFormActivity" />
    <bpmn:userTask id="addDecisionExcludeFormActivity" name="Make a decision on exclusion from the information list" camunda:modelerTemplate="formUserTaskTemplate" camunda:formKey="create-app-exclude-bp-add-decision-exclude" camunda:assignee="${initiator}">
      <bpmn:extensionElements>
        <camunda:properties>
          <camunda:property name="eSign" value="" />
        </camunda:properties>
        <camunda:inputOutput>
          <camunda:inputParameter name="userTaskInputFormDataPrepopulate">${addDecisionExcludeFormData}</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1uydftt</bpmn:incoming>
      <bpmn:outgoing>Flow_0znq8c9</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_0znq8c9" sourceRef="addDecisionExcludeFormActivity" targetRef="Gateway_0zq2506" />
    <bpmn:userTask id="addDecisionDenyFormActivity" name="Make a decision to leave without consideration" camunda:modelerTemplate="formUserTaskTemplate" camunda:formKey="shared-add-decision-deny" camunda:assignee="${initiator}">
      <bpmn:extensionElements>
        <camunda:properties>
          <camunda:property name="eSign" value="" />
        </camunda:properties>
        <camunda:inputOutput>
          <camunda:inputParameter name="userTaskInputFormDataPrepopulate">${addDecisionDenyFormData}</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1fkn4gr</bpmn:incoming>
      <bpmn:outgoing>Flow_01x22t9</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:scriptTask id="Activity_0hozznl" name="Preparation of document data for display" scriptFormat="groovy">
      <bpmn:incoming>Flow_0txtb4r</bpmn:incoming>
      <bpmn:outgoing>Flow_1fkn4gr</bpmn:outgoing>
      <bpmn:script>def cephData = [:]

        ['name', 'registrationNo'].each {
        cephData[it] = submission('checkComplianceFormActivity').formData.prop(it).value()
        }

        var solutionResponseObj = solutionResponse.responseBody.elements()[0]
        var solutionName = solutionResponseObj.prop('name').value()

        cephData['solutionName'] = solutionName

        execution.removeVariable('addDecisionDenyFormData')
        set_transient_variable('addDecisionDenyFormData', S(cephData, 'application/json'))

        execution.setVariable('solutionTypeId', solutionResponseObj.prop('solutionTypeId').value())</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_1fkn4gr" sourceRef="Activity_0hozznl" targetRef="addDecisionDenyFormActivity" />
    <bpmn:exclusiveGateway id="Gateway_0zq2506" name="Who initiated?">
      <bpmn:incoming>Flow_0znq8c9</bpmn:incoming>
      <bpmn:outgoing>Flow_0810ess</bpmn:outgoing>
      <bpmn:outgoing>Flow_1dxtp73</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:exclusiveGateway id="Gateway_1akogiv" name="Who initiated?">
      <bpmn:incoming>Flow_01x22t9</bpmn:incoming>
      <bpmn:outgoing>Flow_06wtttm</bpmn:outgoing>
      <bpmn:outgoing>Flow_0mdytn4</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:endEvent id="Event_11krvm7" name="Business process not started">
      <bpmn:incoming>Flow_1osx656</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:userTask id="addLetterDataFormForExclusionActivity" name="Enter information about receiving a letter with a decision (Date, name, number)" camunda:modelerTemplate="formUserTaskTemplate" camunda:formKey="shared-add-letter-data" camunda:assignee="${initiator}">
      <bpmn:extensionElements>
        <camunda:properties>
          <camunda:property name="eSign" value="" />
        </camunda:properties>
        <camunda:inputOutput>
          <camunda:inputParameter name="userTaskInputFormDataPrepopulate">${addLetterDataFormDataForExclusion}</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0dk9gjo</bpmn:incoming>
      <bpmn:outgoing>Flow_053dudb</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="addLetterDataFormForDenyActivity" name="Enter information about receiving a letter with a decision (Date, name, number)" camunda:modelerTemplate="formUserTaskTemplate" camunda:formKey="shared-add-letter-data" camunda:assignee="${initiator}">
      <bpmn:extensionElements>
        <camunda:properties>
          <camunda:property name="eSign" value="" />
        </camunda:properties>
        <camunda:inputOutput>
          <camunda:inputParameter name="userTaskInputFormDataPrepopulate">${addLetterDataFormDataForDeny}</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1agrlbi</bpmn:incoming>
      <bpmn:outgoing>Flow_1qb0apf</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_0e2dhwk">
      <bpmn:incoming>Flow_1qb0apf</bpmn:incoming>
      <bpmn:incoming>Flow_0mdytn4</bpmn:incoming>
      <bpmn:outgoing>Flow_0uwwm0r</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:exclusiveGateway id="Gateway_0qv9m5y">
      <bpmn:incoming>Flow_053dudb</bpmn:incoming>
      <bpmn:incoming>Flow_0810ess</bpmn:incoming>
      <bpmn:outgoing>Flow_0s0wsvr</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:scriptTask id="createSignAppDenyFormDataPrepoulationActivity" name="Preparation of document data for display" scriptFormat="groovy">
      <bpmn:incoming>Flow_0uwwm0r</bpmn:incoming>
      <bpmn:outgoing>Flow_0gj5d9q</bpmn:outgoing>
      <bpmn:script>import groovy.json.JsonSlurper
        var cephData = [:]

        var formDataOutput = ['addLetterDataFormForDenyActivity', 'addDecisionDenyFormActivity','checkComplianceFormActivity', 'addApplicationFormActivity']

        def checkComplianceFormData = submission('checkComplianceFormActivity').formData

        if(checkComplianceFormData.hasProp("regRefusalReason")){
        cephData["regRefusalReason"] = [new JsonSlurper().parseText(checkComplianceFormData.prop("regRefusalReason").toString())]
        }

        if(checkComplianceFormData.hasProp("healthMinistryLetterComplianceReason")){
        cephData["healthMinistryLetterComplianceReason"] = [new JsonSlurper().parseText(checkComplianceFormData.prop("healthMinistryLetterComplianceReason").toString())]
        }

        var refusalReasons = ["regRefusalReason", "healthMinistryLetterComplianceReason"]

        formDataOutput.stream()
        .map(activityId -&gt; submission(activityId).formData)
        .filter(Objects::nonNull)
        .forEach(data -&gt;
        data.fieldNames().findAll(f -&gt; !refusalReasons.contains(f)).each {
        cephData[it] = data.prop(it).value()
        }
        )

        execution.removeVariable('signAppDenyFormData')
        set_transient_variable('signAppDenyFormData', S(cephData, 'application/json'))</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:scriptTask id="createSignAppExcludeFormDataPrepoulationActivity" name="Preparation of document data for display" scriptFormat="groovy">
      <bpmn:incoming>Flow_0s0wsvr</bpmn:incoming>
      <bpmn:outgoing>Flow_0inr64u</bpmn:outgoing>
      <bpmn:script>var cephData = [:]

        var formDataOutput = ['addLetterDataFormForExclusionActivity', 'addDecisionExcludeFormActivity','checkComplianceFormActivity', 'addApplicationFormActivity']

        formDataOutput.stream()
        .map(activityId -&gt; submission(activityId).formData)
        .filter(Objects::nonNull)
        .forEach(data -&gt; data.fieldNames().each {
        cephData[it] = data.prop(it).value()
        })

        execution.removeVariable('signAppExcludeFormData')
        set_transient_variable('signAppExcludeFormData', S(cephData, 'application/json'))</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:userTask id="signAppDenyFormActivity" name="Sign the QES" camunda:modelerTemplate="officerSignTaskTemplate" camunda:formKey="create-app-exclude-bp-sign-app-deny" camunda:assignee="${initiator}">
      <bpmn:extensionElements>
        <camunda:properties>
          <camunda:property name="eSign" value="true" />
        </camunda:properties>
        <camunda:inputOutput>
          <camunda:inputParameter name="userTaskInputFormDataPrepopulate">${signAppDenyFormData}</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0on4bmx</bpmn:incoming>
      <bpmn:outgoing>Flow_0j4dlgx</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="signAppExcludeFormActivity" name="Sign the QES" camunda:modelerTemplate="officerSignTaskTemplate" camunda:formKey="create-app-exclude-bp-sign-app-exclude" camunda:assignee="${initiator}">
      <bpmn:extensionElements>
        <camunda:properties>
          <camunda:property name="eSign" value="true" />
        </camunda:properties>
        <camunda:inputOutput>
          <camunda:inputParameter name="userTaskInputFormDataPrepopulate">${signAppExcludeFormData}</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1b6jn9b</bpmn:incoming>
      <bpmn:outgoing>Flow_09lehq0</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_0ynaerq">
      <bpmn:incoming>Flow_0324uei</bpmn:incoming>
      <bpmn:incoming>Flow_0inr64u</bpmn:incoming>
      <bpmn:outgoing>Flow_1b6jn9b</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:exclusiveGateway id="Gateway_1g2worh">
      <bpmn:incoming>Flow_19mzg2a</bpmn:incoming>
      <bpmn:incoming>Flow_0gj5d9q</bpmn:incoming>
      <bpmn:outgoing>Flow_0on4bmx</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:scriptTask id="convertSignFormDataForExclusionToDataFactoryFormatActivity" name="Preparing data for writing (transient var)" scriptFormat="groovy">
      <bpmn:incoming>Flow_0039a9g</bpmn:incoming>
      <bpmn:outgoing>Flow_1frzegu</bpmn:outgoing>
      <bpmn:script>var requestMap = [:]
        def signAppExcludeFormData = submission('signAppExcludeFormActivity').formData

        signAppExcludeFormData.fieldNames().each {
        requestMap[it] = signAppExcludeFormData.prop(it).value()
        }

        def appType = applicationTypeResponse.responseBody.elements()[0]
        requestMap['applicationTypeId']=appType.prop('applicationTypeId').value()

        requestMap['laboratoryId']= submission('start_event').formData.prop('laboratory').prop('laboratoryId').stringValue()
        requestMap['solutionTypeId'] = solutionTypeId

        var dataPayload = S(requestMap, 'application/json')
        execution.removeVariable('dataPayload')
        set_transient_variable('dataPayload', dataPayload)</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:dataStoreReference id="DataStoreReference_0daeyy4" name="Database" />
    <bpmn:serviceTask id="searchApplicationTypeIdForExclusionActivity" name="Obtaining the unique identifier of the application type from the database" camunda:modelerTemplate="dataFactoryConnectorSearchDelegate" camunda:delegateExpression="${dataFactoryConnectorSearchDelegate}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="resource">application-type-equal-constant-code</camunda:inputParameter>
          <camunda:inputParameter name="searchConditions">
            <camunda:map>
              <camunda:entry key="constantCode">EXCLUDE</camunda:entry>
            </camunda:map>
          </camunda:inputParameter>
          <camunda:inputParameter name="x_access_token">${completer('signAppExcludeFormActivity').accessToken}</camunda:inputParameter>
          <camunda:outputParameter name="applicationTypeResponse">${ response }</camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_09lehq0</bpmn:incoming>
      <bpmn:outgoing>Flow_0039a9g</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_1xihdao">
        <bpmn:targetRef>DataStoreReference_0daeyy4</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="searchApplicationTypeIdForDenyActivity" name="Obtaining the unique identifier of the application type from the database" camunda:modelerTemplate="dataFactoryConnectorSearchDelegate" camunda:delegateExpression="${dataFactoryConnectorSearchDelegate}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="resource">application-type-equal-constant-code</camunda:inputParameter>
          <camunda:inputParameter name="searchConditions">
            <camunda:map>
              <camunda:entry key="constantCode">EXCLUDE</camunda:entry>
            </camunda:map>
          </camunda:inputParameter>
          <camunda:inputParameter name="x_access_token">${completer('signAppDenyFormActivity').accessToken}</camunda:inputParameter>
          <camunda:outputParameter name="applicationTypeResponse">${ response }</camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0j4dlgx</bpmn:incoming>
      <bpmn:outgoing>Flow_1bxrr8b</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_0zcdtfw">
        <bpmn:targetRef>DataStoreReference_1qsgusj</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:serviceTask>
    <bpmn:scriptTask id="convertSignFormDataForDenyToDataFactoryFormatActivity" name="Preparing data for writing (transient var)" scriptFormat="groovy">
      <bpmn:incoming>Flow_1bxrr8b</bpmn:incoming>
      <bpmn:outgoing>Flow_1578idm</bpmn:outgoing>
      <bpmn:script>def signAppDenyFormData = submission('signAppDenyFormActivity').formData

        def refusalReasons = []
        ['regRefusalReason','healthMinistryLetterComplianceReason'].each {
        if (signAppDenyFormData.hasProp it) {
        signAppDenyFormData.prop(it).elements().each { reason -&gt;
        refusalReasons &lt;&lt; reason.prop('refusalReasonId').value()
        }
        signAppDenyFormData.deleteProp it
        }
        }

        var requestMap = [:]

        signAppDenyFormData.fieldNames().each {
        requestMap[it] = signAppDenyFormData.prop(it).value()
        }

        def appType = applicationTypeResponse.responseBody.elements()[0]
        requestMap['applicationTypeId']=appType.prop('applicationTypeId').value()

        requestMap['laboratoryId'] = submission('start_event').formData.prop('laboratory').prop('laboratoryId').stringValue()
        requestMap['solutionTypeId'] = solutionTypeId
        requestMap['refusalReasons'] = refusalReasons

        var dataPayload = S(requestMap, 'application/json')
        execution.removeVariable('dataPayload')
        set_transient_variable('dataPayload', dataPayload)</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:callActivity id="signFormDataForExclusionWithDsoActivity" name="Sign the data with the system key" calledElement="system-signature-bp">
      <bpmn:extensionElements>
        <camunda:in source="dataPayload" target="dataToSign" />
        <camunda:out source="system_signature_ceph_key" target="system_signature_ceph_key" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1frzegu</bpmn:incoming>
      <bpmn:outgoing>Flow_0ewnmuo</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:callActivity id="signFormDataForDenyWithDsoActivity" name="Sign the data with the system key" calledElement="system-signature-bp">
      <bpmn:extensionElements>
        <camunda:in source="dataPayload" target="dataToSign" />
        <camunda:out source="system_signature_ceph_key" target="system_signature_ceph_key" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1578idm</bpmn:incoming>
      <bpmn:outgoing>Flow_1dgxdk8</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:dataStoreReference id="DataStoreReference_1hgxz97" name="Database" />
    <bpmn:endEvent id="Event_1dnnwxx" name="A decision was made to remove the laboratory from the register">
      <bpmn:incoming>Flow_1k1xaa5</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:serviceTask id="defineBusinessProcessStatusForExclusionActivity" name="Forming the result of the review" camunda:modelerTemplate="defineBusinessProcessStatusDelegate" camunda:delegateExpression="${defineBusinessProcessStatusDelegate}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="status">Прийнято рішення про видалення з переліку</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1s2oez3</bpmn:incoming>
      <bpmn:outgoing>Flow_1k1xaa5</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:dataStoreReference id="DataStoreReference_1gia57d" name="Database" />
    <bpmn:endEvent id="Event_15ha5z9" name="A decision was made to leave it without consideration">
      <bpmn:incoming>Flow_0yrwhm9</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:serviceTask id="defineBusinessProcessStatusForDenyActivity" name="Forming the result of the review" camunda:modelerTemplate="defineBusinessProcessStatusDelegate" camunda:delegateExpression="${defineBusinessProcessStatusDelegate}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="status">Прийнято рішення про залишення без розгляду</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0tei7z3</bpmn:incoming>
      <bpmn:outgoing>Flow_0yrwhm9</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="createRegistrationForExclusionActivity" name="Save the data to the database" camunda:modelerTemplate="dataFactoryConnectorCreateDelegate" camunda:delegateExpression="${dataFactoryConnectorCreateDelegate}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="resource">registration</camunda:inputParameter>
          <camunda:inputParameter name="payload">${dataPayload}</camunda:inputParameter>
          <camunda:inputParameter name="x_digital_signature_derived_ceph_key">${system_signature_ceph_key}</camunda:inputParameter>
          <camunda:inputParameter name="x_access_token">${completer('signAppExcludeFormActivity').accessToken}</camunda:inputParameter>
          <camunda:inputParameter name="x_digital_signature_ceph_key">${sign_submission('signAppExcludeFormActivity').signatureDocumentId}</camunda:inputParameter>
          <camunda:outputParameter name="response">${ response }</camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0ewnmuo</bpmn:incoming>
      <bpmn:outgoing>Flow_1s2oez3</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_0mju83m">
        <bpmn:targetRef>DataStoreReference_1hgxz97</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="createRegistrationForDenyActivity" name="Save the data to the database" camunda:modelerTemplate="dataFactoryConnectorCreateDelegate" camunda:delegateExpression="${dataFactoryConnectorCreateDelegate}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="resource">registration</camunda:inputParameter>
          <camunda:inputParameter name="payload">${dataPayload}</camunda:inputParameter>
          <camunda:inputParameter name="x_digital_signature_derived_ceph_key">${system_signature_ceph_key}</camunda:inputParameter>
          <camunda:inputParameter name="x_access_token">${completer('signAppDenyFormActivity').accessToken}</camunda:inputParameter>
          <camunda:inputParameter name="x_digital_signature_ceph_key">${sign_submission('signAppDenyFormActivity').signatureDocumentId}</camunda:inputParameter>
          <camunda:outputParameter name="response">${ response }</camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1dgxdk8</bpmn:incoming>
      <bpmn:outgoing>Flow_0tei7z3</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_0b00wd0">
        <bpmn:targetRef>DataStoreReference_1gia57d</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:serviceTask>
    <bpmn:boundaryEvent id="Event_1d3528m" attachedToRef="createRegistrationForExclusionActivity">
      <bpmn:outgoing>Flow_0324uei</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_061seyk" />
    </bpmn:boundaryEvent>
    <bpmn:boundaryEvent id="Event_0tpo6ct" attachedToRef="createRegistrationForDenyActivity">
      <bpmn:outgoing>Flow_19mzg2a</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_0z3e6d2" />
    </bpmn:boundaryEvent>
    <bpmn:scriptTask id="buildPrepopulationForAddLetterDataFormForExclusionActivity" name="Preparation of document data for display" scriptFormat="groovy">
      <bpmn:incoming>Flow_1dxtp73</bpmn:incoming>
      <bpmn:outgoing>Flow_0dk9gjo</bpmn:outgoing>
      <bpmn:script>def cephData = [:]

        ['name', 'registrationNo', 'solutionName'].each {
        cephData[it] = submission('addDecisionExcludeFormActivity').formData.prop(it).value()
        }

        execution.removeVariable('addLetterDataFormDataForExclusion')
        set_transient_variable('addLetterDataFormDataForExclusion', S(cephData, 'application/json'))</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:scriptTask id="buildPrepopulationForAddLetterDataFormForDenyActivity" name="Preparation of document data for display" scriptFormat="groovy">
      <bpmn:incoming>Flow_06wtttm</bpmn:incoming>
      <bpmn:outgoing>Flow_1agrlbi</bpmn:outgoing>
      <bpmn:script>def cephData = [:]

        ['name', 'registrationNo', 'solutionName'].each {
        cephData[it] = submission('addDecisionDenyFormActivity').formData.prop(it).value()
        }

        execution.removeVariable('addLetterDataFormDataForDeny')
        set_transient_variable('addLetterDataFormDataForDeny', S(cephData, 'application/json'))</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:dataStoreReference id="DataStoreReference_1qsgusj" name="Database" />
    <bpmn:dataObjectReference id="DataObjectReference_0334p0g" dataObjectRef="DataObject_0wgzepu" />
    <bpmn:dataObject id="DataObject_0wgzepu" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_02ovycg">
      <bpmndi:BPMNShape id="Participant_18brs1j_di" bpmnElement="Participant_18brs1j" isHorizontal="true">
        <dc:Bounds x="160" y="80" width="3580" height="900" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1ubd3bq_di" bpmnElement="createValidationErrorActivity" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="660" y="180" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_12fdxpj_di" bpmnElement="start_event" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="222" y="392" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="218" y="435" width="48" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1dd6d9i_di" bpmnElement="Activity_1dd6d9i" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="290" y="370" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataStoreReference_048cae9_di" bpmnElement="DataStoreReference_048cae9">
        <dc:Bounds x="315" y="515" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="308" y="572" width="71" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1ff6kao_di" bpmnElement="Activity_1ff6kao" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="420" y="370" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataStoreReference_1ltt0e3_di" bpmnElement="DataStoreReference_1ltt0e3">
        <dc:Bounds x="445" y="515" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="438" y="572" width="71" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1z0fbwk_di" bpmnElement="Activity_1z0fbwk" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="550" y="370" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataStoreReference_103sahg_di" bpmnElement="DataStoreReference_103sahg">
        <dc:Bounds x="575" y="515" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="568" y="572" width="71" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1c69eh6_di" bpmnElement="Gateway_1c69eh6" isMarkerVisible="true" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="685" y="385" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="673" y="445" width="85" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataStoreReference_04xxdtf_di" bpmnElement="DataStoreReference_04xxdtf">
        <dc:Bounds x="825" y="515" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="816" y="572" width="71" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_11skrb7_di" bpmnElement="readLaboratoryFromDataFactoryActivity" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="800" y="370" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1l3m8cr_di" bpmnElement="getNameAndEdrpouFromLabActivity">
        <dc:Bounds x="940" y="370" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1la80w8_di" bpmnElement="addApplicationFormActivity">
        <dc:Bounds x="1070" y="370" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_03pigl7_di" bpmnElement="checkComplianceFormActivity">
        <dc:Bounds x="1220" y="370" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0ylv6h6_di" bpmnElement="Gateway_0ylv6h6" isMarkerVisible="true">
        <dc:Bounds x="1495" y="385" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1488" y="353" width="67" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataStoreReference_0x24lwj_di" bpmnElement="DataStoreReference_0x24lwj">
        <dc:Bounds x="1615" y="515" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1606" y="572" width="71" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0k49def_di" bpmnElement="parseCheckComplienceFormActivity">
        <dc:Bounds x="1360" y="370" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1dwq2h6_di" bpmnElement="getDenySolutionActivity">
        <dc:Bounds x="1570" y="729" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataStoreReference_1d8skx7_di" bpmnElement="DataStoreReference_1d8skx7">
        <dc:Bounds x="1595" y="874" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1586" y="931" width="71" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0dm7ckv_di" bpmnElement="getExcludeSolutionActivity">
        <dc:Bounds x="1590" y="370" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1getm1o_di" bpmnElement="Activity_1getm1o" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="1720" y="370" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0drkr1c_di" bpmnElement="addDecisionExcludeFormActivity">
        <dc:Bounds x="1840" y="370" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0o3kjq9_di" bpmnElement="addDecisionDenyFormActivity">
        <dc:Bounds x="1830" y="729" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0hozznl_di" bpmnElement="Activity_0hozznl" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="1700" y="729" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0zq2506_di" bpmnElement="Gateway_0zq2506" isMarkerVisible="true">
        <dc:Bounds x="1995" y="385" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1985" y="445" width="70" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1akogiv_di" bpmnElement="Gateway_1akogiv" isMarkerVisible="true">
        <dc:Bounds x="1995" y="744" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1985" y="801" width="70" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_11krvm7_di" bpmnElement="Event_11krvm7">
        <dc:Bounds x="3622" y="202" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3597" y="245" width="87" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0ihtcue_di" bpmnElement="addLetterDataFormForExclusionActivity">
        <dc:Bounds x="2260" y="370" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1pgg896_di" bpmnElement="addLetterDataFormForDenyActivity">
        <dc:Bounds x="2260" y="729" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0e2dhwk_di" bpmnElement="Gateway_0e2dhwk" isMarkerVisible="true">
        <dc:Bounds x="2395" y="744" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0qv9m5y_di" bpmnElement="Gateway_0qv9m5y" isMarkerVisible="true">
        <dc:Bounds x="2395" y="385" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_02s302e_di" bpmnElement="createSignAppDenyFormDataPrepoulationActivity">
        <dc:Bounds x="2490" y="729" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0af4wlu_di" bpmnElement="createSignAppExcludeFormDataPrepoulationActivity">
        <dc:Bounds x="2490" y="370" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0ztad0w_di" bpmnElement="signAppDenyFormActivity">
        <dc:Bounds x="2710" y="729" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_144r15x_di" bpmnElement="signAppExcludeFormActivity">
        <dc:Bounds x="2710" y="370" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0ynaerq_di" bpmnElement="Gateway_0ynaerq" isMarkerVisible="true">
        <dc:Bounds x="2625" y="385" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1g2worh_di" bpmnElement="Gateway_1g2worh" isMarkerVisible="true">
        <dc:Bounds x="2625" y="744" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1tfugmi_di" bpmnElement="convertSignFormDataForExclusionToDataFactoryFormatActivity" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="3030" y="370" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataStoreReference_0daeyy4_di" bpmnElement="DataStoreReference_0daeyy4">
        <dc:Bounds x="2885" y="515" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2876" y="572" width="71" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0tjyr2v_di" bpmnElement="searchApplicationTypeIdForExclusionActivity">
        <dc:Bounds x="2860" y="370" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1mxei1g_di" bpmnElement="searchApplicationTypeIdForDenyActivity">
        <dc:Bounds x="2860" y="729" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1sts3jx_di" bpmnElement="convertSignFormDataForDenyToDataFactoryFormatActivity" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="3030" y="729" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1ej79ug_di" bpmnElement="signFormDataForExclusionWithDsoActivity">
        <dc:Bounds x="3190" y="370" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0obro02_di" bpmnElement="signFormDataForDenyWithDsoActivity">
        <dc:Bounds x="3190" y="729" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataStoreReference_1hgxz97_di" bpmnElement="DataStoreReference_1hgxz97">
        <dc:Bounds x="3365" y="515" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3354" y="572" width="72" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1dnnwxx_di" bpmnElement="Event_1dnnwxx">
        <dc:Bounds x="3622" y="392" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3600" y="435" width="81" height="53" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0wlj8yf_di" bpmnElement="defineBusinessProcessStatusForExclusionActivity">
        <dc:Bounds x="3490" y="370" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataStoreReference_1gia57d_di" bpmnElement="DataStoreReference_1gia57d">
        <dc:Bounds x="3365" y="874" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3354" y="931" width="72" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_15ha5z9_di" bpmnElement="Event_15ha5z9">
        <dc:Bounds x="3622" y="751" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3602" y="794" width="78" height="53" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0zqg748_di" bpmnElement="defineBusinessProcessStatusForDenyActivity">
        <dc:Bounds x="3490" y="729" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0514dw7_di" bpmnElement="createRegistrationForExclusionActivity">
        <dc:Bounds x="3340" y="370" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_038k4vv_di" bpmnElement="createRegistrationForDenyActivity">
        <dc:Bounds x="3340" y="729" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0ya3ydb_di" bpmnElement="buildPrepopulationForAddLetterDataFormForExclusionActivity" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="2120" y="370" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0uxvsn5_di" bpmnElement="buildPrepopulationForAddLetterDataFormForDenyActivity" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="2120" y="729" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataStoreReference_1qsgusj_di" bpmnElement="DataStoreReference_1qsgusj">
        <dc:Bounds x="2885" y="874" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2876" y="931" width="72" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataObjectReference_0334p0g_di" bpmnElement="DataObjectReference_0334p0g">
        <dc:Bounds x="974" y="515" width="36" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_00nk0jw_di" bpmnElement="Event_0tpo6ct">
        <dc:Bounds x="3372" y="711" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0m9oxlz_di" bpmnElement="Event_1d3528m">
        <dc:Bounds x="3372" y="352" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0tei7z3_di" bpmnElement="Flow_0tei7z3">
        <di:waypoint x="3440" y="769" />
        <di:waypoint x="3490" y="769" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1s2oez3_di" bpmnElement="Flow_1s2oez3">
        <di:waypoint x="3440" y="410" />
        <di:waypoint x="3490" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1dgxdk8_di" bpmnElement="Flow_1dgxdk8">
        <di:waypoint x="3290" y="769" />
        <di:waypoint x="3340" y="769" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1578idm_di" bpmnElement="Flow_1578idm">
        <di:waypoint x="3130" y="769" />
        <di:waypoint x="3190" y="769" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ewnmuo_di" bpmnElement="Flow_0ewnmuo">
        <di:waypoint x="3290" y="410" />
        <di:waypoint x="3340" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1frzegu_di" bpmnElement="Flow_1frzegu">
        <di:waypoint x="3130" y="410" />
        <di:waypoint x="3190" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1bxrr8b_di" bpmnElement="Flow_1bxrr8b">
        <di:waypoint x="2960" y="769" />
        <di:waypoint x="3030" y="769" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0039a9g_di" bpmnElement="Flow_0039a9g">
        <di:waypoint x="2960" y="410" />
        <di:waypoint x="3030" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0xrur4k_di" bpmnElement="Flow_0xrur4k">
        <di:waypoint x="1545" y="410" />
        <di:waypoint x="1590" y="410" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1561" y="392" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0kv96nf_di" bpmnElement="Flow_0kv96nf">
        <di:waypoint x="1690" y="410" />
        <di:waypoint x="1720" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0txtb4r_di" bpmnElement="Flow_0txtb4r">
        <di:waypoint x="1670" y="769" />
        <di:waypoint x="1700" y="769" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0yrwhm9_di" bpmnElement="Flow_0yrwhm9">
        <di:waypoint x="3590" y="769" />
        <di:waypoint x="3622" y="769" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1k1xaa5_di" bpmnElement="Flow_1k1xaa5">
        <di:waypoint x="3590" y="410" />
        <di:waypoint x="3622" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_19mzg2a_di" bpmnElement="Flow_19mzg2a">
        <di:waypoint x="3390" y="711" />
        <di:waypoint x="3390" y="691" />
        <di:waypoint x="2650" y="691" />
        <di:waypoint x="2650" y="744" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0on4bmx_di" bpmnElement="Flow_0on4bmx">
        <di:waypoint x="2675" y="769" />
        <di:waypoint x="2710" y="769" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1dxtp73_di" bpmnElement="Flow_1dxtp73">
        <di:waypoint x="2045" y="410" />
        <di:waypoint x="2120" y="410" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2030" y="366" width="79" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0324uei_di" bpmnElement="Flow_0324uei">
        <di:waypoint x="3390" y="352" />
        <di:waypoint x="3390" y="332" />
        <di:waypoint x="2650" y="332" />
        <di:waypoint x="2650" y="385" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1b6jn9b_di" bpmnElement="Flow_1b6jn9b">
        <di:waypoint x="2675" y="410" />
        <di:waypoint x="2710" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1umse39_di" bpmnElement="Flow_1umse39">
        <di:waypoint x="1460" y="410" />
        <di:waypoint x="1495" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0810ess_di" bpmnElement="Flow_0810ess">
        <di:waypoint x="2020" y="385" />
        <di:waypoint x="2020" y="320" />
        <di:waypoint x="2420" y="320" />
        <di:waypoint x="2420" y="385" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2184" y="293" width="53" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0s0wsvr_di" bpmnElement="Flow_0s0wsvr">
        <di:waypoint x="2445" y="410" />
        <di:waypoint x="2490" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0uwwm0r_di" bpmnElement="Flow_0uwwm0r">
        <di:waypoint x="2445" y="769" />
        <di:waypoint x="2490" y="769" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_053dudb_di" bpmnElement="Flow_053dudb">
        <di:waypoint x="2360" y="410" />
        <di:waypoint x="2395" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1agrlbi_di" bpmnElement="Flow_1agrlbi">
        <di:waypoint x="2220" y="769" />
        <di:waypoint x="2260" y="769" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0inr64u_di" bpmnElement="Flow_0inr64u">
        <di:waypoint x="2590" y="410" />
        <di:waypoint x="2625" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1qb0apf_di" bpmnElement="Flow_1qb0apf">
        <di:waypoint x="2360" y="769" />
        <di:waypoint x="2395" y="769" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0dk9gjo_di" bpmnElement="Flow_0dk9gjo">
        <di:waypoint x="2220" y="410" />
        <di:waypoint x="2260" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0gb78wp_di" bpmnElement="Flow_0gb78wp">
        <di:waypoint x="1520" y="435" />
        <di:waypoint x="1520" y="769" />
        <di:waypoint x="1570" y="769" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1526" y="627" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ebqe8e_di" bpmnElement="Flow_0ebqe8e">
        <di:waypoint x="1320" y="410" />
        <di:waypoint x="1360" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0wo44qp_di" bpmnElement="Flow_0wo44qp">
        <di:waypoint x="1040" y="410" />
        <di:waypoint x="1070" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_16awf42_di" bpmnElement="Flow_16awf42">
        <di:waypoint x="1170" y="410" />
        <di:waypoint x="1220" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_09lehq0_di" bpmnElement="Flow_09lehq0">
        <di:waypoint x="2810" y="410" />
        <di:waypoint x="2860" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0gj5d9q_di" bpmnElement="Flow_0gj5d9q">
        <di:waypoint x="2590" y="769" />
        <di:waypoint x="2625" y="769" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0j4dlgx_di" bpmnElement="Flow_0j4dlgx">
        <di:waypoint x="2810" y="769" />
        <di:waypoint x="2860" y="769" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ls0w3k_di" bpmnElement="Flow_0ls0w3k">
        <di:waypoint x="390" y="410" />
        <di:waypoint x="420" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0uev93k_di" bpmnElement="Flow_0uev93k">
        <di:waypoint x="650" y="410" />
        <di:waypoint x="685" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1dm2pq7_di" bpmnElement="Flow_1dm2pq7">
        <di:waypoint x="520" y="410" />
        <di:waypoint x="550" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1uh4o3y_di" bpmnElement="Flow_1uh4o3y">
        <di:waypoint x="710" y="385" />
        <di:waypoint x="710" y="260" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="691" y="313" width="9" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_022v17m_di" bpmnElement="Flow_022v17m">
        <di:waypoint x="735" y="410" />
        <di:waypoint x="800" y="410" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="752" y="392" width="16" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0qaxvg5_di" bpmnElement="Flow_0qaxvg5">
        <di:waypoint x="900" y="410" />
        <di:waypoint x="940" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0c4kjdl_di" bpmnElement="Flow_0c4kjdl">
        <di:waypoint x="258" y="410" />
        <di:waypoint x="290" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1osx656_di" bpmnElement="Flow_1osx656">
        <di:waypoint x="760" y="220" />
        <di:waypoint x="3622" y="220" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_06wtttm_di" bpmnElement="Flow_06wtttm">
        <di:waypoint x="2045" y="769" />
        <di:waypoint x="2120" y="769" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2030" y="726" width="79" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0mdytn4_di" bpmnElement="Flow_0mdytn4">
        <di:waypoint x="2020" y="744" />
        <di:waypoint x="2020" y="670" />
        <di:waypoint x="2420" y="670" />
        <di:waypoint x="2420" y="744" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2107" y="643" width="53" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_01x22t9_di" bpmnElement="Flow_01x22t9">
        <di:waypoint x="1930" y="769" />
        <di:waypoint x="1995" y="769" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1uydftt_di" bpmnElement="Flow_1uydftt">
        <di:waypoint x="1820" y="410" />
        <di:waypoint x="1840" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0znq8c9_di" bpmnElement="Flow_0znq8c9">
        <di:waypoint x="1940" y="410" />
        <di:waypoint x="1995" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1fkn4gr_di" bpmnElement="Flow_1fkn4gr">
        <di:waypoint x="1800" y="769" />
        <di:waypoint x="1830" y="769" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataInputAssociation_1oq9sqv_di" bpmnElement="DataInputAssociation_1oq9sqv">
        <di:waypoint x="340" y="515" />
        <di:waypoint x="340" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataInputAssociation_0g8wgdq_di" bpmnElement="DataInputAssociation_0g8wgdq">
        <di:waypoint x="470" y="515" />
        <di:waypoint x="470" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataInputAssociation_0i4zriu_di" bpmnElement="DataInputAssociation_0i4zriu">
        <di:waypoint x="600" y="515" />
        <di:waypoint x="600" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_00kix08_di" bpmnElement="DataOutputAssociation_00kix08">
        <di:waypoint x="850" y="450" />
        <di:waypoint x="850" y="515" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_18o1gyn_di" bpmnElement="DataOutputAssociation_18o1gyn">
        <di:waypoint x="990" y="450" />
        <di:waypoint x="990" y="515" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_1ct66lh_di" bpmnElement="DataOutputAssociation_1ct66lh">
        <di:waypoint x="1620" y="809" />
        <di:waypoint x="1620" y="874" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_1gxu43s_di" bpmnElement="DataOutputAssociation_1gxu43s">
        <di:waypoint x="1640" y="450" />
        <di:waypoint x="1640" y="515" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_1xihdao_di" bpmnElement="DataOutputAssociation_1xihdao">
        <di:waypoint x="2910" y="450" />
        <di:waypoint x="2910" y="515" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_0zcdtfw_di" bpmnElement="DataOutputAssociation_0zcdtfw">
        <di:waypoint x="2910" y="809" />
        <di:waypoint x="2910" y="874" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_0mju83m_di" bpmnElement="DataOutputAssociation_0mju83m">
        <di:waypoint x="3390" y="450" />
        <di:waypoint x="3390" y="515" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_0b00wd0_di" bpmnElement="DataOutputAssociation_0b00wd0">
        <di:waypoint x="3390" y="809" />
        <di:waypoint x="3390" y="874" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
