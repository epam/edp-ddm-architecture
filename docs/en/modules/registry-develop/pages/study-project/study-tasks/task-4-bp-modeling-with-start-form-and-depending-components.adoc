:toc-title: On this page:
:toc: auto
:toclevels: 5
:experimental:
:sectnums:
:sectnumlevels: 5
:sectanchors:
:sectlinks:
:partnums:

= Task 4. Modeling a business process with a start form and dependent form components

== Goal

//Виконання цього завдання має на меті: ::
The goal of this task is to learn how to: ::

//* Навчити моделювати бізнес-процес, який має стартову форму.
* Model a business process with a start form.
//* Навчити моделювати форми з залежними компонентами та компонентом Edit-grid.
* Model forms with dependent components and an Edit Grid component.

== Prerequisites

//Перед проходженням завдання необхідно виконати наступні передумови:
Before you start working on the task, complete these prerequisite steps:

//* xref:bp-modeling/bp/element-templates/bp-element-templates-installation-configuration.adoc#business-process-modeler-extensions-installation[Встановіть додаток Camunda Modeler і типові розширення до нього].
* xref:bp-modeling/bp/element-templates/bp-element-templates-installation-configuration.adoc#business-process-modeler-extensions-installation[Install the Camunda Modeler app with standard extensions].
//* xref:registry-develop:bp-modeling/forms/bp-modeling-forms-general-description.adoc[Ознайомтеся із компонентами FormIO для моделювання форм].
* xref:registry-develop:bp-modeling/forms/bp-modeling-forms-general-description.adoc[Get familiar with FormIO components for modeling forms].

//== Процес виконання завдання
== Task steps

[#bp-modeling]
//=== Моделювання бізнес-процесу
=== Modeling the business process

[TIP]
====
//На етапі моделювання бізнес-процесу необхідно створити та зберегти відповідну BPMN-діаграму.
At the business process modeling stage, you need to create and save the corresponding BPMN diagram.

//Використовуйте файл _link:{attachmentsdir}/study-project/task-4/bp-schema/add-personnel.bpmn[add-personnel.bpmn]_ із готовою схемою бізнес-процесу для прикладу.
Download the _link:{attachmentsdir}/study-project/task-4/bp-schema/add-personnel.bpmn[add-personnel.bpmn]_ file with a sample business process schema to use as an example.
====

//==== Етапи моделювання бізнес-процесу
==== Business process modeling stages

//Під час виконання цього етапу пропонуємо скористатися наведеним нижче чеклістом з переліком кроків моделювання процесу.
Use the following checklist to track the steps of the modeling process.

[%interactive]
//* [ ] xref:#create-pool-bp[Створення пулу для бізнес-процесу].
* [ ] xref:#create-pool-bp[Create a pool for the business process].
//* [ ] xref:#create-start-event[Створення початкової події].
* [ ] xref:#create-start-event[Create a start event].
//* [ ] xref:#create-script-task-changes-to-record[Створення скрипт задачі "Підготовка змінних для отримання запису"].
* [ ] xref:#create-script-task-changes-to-record[Create a script task to prepare variables for records].
//* [ ] xref:#create-service-task-search-result[Створення сервісної задачі "Пошук даних про лабораторію"].
* [ ] xref:#create-service-task-search-result[Create a service task to search lab data].
//* [ ] xref:#create-script-task-data-to-display[Створення скрипт задачі "Підготовка даних документа для показу (transient var)"].
* [ ] xref:#create-script-task-data-to-display[Create a script task to prepare document data for display (transient var)].
* [ ] xref:#add-error-event[Create an error-handling event]
//* [ ] xref:#create-user-task-add-staff-details[Створення користувацької задачі "Додати дані про кадри"].
* [ ] xref:#create-user-task-add-staff-details[Create a user task to add personnel data].
//* [ ] xref:#create-user-task-sign-data[Створення користувацької задачі "Підписати дані КЕП"].
* [ ] xref:#create-user-task-sign-data[Create a user task to sign data with an electronic signature].
//* [ ] xref:#create-task-script-data-signing[Створення скрипт задачі "Підготовка даних для запису (transient var)"].
* [ ] xref:#create-task-script-data-signing[Create a script task to prepare data for saving (transient var)].
//* [ ] xref:#create-service-task-save-data[Створення сервісної задачі "Зберегти дані в Дата-фабрику"].
* [ ] xref:#create-service-task-save-data[Create a service task to save data to the data factory].
//* [ ] xref:#create-service-task-set-bp-result[Створення сервісної задачі "Встановити результат БП"].
* [ ] xref:#create-service-task-set-bp-result[Create a service task to set the business process result].
//* [ ] xref:#create-finish-event[Створення кінцевої події].
* [ ] xref:#create-finish-event[Create an end event].

//CAUTION: *Важливо!* Після проходження всіх етапів, не забудьте зберегти змодельовану схему бізнес-процесу до відповідної папки з регламентом реєстру
CAUTION: After completing all the steps, be sure to save the business process schema you modeled to the appropriate folder with the registry regulations.

[#create-pool-bp]
//==== Створення пулу для бізнес-процесу
==== Creating a pool for the business process

//Найперше, *змоделюйте пул для бізнес-процесу*. Для цього виконайте наступні кроки:
To *model a pool for your business process*, perform the following steps:

//* Відкрийте додаток *Camunda Modeler* та створіть нову діаграму BPMN. Для цього у лівому верхньому куті натисніть меню *File* -> *New File* -> *BPMN Diagram*.
. Open the *Camunda Modeler* app and create a new BPMN diagram. To do this, open the menu in the upper left corner and click *File* > *New File* > *BPMN Diagram*.
//* На панелі інструментів, зліва, знайдіть елемент *Create pool/Participant*, перетягніть його до панелі моделювання та заповніть у розділі *General* наступні поля відповідними значеннями:
. In the toolbar on the left, find the *Create pool/Participant* item and drag it to the modeling panel. Fill out the following fields in the *General* tab:
+
//** у полі `Name` введіть `Внесення даних в кадровий склад`;
* *Name*: Enter the task's name -- for example, `Add personnel data`.
//** у полі `Process id` введіть `add-personnel`;
* *Process Id*: Enter the process ID -- for example, `add-personnel`.
//** у полі `Process name` вкажіть `Внесення даних в кадровий склад`:
* *Process Name*: Enter the process name -- for example, `Add personnel data`.

image:registry-develop:study-project/task-4/task-4-1-bp.png[]

[#create-start-event]
//==== Створення початкової події
==== Creating a start event

//*Створіть початкову подію*. Для цього виконайте наступні кроки:
To *create a start event*, perform the following steps:

//* На панелі інструментів, зліва, знайдіть елемент (коло) *CreateStartEvent* та перетягніть його до панелі моделювання.
. In the toolbar on the left, find the *CreateStartEvent* item (a circle) and drag it to the modeling panel.
//* На панелі налаштувань, справа, у розділі *General* заповніть наступні параметри відповідними значеннями:
. In the properties panel on the right, fill out the following parameters in the *General* tab:
//** у поле `Id` введіть `start_event`;
* *Id*: Enter event ID -- for example, `start_event`.
//** у поле `Name` введіть `Початок процесу`;
* *Name*: Enter the event's name -- for example, `Start process`.
//** у поле `Initiator` введіть `initiator`;
* *Initiator*: Enter `initiator`. This variable will contain information about the user who started the business process.
+
image:registry-develop:study-project/task-4/task-4-2-bp.png[]
+
//* У розділі *Forms* у поле `Form key` введіть `shared-search-lab`:
. In the *Forms* tab > *Form key* field, enter `shared-search-lab`:

image:registry-develop:study-project/task-4/task-4-3-bp.png[]

[#create-script-task-changes-to-record]
//==== Створення скрипт задачі "Підготовка змінних для отримання запису"
==== Create a script task to prepare variables for records

//Заповніть наступні поля:
Fill out the following fields:

* *Id*: `extractLabIdFromFormActivity`
//* `Name` - `Підготовка зміних для отримання запису`;
* *Name*: `Prepare variables for records`
* *Script Format*: `groovy`
* *Script Type*: `InlineScript`
* *Result Variable*: `laboratoryId`

====

.`Script`
[%collapsible]
======
  submission('start_event').formData.prop('laboratory').prop('laboratoryId').value()
======
====

image:registry-develop:study-project/task-4/task-4-4-bp.png[]

[#create-service-task-search-result]
//==== Створення сервісної задачі "Пошук даних про лабораторію"
==== Creating a service task to search lab data

//Далі необхідно *створити сервісну задачу (Service Task) для пошуку даних про лабораторію*. Для цього виконайте наступні кроки:
To *create a service task to search lab data*, perform the following steps:

//Вкажіть тип задачі, натиснувши іконку ключа та обравши з меню пункт *Service Task*.
. Set the task type by clicking the wrench icon and selecting *Service Task* from the menu.
//* Натисніть `Open Catalog`, оберіть шаблон *Read entity from data factory*  та натисніть `Apply` для підтвердження;
. Click *`Open Catalog`*, select the *Read entity from data factory* template, and click *`Apply`*.
//* Заповніть наступні поля:
. Fill out the following fields:
//** у поле `Id` введіть `searchLabInDataFactoryActivity`
* *Id*: Enter `searchLabInDataFactoryActivity`.
//** у полі `Name` має бути вказано `Пошук даних про лабораторію`;
* *Name*: Enter the task's name -- for example, `Search lab data`.
//** у полі `Resource` - laboratory;
* *Resource*: Enter `laboratory`.
//** у полі `Resource id` - `$\{laboratoryId}`;
* *Resource id*: Enter `$\{laboratoryId}`.
//** у полі `X-Access-Token` - `${initiator().accessToken}`;
* *X-Access-Token*: Enter `${initiator().accessToken}`.
+
[WARNING]
====
//Після відпрацювання першої користувацької задачі (User Task), намагайтеся використовувати функцію *`completer('<task_id>')`* для отримання даних користувача, замість `initiator()`.
After the first user task, it is preferable to use the *`completer('<task_id>')`* function to get user data instead of `initiator()`.

//Токен доступу береться з АБО ініціатора (наприклад, `$initiator().accessToken}`), АБО виконавця останньої користувацької задачі (наприклад, `${completer('taskDefinitionId').accessToken}`).
The access token is taken either from the initiator (for example, `$initiator().accessToken}`) or the completer of the last user task (for example, `${completer('taskDefinitionId').accessToken}`).

//JWT-токен має свій термін дії, який триває 300 секунд. Якщо вказати токен ініціатора, який запустив бізнес-процес, а користувач довго не виконував задачу, то термін дії токена спливе, й бізнес-процес необхідно буде запускати повторно.
The JWT token has a validity period of 300 seconds. If you specify the token of the initiator of the business process, and the user takes a long time to do the task, then the token will expire, and the business process must be restarted.

//Детальніше про JUEL-функції ви можете переглянути на сторінці xref:registry-develop:bp-modeling/bp/modeling-facilitation/modelling-with-juel-functions.adoc[].
For details on the JUEL functions, see xref:registry-develop:bp-modeling/bp/modeling-facilitation/modelling-with-juel-functions.adoc[].
====
//** у полі `Result Variable` - `labResponse`:
* *Result Variable*: Enter `labResponse`.

image:registry-develop:study-project/task-4/task-4-5-bp.png[]

[#create-script-task-data-to-display]
//==== Створення скрипт задачі "Підготовка даних документа для показу (transient var)"
==== Creating a script task to prepare document data for display (transient var)

//* Заповніть наступні поля:
Fill out the following fields:

//** у поле `Id` введіть `extractAddPersonnelFormPrepopulationActivity`;
* *Id*: `extractAddPersonnelFormPrepopulationActivity`
//** у полі `Name` має бути вказано `Підготовка даних документа для показу (transient var)`;
* *Name*: `Prepare document data for display (transient var)`
* *Script Format*: `groovy`
* *Script Type*: `InlineScript`

====

.`Script`
[%collapsible]
======
    var name = labResponse.responseBody.prop('name').value()
    var edrpou = labResponse.responseBody.prop('edrpou').value()
    var cephData = ['edrpou':edrpou,'name':name]

    execution.removeVariable('payload')
    set_transient_variable('payload', S(cephData, 'application/json'))
======
====

image:registry-develop:study-project/task-4/task-4-6-bp.png[]

[#add-error-event]
//==== Створення події опрацювання помилки
==== Creating an error handling event

//* Перетягніть *Intermediate/Boundary event* з панелі інструментів, та додайте його до *Сервісної задачі* *xref:#create-service-task-search-result[“Пошук даних про лабораторію”]*.
. Drag the *Intermediate/Boundary event* item from the toolbar on the left and add it to the xref:#create-service-task-search-result["Search lab data"] service task.
+
image:registry-develop:study-project/task-4/task-4-12-bp.png[]
+
//* Натисніть на іконку "ключа" та вкажіть тип події `Error Boundary Event`.
. Click the wrench icon and select the *Error Boundary Event* type from the menu.
+
image:registry-develop:study-project/task-4/task-4-13-bp.png[]
+
//* Створіть *Gateway*, який буде виконувати роль контрольної точки для перенаправлення у разі виникнення помилки.
. Create a *Gateway* that will act as a checkpoint for redirecting in case of an error.
+
image:registry-develop:study-project/task-4/task-4-14-bp.png[]
+
//* Додайте логіку опрацювання помилки за допомогою з’єднання події *Error Boundary Event* та XOR-шлюзу *Gateway*. У результаті, при виникненні помилки на етапі “Пошуку даних про лабораторію”, користувач автоматично повернеться у контрольну точку, з якої заново почнеться виконання процесу.
. Add error handling logic by connecting the *Error Boundary Event* and the XOR *Gateway*. This way, if an error occurs at the "Search lab data" stage, the user will automatically return to the checkpoint, from where the process will start again.
+
image:registry-develop:study-project/task-4/task-4-15-bp.png[]

[NOTE]
====
//Компоненти моделювання `Doc`, `Дата Фабрика` і всі `пунктирні лінії` носять виключно інформаційний характер. Приклад їх створення відсутній в інструкції.
The `DOC` and `Data Factory` modeling components with the dashed lines in the example are purely demonstrational. This instruction does not cover how to create them.
====

[#create-user-task-add-staff-details]
//==== Створення користувацької задачі "Додати дані про кадри"
==== Creating a user task to add personnel data

//* Вкажіть тип задачі, натиснувши іконку ключа та обравши з меню пункт *User Task*.
. Set the task type by clicking the wrench icon and selecting *User Task* from the menu.
//* натисніть `Open Catalog`, оберіть шаблон *User Form* та натисніть `Apply` для підтвердження;
. Click *`Open Catalog`*, select the *User Form* template, and click *`Apply`*.
//* заповніть наступні поля:
. Fill out the following fields:
+
* *Id*: `addPersonnelFormActivity`
* *Name*: `Add personnel data`
* *Form key*: `add-personnel-bp-add-personnel`
* *Assignee*: `$\{initiator}`
* *Form data pre-population*: `$\{payload}`

image:registry-develop:study-project/task-4/task-4-7-bp.png[]

[#create-user-task-sign-data]
//==== Створення користувацької задачі "Підписати дані КЕП"
==== Creating a user task to sign data with an electronic signature

//* Вкажіть тип задачі, натиснувши іконку ключа та обравши з меню пункт *User Task*.
. Set the task type by clicking the wrench icon and selecting *User Task* from the menu.
//* натисніть `Open Catalog`, оберіть шаблон *Officer Sign Task* та натисніть `Apply` для підтвердження;
. Click *`Open Catalog`*, select the *Officer Sign Task* template, and click *`Apply`*.
//* заповніть наступні поля:
. Fill out the following fields:
+
* *Id*: `signPersonnelFormActivity`
* *Name*: `Sign data with QES`
* *Form key*: `add-personnel-bp-sign-personnel`
* *Assignee*: `$\{initiator}`
* *Form data pre-population*: `${submission('addPersonnelFormActivity').formData}`

image:registry-develop:study-project/task-4/task-4-8-bp.png[]

[#create-task-script-data-signing]
//==== Створення скрипт задачі для підготовки даних для запису (transient var)
==== Creating a script task to prepare data for saving (transient var)

//Заповніть наступні поля:
Fill out the following fields:

* *Id*: `convertSignFormDataToDataFactoryFormatActivity`
* *Name*: `Prepare data for saving (transient var)`
* *Script Format*: `groovy`
* *Script Type*: `InlineScript`

====

.`Script`
[%collapsible]
======
        def personnelGrid = submission('signPersonnelFormActivity').formData.prop('personnelGrid').elements()

        for (var personnel : personnelGrid) {

        personnel.prop("laboratoryId", laboratoryId)

        personnel.prop("staffStatusId", personnel.prop("staffStatus").prop("staffStatusId").value())

        personnel.deleteProp("staffStatus")

        if (personnel.hasProp('hygienistCertificateFile') && !personnel.prop('hygienistCertificateFile').elements().isEmpty()) {
        def hygienistCertificateFile = personnel.prop('hygienistCertificateFile').elements().first()
        } else {
        personnel.prop('hygienistCertificateFile', null as String)
        }

        if (personnel.hasProp('ordersFile') && !personnel.prop('ordersFile').elements().isEmpty()) {
        def ordersFile = personnel.prop('ordersFile').elements().first()
        personnel.prop('ordersFile', ordersFile)
        } else {
          personnel.prop('ordersFile', null as String)
        }

        if (personnel.hasProp('hireStaffFile') && !personnel.prop('hireStaffFile').elements().isEmpty()) {
        def hireStaffFile = personnel.prop('hireStaffFile').elements().first()
        } else {
        personnel.prop('hireStaffFile', null as String)
        }

        }

        execution.removeVariable('dataPayload')
        set_transient_variable('dataPayload', S(personnelGrid.toString()))
======
====

image:registry-develop:study-project/task-4/task-4-9-bp.png[]

[#create-service-task-save-data]
//==== Створення сервісної задачі "Зберегти дані в Дата-фабрику".
==== Creating a service task to save data to the data factory

//* Створіть нову сервісну задачу "Зберегти дані в Дата-фабрику", натиснувши іконку ключа та обравши з меню пункт *Service Task*.
. Create a new service task by clicking the wrench icon and selecting *Service Task* from the menu.
//* Натисніть `Open Catalog`, оберіть шаблон *Batch creation of entities in data factory* та натисніть `Apply` для підтвердження;
. Click *`Open Catalog`*, select the *Batch creation of entities in data factory* template, and click *`Apply`*.
//* Заповніть поля:
. Fill out the following fields:
+
* *Id*: `createStaffInDataFactoryActivity`
* *Name*: `Save data to data factory`
* *Resource*: `staff`
* *Payload*: `$\{dataPayload}`
* *X-Access-Token*: `${completer('signPersonnelFormActivity').accessToken}`
+
[WARNING]
====
//Після відпрацювання першої користувацької задачі (User Task), намагайтеся використовувати функцію *`completer('<task_id>')`* для отримання даних користувача, замість `initiator()`.
After the first user task, it is preferable to use the *`completer('<task_id>')`* function to get user data instead of `initiator()`.

//Токен доступу береться з АБО ініціатора (наприклад, `$initiator().accessToken}`), АБО виконавця останньої користувацької задачі (наприклад, `${completer('taskDefinitionId').accessToken}`).
The access token is taken either from the initiator (for example, `$initiator().accessToken}`) or the completer of the last user task (for example, `${completer('taskDefinitionId').accessToken}`).

//JWT-токен має свій термін дії, який триває 300 секунд. Якщо вказати токен ініціатора, який запустив бізнес-процес, а користувач довго не виконував задачу, то термін дії токена спливе, й бізнес-процес необхідно буде запускати повторно.
The JWT token has a validity period of 300 seconds. If you specify the token of the initiator of the business process, and the user takes a long time to do the task, then the token will expire, and the business process must be restarted.

//Детальніше про JUEL-функції ви можете переглянути на сторінці xref:registry-develop:bp-modeling/bp/modeling-facilitation/modelling-with-juel-functions.adoc[].
For details on the JUEL functions, see xref:registry-develop:bp-modeling/bp/modeling-facilitation/modelling-with-juel-functions.adoc[].
====
+
* *X-Digital-Signature source*: `${sign_submission('signPersonnelFormActivity').signatureDocumentId}`
* *Result Variable*: `response`

image:registry-develop:study-project/task-4/task-4-10-bp.png[]

[#create-service-task-set-bp-result]
//==== Створення сервісної задачі "Встановити результат БП".
==== Creating a service task to set the business process result

//* Створіть нову сервісну задачу "Встановити результат БП", натиснувши іконку ключа та обравши з меню пункт *Service Task*.
. Create a new service task by clicking the wrench icon and selecting *Service Task* from the menu.
//* Натисніть `Open Catalog`, оберіть шаблон *Define business process status* та натисніть `Apply` для підтвердження;
. Click *`Open Catalog`*, select the *Define business process status* template, and click *`Apply`*.
. Fill out the following fields:
+
* *Id*: `defineBusinessProcessStatusActivity`
* *Name*: `"Personnel data added" execution result`
* *Status*: `Personnel data added`

image:registry-develop:study-project/task-4/task-4-11-bp.png[]

[#create-finish-event]
//==== Створення кінцевої події
==== Creating an end event

//Заповніть кінцеву подію:
Name the end event:

* *Name*: `Data added`.

[#forms-modeling]
//=== Моделювання форм
=== Modeling forms

[TIP]
====
//На етапі моделювання форм необхідно створити та прив'язати JSON-форми до попередньо змодельованих задач в рамках бізнес-процесу.
During the forms modeling stage, you need to create and connect JSON forms to the business process tasks you modeled previously.

//Форми прив'язуються до бізнес-процесів за службовою назвою.
The forms are connected to business processes using the service name.

//Використовуйте файли _link:{attachmentsdir}/study-project/task-4/bp-forms/add-personnel-bp-add-personnel.json[add-personnel-bp-add-personnel.json]_, _link:{attachmentsdir}/study-project/task-4/bp-forms/add-personnel-bp-sign-personnel.json[add-personnel-bp-sign-personnel.json]_ та _link:{attachmentsdir}/study-project/task-4/bp-forms/shared-search-lab.json[shared-search-lab.json]_ зі змодельованими формами для прикладу.
Use the _link:{attachmentsdir}/study-project/task-4/bp-forms/add-personnel-bp-add-personnel.json[add-personnel-bp-add-personnel.json]_, _link:{attachmentsdir}/study-project/task-4/bp-forms/add-personnel-bp-sign-personnel.json[add-personnel-bp-sign-personnel.json]_, and _link:{attachmentsdir}/study-project/task-4/bp-forms/shared-search-lab.json[shared-search-lab.json]_ sample files with form examples.
====

//====  Створення форми для пошуку даних лабораторії
==== Creating a form to search lab data

[WARNING]
====
//Рекомендуємо виконувати усі налаштування, використовуючи браузер link:https://www.google.com/intl/uk_ua/chrome/[Google Chrome] для стабільної роботи усіх сервісів.
We recommend using the link:https://www.google.com/intl/en_us/chrome/[Google Chrome] browser for this task.
====

//Найперше, необхідно *створити форму для внесення даних* користувачем. Для цього виконайте наступні кроки:
First, you need to *create a form where users can enter data*. Perform the following steps:

//. Увійдіть до застосунку *Кабінет адміністратора регламентів*.
. Sign in to the *regulations administrator portal*.
+
image::registry-develop:bp-modeling/forms/admin-portal-form-modeling-step-1.png[]
+
//. За замовчуванням після авторизації відбувається перехід до майстер-версії регламенту, де відображаються форми, які вже розгорнуть у регламенті, наразі він буде пустим.
. By default, the portal opens the master version of the regulations, displaying the forms that were already deployed. At this point, it will be empty.
+
//В майстер-версії наявні форми доступні лише для перегляду без можливості їх редагування.
In the master version, forms are available in read-only mode and cannot be edited.
+
//Щоб мати можливість створювати та редагувати форми необхідно створити новий запит (версію кандидат на зміни).
To add and edit forms, you need to create a version candidate by selecting the *`Create new request`* item from the menu in the upper left corner.
+
image:registry-develop:study-project/task-1/task-1-16-forms.png[]
+
//. У полі `Назва версії` вкажіть, наприклад, _"завдання-4"_, а в полі `Опис зміни` _“Створення форм для Завдання 4”_. Після зазначення назви та опису натисніть `Створити`.
. In the *Create new request* window, fill out the following fields:
* *Version name*: Enter `task-4`.
* *Version description*: Enter `Creating forms for task 4`.
+
Click the *`Create`* button.
+
image:registry-develop:study-project/task-4/task-4-32-forms.png[]
+
//Після створення буде автоматично виконано перехід до версії-кандидата у редакторі, де вже можливо буде створювати та редагувати форми.
After you create a request, the portal automatically redirects you to the version candidate, where you can add and edit forms.
//. Перейдіть до розділу `UI-форми`. Щоб створити нову форму для бізнес-процесу, натисніть кнопку `Створити нову форму`.
. Go to the *UI forms* section. To create a new form for the business process, click the *`Create new form`* button.
+
image:registry-develop:study-project/task-1/task-1-18-forms.png[]
+
//. У вікні, що відкрилося, заповніть поля:
. In the dialog window, fill out the following fields:
+
--
//* У вікні, що відкрилося, вкажіть назву відповідної користувацької задачі -- xref:#create-start-event[`Пошук даних про лабораторію`] в полі `Бізнес-назва форми`.
* *Form's business name*: Enter the name of the xref:#create-start-event[appropriate user task] -- `Search lab data`.
//TODO: Shouldn't the anchor be #create-service-task-search-result instead of #create-start-event?
//* Заповніть поле `Службова назва форми` значенням `shared-search-lab`.
* *Form's service name*: Enter `shared-search-lab`.
--
+
image:registry-develop:study-project/task-4/task-4-35-forms.png[]
+
//. Перейдіть на вкладку `Конструктор`.
. Go to the *Build* tab.
+
[NOTE]
====
//Рекомендовано використовувати компоненти із розділу “Оновлені”.
We recommend using the components from the *Updated* section.
====
+
//. З панелі зліва перетягніть компонент *Text Field* до панелі моделювання та виконайте наступні налаштування.
. From the panel on the left, drag the *Text Field* component onto the modeling canvas and configure the following parameters:
+
image:registry-develop:study-project/task-4/task-4-36-forms.png[]
+
//* на вкладці `Display` заповніть поле `Label` значенням `ЄДРПОУ`:
* In the *Display* tab > *Label* field, enter `EDRPOU`:
+
image:registry-develop:study-project/task-4/task-4-37-forms.png[]
+
//* на вкладці `API` заповніть поле `Property Name` значенням `edrpou`:
* In the *API* tab > *Property Name* field, enter `edrpou`.
+
image:registry-develop:study-project/task-4/task-4-38-forms.png[]
+
[CAUTION]
====
//Поле `Property Name` в обов'язковому порядку заповнюється лише латиницею. Значення за замовчуванням ідентичне до значення `Label`, в нашому прикладі вказане значення `ЄДРПОУ` кирилицею, тобто його необхідно змінити.
//TODO: Slightly rephrased to be more universal
By default, the value of the *Property Name* field is identical to the *Label* field. Unlike the *Label* field, the *Property Name* field can only contain Latin letters.
====
+
//* на вкладці `Validation` встановіть прапорець у полі `Required`, щоб поле було обов'язковим до заповнення. Натисніть кнопку `Save` для збереження змін.
* In the *Validation* tab, select the *Required* checkbox to make the field mandatory. Click *`Save`* to save your changes.
+
image:registry-develop:study-project/task-4/task-4-39-forms.png[]
+
//. З панелі зліва перетягніть компонент `Select` до панелі моделювання та виконайте наступні налаштування:
. From the panel on the left, drag the *Select* component onto the modeling canvas and configure the following parameters:
+
//* на вкладці `Display` заповніть поле `Label` значенням `Назва лабораторії`:
* In the *Display* tab > *Label* field, enter `Lab name`:
+
image:registry-develop:study-project/task-4/task-4-40-forms.png[]
+
//* на вкладці `Data` в полі `Data Source Type` оберіть значення `URL`.
* In the *Data* tab > *Data Source Type* field, select `URL`.
+
//** поле `Data Source URL` заповніть значенням:
** In the *Data Source URL* field, enter the following value:
+
----
/api/data-factory/laboratory-start-with-edrpou-contains-name
----
+
//Це посилання на ендпоінт попередньо створеного search condition *`laboratory_start_with_edrpou_contains_name`* у моделі даних.
This is a reference to the previously created endpoint of the *`laboratory_start_with_edrpou_contains_name`* search condition in the data model.
+
//** встановіть прапорець (checkbox) для поля `Lazy Load Data`, щоб допустимі значення для поточного select оновлювалися кожного разу, коли до нього відбувається звернення.
** Select the *Lazy Load Data* checkbox so that the valid values for the current *Select* component are updated each time it is accessed.
+
image:registry-develop:study-project/task-4/task-4-41-forms.png[]
+
//** поле `Value Property` заповніть значенням `laboratoryId`;
** In the *Value Property* field, enter `laboratoryId`.
//** поле `Filter Query` заповніть значенням `edrpou={{data.edrpou}}`;
** In the *Filter Query* field, enter `edrpou={{data.edrpou}}`.
//** поле `Limit`  заповніть значенням `100`. Це дозволяє обмежити пошук лише першими 100 знайденими запитами. При правильному використанні такі обмеження допоможуть знизити навантаження на системи реєстру;
** In the *Limit* field, enter `100`. This limits the search to the first 100 results. When used correctly, restrictions like this will help reduce the load on the registry systems.
//** поле `Item Template` заповніть значенням `<span>{{ item.name }}</span>`;
** In the *Item Template* field, enter `<span>{{ item.name }}</span>`.
//TODO: Для чого пустий тег span навколо змінної?
+
[NOTE]
====
//Значення `{{ item.name }}` містить:
The `{{ item.name }}` value contains the following:

//-	`item` – поточний об'єкт зі списку знайдених лабораторій;
* `item`: The current object from the list of found laboratories.
//-	`name` – поле цього об'єкта.
* `name`: The object's name.

//У цьому полі вказується, що буде показано у самому select-запиті. Тобто ендпоінт `/api/data-factory/laboratory-start-with-edrpou-contains-name` поверне масив знайдених `item` об'єктів такого виду:
In this field, you specify what will be shown in the select query. In other words, the `/api/data-factory/laboratory-start-with-edrpou-contains-name` endpoint will return an array of found `item` objects in the following format:

[source, json]
----
{
    "laboratoryId": "466ad903-7bd0-4078-9f80-972ed66780a8",
    "edrpou": "12345678",
    "name": "Lab Name"
}
----

//Щоб показувати у випадному списку select-запита назви лабораторій, треба звернутися до поля `name` → `(<span>{{ item.name }}</span>)`.
To display laboratory names in the dropdown list of the select query, specify the `name` field: `(<span>{{ item.name }}</span>)`.
//TODO: Once again, why use span here and not in other examples?

//Якщо треба показувати у випадному списку, наприклад, `edrpou` кожної знайденої лабораторії, то за аналогією потрібно вказати `{{ item.edrpou }}`.
Similarly, if you need to display the `edrpou` code of each laboratory in the dropdown list, indicate the `edrpou` field: `{{ item.edrpou }}`.

====
+
//** у полі `Refresh Options On` оберіть значення `ЄДРПОУ`. Цей select-запит автоматично стане залежним від попереднього поля `ЄДРПОУ` і буде скидати обране перед цим значення при зміні значення вказаному у полі `ЄДРПОУ`;
** In the *Refresh Options On* field, select `EDRPOU`. This makes the select request dependent on the preceding `EDRPOU` field and will reset the previously selected value when the value specified in the `EDRPOU` field changes.
+
[TIP]
====
//Детальну інформацію про функцію `Refresh Options On` можна переглянути за посиланням:

//* xref:registry-develop:bp-modeling/forms/components/select/select-refresh-options.adoc[]
For details on the *Refresh Options On* function, see xref:registry-develop:bp-modeling/forms/components/select/select-refresh-options.adoc[].
====
+
//* на вкладці `Validation` встановіть прапорець у полі `Required`, щоб поле було обов'язковим до заповнення.
* In the *Validation* tab, select the *Required* checkbox to make the field mandatory.
+
image:registry-develop:study-project/task-4/task-4-43-forms.png[]
+
//* на вкладці `API` заповніть поле `Property Name` значенням `laboratory`. Натисніть кнопку `Save` для збереження змін.
* In the *API* tab > *Property Name* field, enter `laboratory`. Click *`Save`* to save your changes.
+
image:registry-develop:study-project/task-4/task-4-44-forms.png[]

[#form-edit-grid]
//==== Моделювання однакових сутностей на формах за допомогою Edit Grid
==== Modeling uniform entities on the forms using Edit Grid

//===== Створення форми для внесення даних про нові кадри
===== Creating a form to enter data about new personnel

//. Перейдіть до розділу `UI-форми`. Щоб створити нову форму для бізнес-процесу, натисніть кнопку `Створити нову форму`.
. Go to the *UI forms* section. To create a new form for the business process, click the *`Create new form`* button.
+
image:registry-develop:study-project/task-1/task-1-18-forms.png[]
+
//. У вікні, що відкрилося, заповніть поля:
. In the dialog window, fill out the following fields:
+
--
//* У вікні, що відкрилося, вкажіть назву відповідної користувацької задачі -- xref:#create-user-task-add-staff-details[`Додати дані про кадри`] в полі `Бізнес-назва форми`.
* *Form's business name*: Enter the name of the xref:#create-user-task-add-staff-details[appropriate user task] -- `Add personnel data`.
//* Заповніть поле `Службова назва форми` значенням `add-personnel-bp-add-personnel`.
* *Form's service name*: Enter `add-personnel-bp-add-personnel`.
--
+
image:registry-develop:study-project/task-4/task-4-33-forms.png[]
+
//. Перейдіть на вкладку `Конструктор`.
. Go to the *Build* tab.
+
[NOTE]
====
//Рекомендовано використовувати компоненти із розділу “Оновлені”.
We recommend using the components from the *Updated* section.
====

//За допомогою *Edit Grid* на формі можливо додавати та редагувати однотипні дані.
Using *Edit Grid*, you can add and edit uniform data on your forms.

//* З панелі зліва перетягніть компонент *Edit Grid* до панелі моделювання та виконайте наступні налаштування:
. From the panel on the left, drag the *Edit Grid* component onto the modeling canvas and configure the following parameters:
//** на вкладці *Display* заповніть поле `Label` значенням `Додати інформацію про кадри`:
* In the *Display* tab > *Label* field, enter `Add personnel data`:
+
image:registry-develop:study-project/task-4/task-4-12-forms.png[]
+
//** на вкладці *Templates* заповніть поля:
* In the *Templates* tab, fill out the following fields:
** *Add Another Text*: `Add`
** *Save Row Text*: `Add record`
** *Remove Row Text*: `Delete record`
+
image:registry-develop:study-project/task-4/task-4-13-forms.png[]
+
//** на вкладці *API* заповніть поле `Property Name` значенням `personnelGrid`;
* In the *API* tab > *Property Name* field, enter `personnelGrid`.
//** натисніть кнопку `Save` для збереження змін:
. Click *`Save`* to save your changes.
+
image:registry-develop:study-project/task-4/task-4-14-forms.png[]
+
//* Наповніть Edit Grid компонентами: з панелі зліва перетягніть компонент *Textfield* в поле компонента *Edit Grid* та виконайте наступні налаштування:
. Add components to *Edit Grid*.
+
.. From the panel on the left, drag the *Text Field* component onto the *Edit Grid* field and configure the following parameters:
+
//** на вкладці *Display* заповніть поле `Label` значенням `Прізвище, ім'я, по батькові`:
* In the *Display* tab > *Label* field, enter `Full name`:
+
image:registry-develop:study-project/task-4/task-4-15-forms.png[]
+
//** на вкладці *API* заповніть поле `Property Name` значенням `fullName`;
* In the *API* tab > *Property Name* field, enter `fullName`.
//** натисніть кнопку `Save` для збереження змін:
* Click *`Save`* to save your changes.
+
image:registry-develop:study-project/task-4/task-4-16-forms.png[]
+
//* З панелі зліва перетягніть компонент *Checkbox* в поле компонента *Edit Grid* та виконайте наступні налаштування:
.. From the panel on the left, drag the *Checkbox* component onto the *Edit Grid* field and configure the following parameters:
//** на вкладці *Display* заповніть поле `Label` значенням `Лікар з гігієни праці`:
* In the *Display* tab > *Label* field, enter `Occupational hygienist`:
+
image:registry-develop:study-project/task-4/task-4-17-forms.png[]
+
//** на вкладці *API* заповніть поле `Property Name` значенням `hygienistFlag`;
* In the *API* tab > *Property Name* field, enter `hygienistFlag`.
//** натисніть кнопку `Save` для збереження змін:
* Click *`Save`* to save your changes.
+
image:registry-develop:study-project/task-4/task-4-18-forms.png[]

//===== Налаштування відображення компонента залежно від значення іншого компонента
===== Configuring the display of one component based on the value of another component

//* З панелі зліва перетягніть компонент *Date/Time* в поле компонента *Edit Grid* та виконайте наступні налаштування для отримання інформації з довідника:
. From the panel on the left, drag the *Date/Time* component onto the *Edit Grid* field and configure the following parameters to retrieve information from the directory:
//** на вкладці *Display* заповніть поле `Label` значенням `Дата проходження спеціалізації` та поле Format значенням `yyyy-MM-dd:`:
* In the *Display* tab > *Label* field, enter `Date of specialization completion`.
* In the *Format* field, enter `yyyy-MM-dd:`:
+
image:registry-develop:study-project/task-4/task-4-45-forms.png[]
+
//** на вкладці `Time` зніміть прапорець `Enable Time Input`, в контексті поточного завдання точний час нам не потрібен:
* In the *Time* tab, clear the *Enable Time Input* checkbox -- we don't need it for the current task.
+
image:registry-develop:study-project/task-4/task-4-46-forms.png[]
+
//** на вкладці *API* заповніть поле `Property Name` значенням `specializationDate`:
* In the *API* tab > *Property Name* field, enter `specializationDate`.
+
image:registry-develop:study-project/task-4/task-4-47-forms.png[]
+
//** на вкладці *Conditional* заповніть поля:
* In the *Conditional* tab, fill out the following fields:
+
** *This component should Display*: `True`
** *When the form component*: `Occupational hygienist (personnel.Grid.hygienistFlag)`
** *Has the value*: `true`
+
//* Це означає, що компонент буде показано тільки при значенні компонента `Лікар з гігієни  праці (personnel.Grid.hygienistFlag)` -- `true`:
This way, the component will be displayed only when the `Occupational hygienist (personnel.Grid.hygienistFlag)` component is `true`.
+
image:registry-develop:study-project/task-4/task-4-48-forms.png[]
+
//** натисніть кнопку `Save` для збереження змін.
* Click *`Save`* to save your changes.
+
//** Аналогічно до попереднього пункту перетягніть та налаштуйте компоненти на формі:
. Drag and configure the following additional components to the form:

* *Radio* component:
//** на вкладці *Display* заповніть поле `Label` значенням `Трудові відносини`;
** *Display* tab > *Label* field: `Employment type`
//** на вкладці *Data* - *Values* заповніть поле `Label` значенням `Основне місце роботи`, а поле `Value` - `true`;
** *Data* tab > *Values* > *Label* field: `Full-time`; *Value* field: `true`
//** на вкладці *Data* - *Values* заповніть поле `Label` значенням `Сумісництво`, а поле `Value` - `false`;
** *Data* tab > *Values* > *Label* field: `Part-time`; *Value* field: `false`
//** на вкладці *API* заповніть поле `Property Name` значенням `fullTimeFlag`;
** *API* tab > *Property Name* field: `fullTimeFlag`

* *Number* component:
//** на вкладці *Display* заповніть поле `Label` значенням `Ставка`;
** *Display* tab > *Label* field: `Salary`
//** на вкладці *Validation* заповніть поле `Minimum value` значенням `1`;
** *Validation* tab > *Minimum value* field: `1`
//** на вкладці *API* заповніть поле `Property Name` значенням `salary`;
** *API* tab > *Property Name* field: `salary`

* *Day* component:
//** на вкладці *Display* заповніть поле `Label` значенням `Дата зміни статусу`;
** *Display* tab > *Label* field: `Date of status change`
//** на вкладці *API* заповніть поле `Property Name` значенням `dismissalDate`.
** *API* tab > *Property Name* field: `dismissalDate`
+
//З панелі зліва перетягніть компонент *Select* в поле компонента Edit Grid та налаштуйте компонент для отримання інформації з довідника:
. From the panel on the left, drag the *Select* component onto the *Edit Grid* field and configure the following parameters to retrieve information from the directory:
+
//* на вкладці *Display* заповніть поле `Label` значенням ` Статус співробітника`;
* In the *Display* tab > *Label* field, enter `Employee status`.
+
//* на вкладці *Data* заповніть поля:
* In the *Data* tab, fill out the following fields:

** *Data Source Type*: `URL`
** *Data Source URL*: `/api/data-factory/staff-contains-name`, where:
//*** `/api/data-factory/` -- вказує шлях до дата-фабрики
*** `/api/data-factory/` is the data factory path
//*** `staff-contains-name` -- назва search condition для отримання даних з довідника областей, який був змодельований та доданий у репозиторій;
*** `staff-contains-name` is the name of the search condition to retrieve data from the domain directory that was modeled and added to the repository
** *Value Property*: `staffStatusId`
//** *Item Template* - `<span>{{ item.name }}</span>`,  де `name` - назва параметра, що повертає search condition та буде показаний на формі:
** *Item Template*: `<span>{{ item.name }}</span>`,  where `name` is the name of the parameter that returns the search condition and will be displayed on the form:
+
image:registry-develop:study-project/task-4/task-4-22-forms.png[]
+
image:registry-develop:study-project/task-4/task-4-23-forms.png[]
+
//* на вкладці *API* заповніть поле `Property Name` значенням `staffStatus`;
* In the *API* tab > *Property Name* field, enter `staffStatus`.
//* натисніть кнопку `Save` для збереження змін.
* Click *`Save`* to save your changes.
+
//З панелі зліва перетягніть компонент *Checkbox* в поле компонента Edit Grid та налаштуте компонент:
. From the panel on the left, drag the *Checkbox* component onto the *Edit Grid* field and configure the following parameters:
+
//* на вкладці *Display* заповніть поле `Label` значенням `Строковий трудовий договір`;
* In the *Display* tab > *Label* field, enter `Fixed-term employment contract`.
//* на вкладці *API* заповніть поле `Property Name` значенням `fixedTermContractFlag`;
* In the *API* tab > *Property Name* field, enter `fixedTermContractFlag`.
//* натисніть кнопку `Save` для збереження змін:
* Click *`Save`* to save your changes.
+
image:registry-develop:study-project/task-4/task-4-24-forms.png[]
+
image:registry-develop:study-project/task-4/task-4-25-forms.png[]
+
//З панелі зліва перетягніть компонент *Day* в поле компонента *Edit Grid* та виконайте наступні налаштування:
. From the panel on the left, drag the *Day* component onto the *Edit Grid* field and configure the following parameters:
//** на вкладці *Display* заповніть поле `Label` значенням `Дата закінчення строкового договору`:
* In the *Display* tab > *Label* field, enter `Contract end date`.
+
image:registry-develop:study-project/task-4/task-4-26-forms.png[]
+
//** на вкладці *API* заповніть поле `Property Name` значенням `contractEndDate`:
* In the *API* tab > *Property Name* field, enter `contractEndDate`.
+
image:registry-develop:study-project/task-4/task-4-27-forms.png[]
+
//** на вкладці *Conditional* заповніть поля:
* In the *Conditional* tab, fill out the following fields:

** *This component should Display*: `True`
//** `When the form component:` - `Строковий трудовий договір (personnelGrid.fixedTermContractFlag)`;
** *When the form component*: `Fixed-term employment contract (personnelGrid.fixedTermContractFlag)`
** *Has the value*: `true`
+
//* Це означає, що компонент буде показаний лише при значенні компонента `Строковий трудовий договір (personnelGrid.fixedTermContractFlag)` - `true`.
This way, the component will be displayed only when the `Fixed-term employment contract (personnelGrid.fixedTermContractFlag)` component is `true`.
//** натисніть кнопку `Save` для збереження змін:
* Click *`Save`* to save your changes.
+
image:registry-develop:study-project/task-4/task-4-28-forms.png[]
+
//* З панелі зліва перетягніть компоненти *Textfield* *ПОЗА* межами компонента *Edit Grid* та виконайте наступні налаштування:
. From the panel on the left, drag the *Text Field* components *outside* the *Edit Grid* field and configure the following parameters:
+
//** Компонент 1 - Textfield:
* For the first *Text Field* component:
//*** на вкладці *Display* заповніть:
** In the *Display* tab:
//**** поле `Label` значенням `Повна назва лабораторії або ПІБ ФОП`;
*** In the *Label* field, enter `Full name of the lab or sole proprietor`.
//**** чекбокс `Disabled` - `true`
*** Set the *Disabled* checkbox to `true`.
//*** на вкладці *API* заповніть поле `Property Name` значенням `name`;
** In the *API* tab > *Property Name* field, enter `name`.
+
//** Компонент 2 - Textfield:
* For the second *Text Field* component:
//*** на вкладці *Display* заповніть:
** In the *Display* tab:
//**** поле `Label` значенням `Код ЄДРПОУ або РНОКПП`;
*** In the *Label* field, enter `EDRPOU or RNOKPP code`.
//**** чекбокс `Disabled` - `true`
*** Set the *Disabled* checkbox to `true`.
//*** на вкладці *API* заповніть поле `Property Name` значенням `edrpou`;
** In the *API* tab > *Property Name* field, enter `edrpou`.
//** Ці поля будуть заповнені даними з бізнес-процесу.
* These fields will contain data from the business process.
+
//* Збережіть форму, натиснувши кнопку `Створити форму` у правому верхньому куті:
. Save your form by clicking the *`Create form`* button in the upper right corner.
+
image:registry-develop:study-project/task-4/task-4-29-forms.png[]
+
[NOTE]
====
//Щоб обрати поля, які  необхідно показувати у вигляді стовпчиків на компоненті `Edit Grid`, у кожного поля в налаштуваннях на вкладці `Display` внизу екрану розміщено прапорець (checkbox) `Table View`, встановивши його, поле показано в окремому стовпчику, якщо вимкнено -- ні.
To display fields as columns inside the *Edit Grid* component, open the field's settings and select the *Table View* checkbox in the *Display* tab. When this checkbox is selected, the field is displayed in a separate column.

image:registry-develop:study-project/task-4/task-4-50-forms.png[]

image:registry-develop:study-project/task-4/task-4-49-forms.png[]
====

[#form-data-signing]
//==== Створення форми для підпису даних
==== Creating a form to sign data

//Після завершення попереднього кроку та створення форми для внесення даних, *створіть* ще одну *форму для підпису даних*.
After you create a form to enter data, *create one more form to sign data*.

//Для цього *скопіюйте* попередньо змодельовану форму, натиснувши **іконку копіювання** -- це дозволить створити форму із готового шаблону.
Copy the form you modeled previously using the copy icon -- this way, you can create a form from a template.

image:registry-develop:study-project/task-4/task-4-34-forms.png[]

//*Налаштуйте параметри форми*:
Configure the form's parameters:

//* введіть назву користувацької задачі `Підписати відомості про кадровий склад` в полі `Бізнес-назва форми`;
* *Form's business name*: Enter the name of the user task -- `Sign personnel data`.
//* заповніть поле `Службова назва форми` значенням `add-personnel-bp-sign-personnel`;
* *Form's service name*: Enter `add-personnel-bp-sign-personnel`.
//* В усіх компонентах:
* For all components:
+
//** на вкладці *Display* встановіть прапорець для параметра *Disabled*;
** In the *Display* tab, select the *Disabled* checkbox.
//** Натисніть кнопку `Save` для збереження змін.
** Click *`Save`* to save your changes.

//==== Збереження змодельованих форм бізнес-процесу
==== Saving the business process forms

//* Збережіть форму, натиснувши кнопку `Створити форму` у правому верхньому куті.
. Save your form by clicking the *`Create form`* button in the upper right corner.
//* Завантажте форми, натиснувши *іконку завантаження*, та помістіть їх до регламентної папки *_forms_* проєкту в локальному Gerrit-репозиторії.
. Download your forms by clicking the download icon.
+
image:registry-develop:study-project/task-4/task-4-31-forms.png[]
+
. Copy them to the _forms_ regulations folder of your project in the local Gerrit repository.

[#bp-access]
//=== Моделювання доступу до бізнес-процесу
=== Modeling business process access

[TIP]
====
//На цьому етапі необхідно надати доступ до бізнес-процесу в Кабінеті посадової особи для стандартної ролі `officer`  .
At this stage, you need to grant access to the business process from the officer portal for the standard `officer` role.

//Параметри доступу налаштовуються у конфігураційному файлі, що має назву _link:{attachmentsdir}/study-project/task-3/bp-access/officer.yml[officer.yml]_ із директорії _bp-auth_.
Access parameters are configured via the _link:{attachmentsdir}/study-project/task-3/bp-access/officer.yml[officer.yml]_ file from the _bp-auth_ folder.
====

//Відредагуйте файл  _bp-auth/officer.yml_ додавши наступні параметри:
Edit the _bp-auth/officer.yml_ file by adding the following parameters:

//.Приклад. Налаштування доступу до бізнес-процесу в Кабінеті посадової особи
.Configuring access to the business process from the officer portal
[source,yaml]
----
authorization:
  realm: 'officer'
  process_definitions:
    - process_definition_id: 'add-lab-test'
      process_name: 'Creating a laboratory'
      process_description: 'Laboratory creation regulations'
      roles:
        - officer
    - process_definition_id: 'add-lab'
      process_name: 'Creating a laboratory'
      process_description: 'Laboratory creation regulations'
      roles:
        - officer
    - process_definition_id: 'add-personnel'
      process_name: 'Entering personnel data'
      process_description: 'Entering personnel data'
      roles:
        - officer
----

//==== Збереження файлу з налаштування доступу
==== Saving the access config file

//Збережіть файл _officer.yml_ до регламентної папки *_bp-auth_* проєкту в локальному Gerrit-репозиторії.
Save the _officer.yml_ file to the _bp-auth_ regulations folder of your project in the local Gerrit repository.

//== Завантаження файлів регламенту до віддаленого репозиторію Gerrit
== Uploading the regulations files to a remote Gerrit repository

//Для успішного розгортання бізнес-процесу, форм, а також застосування правильних налаштувань доступу до бізнес-процесу у цільовому середовищі, адміністратор регламенту має завантажити збережені локально файли регламенту реєстру до віддаленого сховища коду Gerrit.
To successfully deploy the business process with forms and apply the correct access settings in the target environment, the regulations administrator must upload the locally stored registry regulations files to the remote Gerrit code repository.

//Для цього виконайте кроки з інструкції xref:registry-develop:registry-admin/regulations-deploy/registry-admin-deploy-regulation.adoc[].
To do this, perform the steps described in the following topic: xref:registry-develop:registry-admin/regulations-deploy/registry-admin-deploy-regulation.adoc[].