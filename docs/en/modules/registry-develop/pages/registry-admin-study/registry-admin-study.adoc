//= Онбординг технічних адміністраторів реєстру
= Registry administrators onboarding
include::platform:ROOT:partial$templates/document-attributes/default-set-en.adoc[]

include::platform:ROOT:partial$admonitions/language-en.adoc[]
[NOTE]
====
//Ми надаємо можливість не лише теоретично ознайомитися з навчальними матеріалами, а й перевірити на практиці роботу та налаштування всього, що описано на цій сторінці, за допомогою _тестового реєстру_. Його може розгорнути Адміністратор Платформи в окремому проєкті (namespace) на Платформі.
You have the opportunity to not only familiarize yourself theoretically with educational materials but also to test the practical operation and configure everything described on this page in a _test registry_. This registry can be deployed by the Platform administrator in a separate project (namespace) on the Platform.

//Цей тестовий реєстр містить готовий набір базових конфігурацій для різних сервісів і ресурсів, спеціально виділених для них.
This test registry contains a ready-made set of basic configurations for various services and resources specially dedicated to them.

//Окрім цього, Адміністратор Платформи може розгорнути для вас _демо-реєстр_ -- еталонний реєстр, що містить референтні та інші приклади для створення цифрового регламенту. Він містить різноманітні елементи для розробки моделі даних, бізнес-процесів, UI-форм, аналітичної звітності, витягів, сповіщень, зовнішніх інтеграцій та багато іншого.
Additionally, the Platform administrator can deploy a _demo registry_ for you -- a model registry containing reference and other examples for creating a digital regulations. It encompasses various elements for developing data models, business processes, UI forms, analytical reporting, extracts, notifications, external integrations, and much more.

//Детальну інструкцію по розгортанню демо-реєстру ви знайдете на сторінці xref:registry-admin/cp-deploy-consent-data.adoc[].
Detailed instructions for deploying the demo registry can be found at xref:registry-admin/cp-deploy-consent-data.adoc[].
====

//== Вступ
== Introduction

//Ця сторінка призначена для навчання адміністраторів реєстру і містить повний опис їх ролі, обов'язків та вимог, пов'язаних з керуванням, підтримкою та моніторингом реєстру та його компонентів. Навчальний матеріал покриває широкий спектр аспектів роботи з реєстром та навички, необхідні для ефективного виконання обов'язків адміністратора.
This page is intended for educating registry administrators and provides a comprehensive description of their role, responsibilities, and requirements related to managing, supporting, and monitoring the registry and its components. The educational material covers a wide range of aspects related to working with the registry and the skills necessary for effectively performing administrator duties.

//Описуються специфічні особливості роботи з регламентом реєстру, який визначає логіку його функціонування, включаючи модель даних, бізнес-процеси та інтерфейси користувача.
Specific features of working with the registry regulations are described, defining its operational logic, including data models, business processes, and user interfaces.

//Також надається детальний огляд централізованого адміністративного інтерфейсу для керування реєстрами -- адмін-панелі *Control Plane*. Пояснюється процес створення адміністраторів реєстру з необхідними правами доступу.
Furthermore, a detailed overview of the centralized administrative interface for managing registries is provided -- the *Control Plane* admin panel. The process of creating registry administrators with necessary access rights is explained.

//Навчальний матеріал також звертає увагу на управління користувачами та доступом до реєстру через інструмент автентифікації та авторизації користувачів, відомий як Keycloak.
Educational material also highlights user management and registry access through the authentication and authorization tool known as Keycloak.

//Курс охоплює такі теми, як процеси автентифікації для кінцевих користувачів, резервне копіювання та відновлення компонентів реєстру, включаючи базу даних, з використанням автоматизованих процесів у Jenkins.
The course covers topics such as authentication processes for end-users, backup and restoring of registry components, including databases, using automated processes in Jenkins.

//Пояснюється процес оновлення компонентів реєстру, керування ресурсами сервісів реєстру, інтеграція з іншими реєстрами та зовнішніми системами за допомогою REST та SOAP API.
The process of updating registry components, managing service resources, integration with other registries and external systems through REST and SOAP APIs is explained.

//Курс надає знання про налаштування ключів і сертифікатів цифрового підпису для реєстру, налаштування доменних імен для вебпорталів реєстру та сервісу Keycloak.
The course imparts knowledge about configuring keys and digital signature certificates for the registry, configuring domain names for registry web portals and the Keycloak service.

//Також пояснюється, як обмежувати доступ до компонентів реєстру за допомогою CIDR, підтверджувати або відхиляти запити на зміни реєстру (Merge Requests).
It also explains how to restrict access to registry components using CIDR, approve or reject registry change requests (Merge Requests).

//Курс також включає адміністрування бізнес-процесів з використанням Camunda BPM, налаштування та використання VCS git та Gerrit, а також управління налаштуваннями та лімітами доступу (rate limits) до внутрішніх ресурсів з використанням Kong API-шлюзу.
The course also includes administering business processes using Camunda BPM, configuring and using VCS git and Gerrit, as well as managing configurations and access limits (rate limits) to internal resources using the Kong API gateway.

//Крім того, навчальний матеріал розглядає налаштування поштового сервера для обміну повідомленнями у реєстрі. Таким чином, після проходження курсу ви отримаєте повне розуміння аспектів адміністрування реєстру та необхідні навички для виконання цієї ролі.
Additionally, the educational material discusses configuring a mail server for message exchange within the registry. Thus, after completing the course, you will gain a thorough understanding of registry administration aspects and the necessary skills for fulfilling this role.

//== Обов'язки та вимоги до адміністратора реєстру
== Registry administrators: responsibilities and requirements

//Обов'язки та вимоги до адміністратора реєстру передбачають обслуговування, підтримку та моніторинг реєстру і його компонентів.
Responsibilities and requirements for a registry administrator encompass servicing, supporting, and monitoring the registry and its components.

//TIP: Детальніше ви можете ознайомитися на сторінці
TIP: For more details, you can refer to
xref:registry-admin-study/registry-admin-profile.adoc[].


//== Хто такий адміністратор реєстру та як він з'являється на Платформі
== Registry administrators and their role on the Platform

//Адміністратор Платформи xref:admin:registry-management/control-plane-create-registry.adoc[створює реєстр] і додає найпершого адміністратора цього реєстру. Надалі такий адміністратор реєстру створює інших адміністраторів.
The Platform administrator xref:admin:registry-management/control-plane-create-registry.adoc[creates a registry] and adds the initial administrator for that registry. Subsequently, such a registry administrator creates other administrators.

//Надалі адміністратори мають змогу працювати з реєстром, зокрема вони можуть редагувати налаштування шляхом внесення змін до конфігурації реєстру.
These administrators have the ability to work with the registry, including editing settings by making changes to the registry configuration.

//TIP: Ознайомтеся з роллю технічного адміністратора реєстру та зоною його відповідальності на прикладі xref:arch:architecture/platform-logical.adoc[Струкрутрної діаграми Платформи].
TIP: Familiarize yourself with the role of a registry administrator and their area of responsibility through the xref:arch:architecture/platform-logical.adoc[Platform's structural diagram].

//== Як розгортається реєстр та як оновлюється його конфігурація
== How the registry is deployed and how its configuration is updated

//Розгортання та оновлення конфігурацій реєстрів відбувається за GitOps-підходом.
Deployment and updating of registry configurations occur through the GitOps approach.

[TIP]
====
//.Що таке GitOps-підхід?
.What is the GitOps approach?
[%collapsible]
=====
//GitOps -- це підхід до керування інфраструктурою та розгортання програмного забезпечення, який базується на використанні системи контролю версій Git.
GitOps is an approach to managing infrastructure and software deployment that is based on the use of the Git version control system.

//У GitOps-підході всі конфігураційні файли, описи інфраструктури та код програмного забезпечення зберігаються в репозиторії Git. Це означає, що будь-які зміни в інфраструктурі або програмному забезпеченні відбуваються через коміти до Git-репозиторію.
In the GitOps approach, all configuration files, infrastructure descriptions, and software code are stored in a Git repository. This means that any changes to the infrastructure or software occur through commits to the Git repository.
=====
====

//Основні конфігурації реєстру зберігаються у файлі *_deploy-templates/values.yaml_* компонента `control-plane-gerrit`, у Gerrit-репозиторії вашого реєстру. Gerrit-репозиторій є системою рецензування коду, що побудована на базі git VCS.
The core registry configurations are stored in the *_deploy-templates/values.yaml_* file of the `control-plane-gerrit` component within your registry's Gerrit repository. The Gerrit repository serves as a code review system built on the git VCS.

//Частина конфігурацій також зберігається у файлах:
Part of the configurations is also stored in files such as:

//* *_deploy-templates/helmfile.yaml_* -- налаштування helm-релізів для компонентів реєстру.
//* *_deploy-templates/values.gotmpl_* -- налаштування розміру дисків компонентів реєстру.
* *_deploy-templates/helmfile.yaml_* -- configuration of helm releases for registry components.
* *_deploy-templates/values.gotmpl_* -- configuration of disk sizes for registry components.

//За розгортання конфігурацій реєстру відповідає компонент `control-plane-jenkins`, а саме автоматизований Jenkins-процес (_також -- job_) *MASTER-Build-`<registry-name>`*, де `<registry-name>` -- назва реєстру. Цей процес запускається за подією `git merge` змін до `master`-гілки репозиторію вашого реєстру у центральному компоненті Gerrit Платформи.
The deployment of registry configurations is managed by the `control-plane-jenkins` component, specifically through an automated Jenkins process (also referred to as a job) *MASTER-Build-`<registry-name>`*, where `<registry-name>` is the name of the registry. This process is triggered by the event of a `git merge` of changes into the `master` branch of your registry's repository within the central Gerrit component of the Platform.

//Власне налаштування вносяться до реєстру через зручний інтерфейс компонента *Control Plane* -- адміністративної панелі керування Платформою та реєстрами (_див. детальніше у розділі xref:#control-plane[]_).
Actual configurations are applied to the registry through the convenient interface of the *Control Plane* component -- the administrative control panel for the Platform and registries (_for more details, refer to xref:#control-plane[]_).

[#preconditions-setup]
//== Що необхідно для початку роботи
== Getting started

//=== Налаштування локального середовища
=== Setting up the local environment

//Для повноцінної та зручної роботи із реєстром та його сутностями, вам необхідно налаштувати локальне середовище. Для цього встановіть на вашій локальній машині наступний перелік інструментів:
For comprehensive and convenient work with the registry and its entities, you need to configure your local environment. To do this, install the following tools on your local machine:


|===
//|+++ <b style="font-weight: 700">Назва інструмента </b>+++ |+++ <b style="font-weight: 700">Призначення </b>+++
|*Tool name* | *Purpose*

//|https://git-scm.com/downloads[Git та Git Bash-консоль]
|https://git-scm.com/downloads[Git and Git Bash console]
//|Система контролю версій (VCS) та консоль, яка необхідна для роботи із git-репозиторіями (Gerrit, GitHub, GitLab тощо) за допомогою git-команд.
|Version control system (VCS) and console required for working with git repositories (Gerrit, GitHub, GitLab, etc.) using git commands.

//|Середовище розробки (IDE):
|Development environment (IDE):

- https://code.visualstudio.com/download[VSCode]

- https://www.jetbrains.com/idea/download/#section=windows[IntelliJ IDEA]
//|Середовище розробки надає зручний візуалізований інтерфейс для роботи з регламентом у локальному Gerrit-репозиторії.
|The development environment provides a user-friendly visual interface for working with the regulations in the local Gerrit repository.

//Оберіть одне з двох на вибір.
Choose one of the two options.

//|xref:registry-develop:bp-modeling/bp/element-templates/bp-element-templates-installation-configuration.adoc#business-process-modeler-extensions-installation[Camunda Modeler, плагіни й типові розширення бізнес-процесів]
|xref:registry-develop:bp-modeling/bp/element-templates/bp-element-templates-installation-configuration.adoc#business-process-modeler-extensions-installation[Camunda Modeler, plugins and business processes standard extensions]
//|Настільний застосунок Camunda Modeler для локального перегляду та моделювання бізнес-процесів, плагіни й типові розширення до нього.
|Desktop application Camunda Modeler for local viewing and modeling of business processes, plugins, and standard extensions for it.

//|Текстовий редактор:
|Text editor:

- https://notepad-plus-plus.org/downloads/[Notepad++]

- https://www.sublimetext.com/[Sublime Text]

//|Зручний текстовий редактор дозволить вам зручно працювати із файлами вихідного коду різних розширень.
|A convenient text editor allows you to work easily with source code files of various extensions.

//Оберіть одне з двох на вибір.
Choose one of the two options.

|https://www.postman.com/downloads/[Postman]
//|Інструмент для розробки та тестування API. Він надає зручне середовище для створення, надсилання, тестування та документування HTTP-запитів.
|A tool for developing and testing APIs. It offers a convenient environment for creating, sending, testing, and documenting HTTP requests.

//За допомогою Postman можна легко взаємодіяти з різними типами API, включаючи REST, SOAP, GraphQL та інші. Інтерфейс Postman є інтуїтивно зрозумілим і має багато корисних функцій, які допомагають розробникам простіше працювати з API, зокрема:
With Postman, you can easily interact with various types of APIs, including REST, SOAP, GraphQL, and more. The Postman interface is intuitive and features many useful functions that help developers work with APIs more effectively, including:

//- Взаємодія з Keycloak API (для управління користувачами, перевірки та відлагодження автентифікації тощо).
- Interacting with the Keycloak API (for user management, authentication checks, debugging, etc.).

//- Взаємодія з API бізнес-процесів та Фабрики даних для емуляції виклику реєстру зовнішніми системами через REST або SOAP API.
- Interacting with the API of business processes and Data Factory to emulate registry calls with external systems through REST or SOAP APIs.

//- Взаємодія з Redash API для створення візуалізацій, дашбордів при роботі з аналітичною звітністю у реєстрі.
- Interacting with the Redash API to create visualizations, dashboards when working with analytical reporting in the registry.

|https://dbeaver.io/download/[DBeaver]
//|Інструмент, який надає зручний і потужний інтерфейс для управління різними типами баз даних. Він є безплатним та з відкритим вихідним кодом (Open Source) і доступний для використання на різних операційних системах, включаючи Windows, macOS і Linux.
|A tool that provides a convenient and powerful interface for managing various types of databases. It is free, open-source, and available for use on various operating systems, including Windows, macOS, and Linux.

//DBeaver підтримує багато різних типів баз даних, включаючи відомі системи, зокрема MySQL, PostgreSQL, Oracle та багато інших.
DBeaver supports many different types of databases, including well-known systems such as MySQL, PostgreSQL, Oracle, and many others.

|https://docs.openshift.com/container-platform/4.12/cli_reference/openshift_cli/getting-started-cli.html[OpenShift CLI]
//| OpenShift CLI (Command-Line Interface) -- це інструмент командного рядка, який надає доступ до управління та взаємодії з кластером OpenShift.
|OpenShift Command-Line Interface (CLI) is a command-line tool that provides access to managing and interacting with the OpenShift cluster.

//OpenShift CLI надає доступ до різних команд, які можна виконувати з командного рядка. Ці команди дозволяють керувати різними аспектами OpenShift.
OpenShift CLI provides access to various commands that can be executed from the command line. These commands allow you to manage various aspects of OpenShift.

|===

//=== Інструменти розробки: робоче середовище
=== Development tools: working environment

//Адміністративна панель xref:#control-plane[Control Plane] надає адміністраторам реєстру зручний спосіб доступу до всіх необхідних інструментів в одному місці.
The xref:#control-plane[Control Plane] admin panel provides registry administrators with a convenient way to access all the necessary tools in one place.

//У розділ +++<b style="font-weight: 600">Реєстри<b>+++ ви побачите вкладку +++<b style="font-weight: 600">Швидкі посилання<b>+++. Тут представлені посилання до вебінтерфейсів різних сервісів з коротким описом їх призначення.
In the *Registries* section, you'll find the *Quick links* tab. Here are links to web interfaces of various services with brief descriptions of their purposes.

image:admin:registry-management/quick-links/quick-links-1.png[]

[TIP]
====
//Детальніше про кожен сервіс, його призначення, а також шаблон посилання ви можете переглянути на сторінці
For more information about each service, its purpose, and template links, please review
xref:admin:registry-management/control-plane-quick-links.adoc[].
====

[#control-plane]
//== Керування реєстрами в адміністративній панелі Control Plane
== Managing registries in the Control Plane admin panel

//Адміністративна панель *Control Plane* -- центральний інтерфейс, відправна точка для адміністраторів реєстру, що надає повний доступ до необхідних сервісів для ефективного виконання адміністративних функцій. За його допомогою ви контролюєте ресурси, конфігурації та інструменти, необхідні для повноцінного управління реєстром, а також легко і просто здійснюєте переходи до інших важливих сервісів Платформи.
The *Control Plane* admin panel is the central interface, a starting point for registry administrators that provides full access to necessary services for efficient administrative functions. Through it, you control resources, configurations, and tools necessary for comprehensive registry management, and easily transition to other important Platform services.

[TIP]
====
//* Посилання до останньої версії консолі Control Plane:
* Link to the latest version of the Control Plane console:
https://control-plane-console-control-plane-platform-main.<dnsWildcard>[].

//* Приклад посилання для середовища envone:
* Example link for the envone environment:
https://control-plane-console-control-plane-platform-main.apps.envone.dev.registry.eua.gov.ua[].
====

image::admin:registry-management/control-plane-overview.png[]

//*Control Plane* дозволяє керувати конфігураціями двох типів компонентів, які розгортаються на Платформі:
*Control Plane* enables management of two types of components deployed on the Platform:

//* _інфраструктурні компоненти_ -- управління здійснює адміністратор Платформи;
//* _компоненти реєстру_ -- управління здійснює адміністратор реєстру.
* _Infrastructure components_ – managed by the Platform administrator;
* _Registry components_ – managed by the registry administrator.

//Адміністратор реєстру має доступ до вкладки +++<b style="font-weight: 600">Реєстри<b>+++ та може редагувати налаштування реєстру і його складові (регламент -- _registry-regulations_).
The registry administrator has access to the *Registries* tab and can edit registry settings and its components (regulations - _registry-regulations_).

//Основні реєстрові налаштування зберігаються у файлі *_deploy-templates/values.yaml_* компонента `control-plane-gerrit`, у Gerrit-репозиторії вашого реєстру. Gerrit-репозиторій є системою рецензування коду, що побудована на базі git VCS.
Main registry settings are stored in the *_deploy-templates/values.yaml_* file of the `control-plane-gerrit` component within your registry's Gerrit repository. The Gerrit repository serves as a code review system built on the git VCS.

//Частина конфігурацій також зберігається у файлах:
Part of the configurations is also stored in files such as:

//* *_deploy-templates/helmfile.yaml_* -- налаштування helm-релізів для компонентів реєстру
//* *_deploy-templates/values.gotmpl_* -- налаштування розміру дисків компонентів реєстру.
* *_deploy-templates/helmfile.yaml_* -- configuration of helm releases for registry components
* *_deploy-templates/values.gotmpl_* -- configuration of disk sizes for registry components

//=== Редагування конфігурації реєстру
=== Editing registry configuration

//Після успішного xref:admin:registry-management/control-plane-create-registry.adoc[розгортання реєстру] адміністратором Платформи, ви можете переглядати поточні налаштування реєстру та вносити зміни до його налаштувань.
After successfully xref:admin:registry-management/control-plane-create-registry.adoc[deploying the registry] by the Platform administrator, you can view the current registry settings and make changes to its configurations.

//TIP: Детальніше про це дивіться на сторінці
TIP: For more details, see
xref:admin:registry-management/control-plane-edit-registry.adoc[]

//=== Створення та видалення адміністраторів реєстру
=== Creating and deleting registry administrators

//[.underline]#Адміністратори реєстру# -- службові адміністратори, які виконують функції підтримки реєстрів, а також розгортання та супроводу регламентів відповідних реєстрів.
[.underline]#Registry administrators# are official administrators who perform support functions for registries, as well as deployment and maintenance of regulations for respective registries.

[TIP]
====
//Детальніше про класи ролей Платформи та їх функціональні обов'язки ви можете переглянути за посиланням:
For more information about Platform role classes and their functional responsibilities, please refer to the xref:arch:architecture/platform/operational/user-management/platform-actors-roles.adoc[link].
====

//Після xref:admin:registry-management/control-plane-assign-platform-admins.adoc[] та розгортання реєстру, можна додавати адміністраторів цього реєстру.
After xref:admin:registry-management/control-plane-assign-platform-admins.adoc[creating Platform administrators] and deploying the registry, you can add administrators to that registry.

//NOTE: Найпершого службового адміністратора реєстру має створити адміністратор Платформи з відповідними правами доступу. Надалі службовий адміністратор реєстру може додавати інших адміністраторів реєстру самостійно.
NOTE: The initial registry administrator must be created by the Platform administrator with appropriate access rights. Subsequently, the service registry administrator can independently add other registry administrators.

//TIP: Детальніше про створення адміністраторів та призначення їм прав доступу див. на сторінці
TIP: For more details about creating administrators and assigning them access rights, see
xref:registry-develop:registry-admin/create-users/create-registry-admins.adoc[].

//=== Налаштування ключів та сертифікатів цифрового підпису
=== Configuring digital signature keys and certificates

//Ви можете налаштувати параметри конфігурації для ключів та сертифікатів цифрового підпису, які будуть використовуватися реєстром. Після розгортання реєстру з первинною конфігурацією, дані про ключ можна оновити у процесі редагування.
You can configure configuration parameters for digital signature keys and certificates that will be used by the registry. After deploying the registry with the initial configuration, key information can be updated during the editing process.

[IMPORTANT]
====
//Секція +++<b style="font-weight: 600">Дані про ключ<b>+++ має містити налаштування для ініціалізації криптосервісу (под *`digital-signature-ops`*) та накладання системного підпису (цифрової печатки системи). Без внесення цих даних под криптосервісу не запуститься.
The *Key data* section should contain settings for initializing the cryptographic service (under *`digital-signature-ops`*) and applying a system signature (digital system seal). Without entering this data, the cryptographic service pod will not start.

//Такі ключі використовуються для підпису витягів, сформованих Платформою, та підпису даних, що змінюються відповідно до логіки бізнес-процесів реєстру.
These keys are used to sign extracts generated by the Platform and to sign data that changes according to the registry's business process logic.
====

[TIP]
====
//Детальна інформація щодо налаштування ключів доступна на сторінці
Detailed information on key configuration is available at
xref:admin:registry-management/system-keys/control-plane-registry-keys.adoc[].
====

//=== Керування ресурсами реєстру
=== Managing registry resource

//Адміністративна панель *Control Plane* надає можливість гнучко та ефективно керувати ресурсами, що використовуються контейнерами в рамках вашого екземпляра реєстру, забезпечуючи оптимальну працездатність та ефективність.
The *Control Plane* administrative panel provides the flexibility to efficiently manage the resources utilized by containers within your registry instance, ensuring optimal performance and efficiency.

//Ви можете регулювати значення ресурсів, що виділяються для певних сервісів реєстру, зокрема *`bpms`*, *`redis`*, *`kong`*, *`restApi`*, *`soapApi`* тощо. Система дозволяє встановлювати власні значення оперативної пам'яті (RAM) та кількості залучених ядер (CPU), також керувати змінними оточення (*environment variables*).
You can adjust the allocated resources for specific registry services, including *`bpms`*, *`redis`*, *`kong`*, *`restApi`*, *`soapApi`* and more. The system allows setting custom values for memory (RAM) and the number of involved cores (CPU), as well as managing *environment variables*.

//TIP: Детальна інформація доступна на сторінці
TIP: Detailed information is available at
xref:admin:registry-management/control-plane-registry-resources.adoc[].

//=== Налаштування власних DNS-імен
=== Configuring custom DNS

//В адміністративному інтерфейсі керування Платформою та реєстрами *Control Plane* реалізовано можливість використання власного DNS-імені для публічних Кабінетів отримувача послуг та посадової особи.
The administrative interface for Platform and *Control Plane* registries enables the use of custom DNS names for public recipient service portals and officials.

//Щобільше, ви можете налаштувати власні DNS-імена для сервісу управління користувачами та ролями *Keycloak*. Це дозволяє створити зручні URL-адреси для входу користувачів та забезпечує правильну роботу аутентифікації та міжсервісної взаємодії у приватних мережах.
Furthermore, you can configure custom DNS names for the user and role management service *Keycloak*. This facilitates user login through convenient URLs and ensures proper authentication and inter-service interaction within private networks.

//TIP: Детальна інформація доступна у розділі
TIP: Detailed information can be found at
xref:admin:registry-management/custom-dns/custom-dns-overview.adoc[].

//TODO: HERE

//=== Обмеження доступу до компонентів реєстру (CIDR)
=== Setting registry component access restrictions (CIDR)

//Задля безпечного доступу до компонентів (API-роутів) кластера OpenShift 4.x, можна обмежувати доступ до компонентів, що використовуються на Платформі.
For secure access to components (API routes) of the OpenShift 4.x cluster, access to Platform-utilized components can be restricted.

//Можна виділити 3 основних типи компонентів у системі, до яких можна обмежити доступ : ::
Three primary component types can be distinguished, each of which can have access limited: ::

//* Платформні
//* Реєстрові
//* Інфраструктурні
* Platform
* Registry
* Infrastructure

//Адміністратор реєстру має змогу налаштувати CIDR для реєстрових компонентів (роутів) через консоль Control Plane.
Registry administrators can configure CIDR for registry components (routes) through the Control Plane console.

//TIP: Детальніше про CIDR читайте на сторінці xref:admin:registry-management/control-plane-cidr-access-endpoints.adoc#cidr-registry-components[Обмеження доступу до компонентів реєстру (CIDR)].
TIP: Read more about CIDR at xref:admin:registry-management/control-plane-cidr-access-endpoints.adoc#cidr-registry-components[Registry component access restrictions].

[#cp-user-auth-setup]
//=== Налаштування автентифікації користувачів
=== Configuring user authentication

//Ви можете налаштувати автентифікацію для двох ключових груп користувачів: _посадових осіб_ (_надавачів послуг_) та _отримувачів послуг_. Всі налаштування виконуються через консоль *Control Plane*, яка надає зручний єдиний інтерфейс для основних конфігурацій реєстру.
You can configure authentication for two key user groups: _Officers_ (service providers) and _Citizens_ (service recipients). All configurations are performed through the *Control Plane* console, providing a convenient unified interface for essential registry setups.

//Платформа дозволяє адміністраторам налаштувати тип автентифікації для Кабінету посадової особи, використовуючи власний IIT-віджет для аутентифікації за допомогою _КЕП_ або інтегруючись із зовнішнім провайдером, таким як _ID.GOV.UA_ (ICEI). В результаті, посадові особи реєстру зможуть використовувати один з двох типів автентифікації при вході до Кабінету: або КЕП, або ID.GOV.UA.
The Platform allows administrators to set authentication type for the Officer Portal, using their own IIT widget for authentication through the _Qualified Electronic Signature_ (QES) or integrating with an external provider like specific to Ukrainian implementation _ID.GOV.UA_ (ICEI). As a result, registry officials can use either QES or ID.GOV.UA authentication when logging into the portal.
include::ROOT:partial$admonitions/ua-specific.adoc[]

//Крім того, Платформа надає можливість налаштування самореєстрації для посадових осіб. Це спрощує процес реєстрації користувачів, оскільки не вимагає залучення адміністратора. Завдяки такому підходу, посадові особи можуть самостійно реєструватися, що оптимізує роботу адміністраторів та покращує загальний досвід користувачів.
Moreover, the Platform offers self-registration configuration for Officers. This simplifies the user registration process by eliminating the need for administrator involvement. Through this approach, Officers can independently register, optimizing administrators' work and enhancing the overall user experience.

//TIP: Детальніше з автентифікацією посадових осіб ви можете ознайомитися на сторінці
TIP: For more information about official authentication, refer to
xref:registry-develop:registry-admin/cp-auth-setup/cp-auth-setup-officers.adoc[].

//Щодо отримувачів послуг, система передбачає можливість налаштування перевірки наявності активного запису в ЄДР для бізнес-користувачів. Такий механізм забезпечує зв'язок між КЕП користувача та їх юридичною особою чи фізичною особою-підприємцем, зареєстрованими в Єдиному державному реєстрі (ЄДР). Він відіграє важливу роль у забезпеченні відповідності даних користувача та підтвердження їх особистості, що є важливим аспектом безпеки та надійності системи.
Regarding Citizens, the system allows verification of active records in the Unified state register (UA-specific) for business users. This mechanism establishes a connection between the user's QES and their legal entity or individual entrepreneur status registered in the Unified state register. It plays a crucial role in ensuring user data compliance and confirming their identity, a significant aspect of system security and reliability.

//TIP: Детальніше про це дивіться на сторінці xref:registry-develop:registry-admin/cp-auth-setup/cp-auth-setup-citizens.adoc[Налаштування автентифікації отримувачів послуг].
TIP: Find more details at xref:registry-develop:registry-admin/cp-auth-setup/cp-auth-setup-citizens.adoc[Citizens authentication configuration] page.

//=== Керування обмеженнями на завантаження цифрових документів
=== Managing digital document upload restrictions

//Адміністративна панель Control Plane надає зручний інтерфейс, який дозволяє адміністраторам керувати обмеженнями на завантаження цифрових документів до реєстру користувачами та бізнес-процесами.
The *Control Plane* administrative panel provides a user-friendly interface for administrators to manage restrictions on digital document uploads by users and business processes to the registry.

//Ви можете визначати на рівні реєстру +++<b style="font-weight: 600">Максимальний розмір файлу для завантаження (MB)<b>+++, а також +++<b style="font-weight: 600">Максимальний сумарний розмір групи файлів для завантаження (MB)<b>+++ до системи.
You can define the *Maximum file size for upload (MB)* and the *Maximum total group file size for upload (MB*) at the registry level within the system.

//TIP: Детальніше про це дивіться на сторінці
TIP: For further information, please consult
xref:admin:registry-management/control-plane-digital-documents.adoc[].

//=== Налаштування взаємодії із зовнішніми системами
=== Configuring interaction with external systems

//Адміністратор реєстру має змогу конфігурувати взаємодію із зовнішніми системами в інтерфейсі Control Plane.
The registry administrator has the ability to configure interaction with external systems in the *Control Plane* interface.

//Платформа дозволяє гнучко інтегруватися з іншими реєстрами та системами й підтримує 2 типи взаємодії:
The Platform offers flexible integration with other registries and systems and supports 2 types of interaction:

*SOAP API* ::
//Взаємодія через інтерфейси ШБО "Трембіта" за допомогою SOAP-інтеграційних конекторів. Це основний тип інтеграційної взаємодії.
Interaction through the interfaces of the secure exchange gateway (in Ukraine - "Trembita", UA-specific) using SOAP integration connectors. This is the primary type of integration interaction.
+
//Екземпляр ШБО встановлюється один для всіх реєстрів, у тому ж центрі обробки даних (ЦОД), що й екземпляр Платформи. Кожна подібна зовнішня система повинна мати встановлений екземпляр ШБО на своїй стороні та бути зареєстрованим учасником єдиного захищеного простору, який називають СЕВ ДЕІР "Трембіта", де основним протоколом інтеграційної взаємодії є SOAP.
A single instance of the secure exchange gateway is installed for all registries in the same data processing center as the Platform instance. Each similar external system must have an installed instance of the secure exchange gateway on its side and be registered as a participant in the unified secure space known as the system of electronic interaction of state electronic information resources "Trembita" (UA-specific) where the SOAP protocol is the main protocol of integration interaction.

*REST API* ::
//Взаємодія з іншими реєстрами на Платформі та зовнішніми системами поза її межами через REST-інтерфейси. Це додатковий тип підключення розширення можливостей інтеграційної взаємодії.
Interaction with other registries on the Platform and external systems outside its boundaries through REST interfaces. This is an additional type of connection that extends the capabilities of integration interaction.

[TIP]
====
//Більш детальну інформацію щодо налаштування зовнішніх інтеграцій ви можете отримати на сторінках:
For more detailed information about configuring external integrations, you can refer to the following pages:

* xref:registry-admin/external-integration/ext-integration-overview.adoc[]
* xref:registry-admin/external-integration/cp-integrate-trembita.adoc[]
* xref:registry-admin/external-integration/cp-integrate-ext-system.adoc[]
====

//=== Обмеження доступу на рівні IP до SOAP-роутів ШБО "Трембіта"
=== IP-level access restrictions to SOAP routes of the secure exchange gateway "Trembita"

include::ROOT:partial$admonitions/ua-specific.adoc[]

//Ви можете регулювати доступ до SOAP API-інтерфейсів реєстру через адміністративну панель *Control Plane*.
You can control access to the SOAP API interfaces of the registry through the *Control Plane* administrative panel.

//SOAP-інтерфейси використовуються для вхідної взаємодії із зовнішніми системами через Шлюз Безпечного Обміну (ШБО) "Трембіта", коли зовнішня система хоче отримати дані з вашого реєстру.
SOAP interfaces are used for incoming interaction with external systems through the secure exchange gateway "Trembita" when an external system wants to retrieve data from your registry.

//На рівні інфраструктури Платформи такі SOAP-інтерфейси називають роутами (routes). Кожен роут є відповідним API-сервісом, який розгортається на певному хості (`host`) та має свій унікальний шлях (`path`), до якого й обмежується доступ.
At the infrastructure level of the Platform, these SOAP interfaces are referred to as routes. Each route corresponds to an API service, which is deployed on a specific host and has its unique path, restricting access to that path.

//TIP: Детальніше про це дивіться на сторінці
TIP: For more details on this, please refer to
xref:admin:registry-management/control-plane-soap-api-access-trembita.adoc[].

//=== Налаштування поштового сервера
=== Configuring mail server

//Ви можете налаштувати з'єднання із попередньо налаштованим поштовим сервером в інтерфейсі *Control Plane* на етапах створення та редагування реєстру. Усі налаштування поштового сервера виконує адміністратор Платформи.
You can configure a connection to a preconfigured mail server in the *Control Plane* interface during the registry creation and editing stages. All mail server settings are managed by the Platform administrator.

//Адміністратор реєстру може налаштувати підключення до такого сервера в інтерфейсі Control Plane для відправлення поштових повідомлень користувачам реєстру.
The registry administrator can configure a connection to such a server in the Control Plane interface for sending email messages to registry users.

//Наразі Платформа підтримує одну з наступних опцій налаштувань поштового сервера, залежно від вимог реєстру:
Currently, the Platform supports one of the following mail server configuration options, depending on the registry's requirements:

//* _Внутрішній поштовий сервер (*platform-mail-server*)_ -- поштовий сервер, який розповсюджується як платформний сервіс та доступний для використання усіма реєстрами одного екземпляра Платформи.
* _Internal mail server (*platform-mail-server*)_ -- a mail server distributed as a Platform service and available for use by all registries of a single Platform instance.

//* _Зовнішній поштовий сервер (*external-mail-server*)_ -- зовнішній відносно Платформи поштовий сервіс (Gmail, тощо).
* _External mail server (*external-mail-server*)_ – an external mail service (Gmail, etc.) relative to the Platform.

//TIP: Детальніше про це дивіться на сторінці
TIP: For more details on this, please refer to
xref:registry-develop:registry-admin/user-notifications/email/config-smtp-server.adoc[].

//== Внесення користувачів до реєстру
== Adding users to the registry

//Усі користувачі Платформи створюються у проєкті *`user-management`*, у сервісі управління користувачами та доступом *Keycloak*. Вони створюються в різних реалмахfootnote:[*Realm* - це концепція в https://www.keycloak.org/[Keycloak], яка належить до об'єкта,що керує набором користувачів, а також їхніми обліковими даними, ролями та групами.], залежно від повноважень. При наданні доступу, на Платформі діє принцип мінімальних привілеїв.
All Platform users are created in the *`user-management`* project, in the user and access management service *Keycloak*. They are created in different realmsfootnote:[*Realm* - is a concept in https://www.keycloak.org/[Keycloak]] based on their permissions. The principle of least privilege is followed when granting access on the Platform.

//Можна виділити 3 основних типи користувачів у реєстрі:
Three main types of users can be distinguished within the registry:

//* Адміністратор реєстру
//* Посадова особа
//* Отримувач послуг
* Registry administrator
* Officer
* Citizen

//Окремо варто визначити 4-й тип -- системні користувачі, які використовуються для взаємодії "система-система" при зовнішніх API-інтеграціях.
It makes sense to also define separately the fourth type -- system users used for "system-to-system" interactions in external API integrations.

//Виділяють кілька основних реалмів для зберігання користувачів реєстру у Keycloak:
Several main realms are designated for storing registry users in Keycloak:

//.Реалми реєстру та їх призначення
.Registry realms and their purpose
|===
//|Realm |Призначення
|Realm |Purpose

|`-admin`
//|Реалм для доступу до адміністративних інструментів, таких як Gerrit, Jenkins та Camunda реєстру.
|Realm for access to administrative tools such as Gerrit, Jenkins, and Camunda for the registry.

|`-officer-portal`
//|Призначення ролей для доступу до Кабінету посадової особи (**Officer Portal**) та звітів (https://redash.io/[Redash]).
|Roles for access to the Official's Portal (*Officer Portal*) and reports https://redash.io/[Redash] are assigned.

|`-citizen-portal`
//|Призначення ролей для доступу до Кабінету отримувача послуг (**Citizen Portal**).
|Roles for access to the Service Recipient's Portal (*Citizen Portal*) are assigned.

|`-external-system`
//|Призначення ролей для взаємодії із зовнішніми системами
|Roles for interaction with external systems

//Наприклад, "Трембіта" та ін.
For example, "Trembita" and others.

|===

//Повна назва реалму складається із назви вашого реєстру та відповідного суфікса. Наприклад, `<registry-name>-officer-portal`.
The full realm name consists of your registry's name and the corresponding suffix. For example, `<registry-name>-officer-portal`.

image:admin:user-management-auth/keycloak/keycloak-permissions/realms-list.png[]

//TIP: Детальну інформацію щодо створення користувачів ви можете отримати у розділі xref:registry-admin/create-users/overview.adoc[].
TIP: For detailed information on creating users, you can refer to xref:registry-admin/create-users/overview.adoc[].


//== Резервне копіювання та відновлення реєстру та його компонентів
== Backing up and restoring of the registry and its components

//Після успішного розгортання реєстру та регламенту, адміністратор має можливість створити резервну копію (бекап) реєстру. За створення бекапів на Платформі відповідає механізм *Velero*, який зберігає резервні копії до захищеного об'єктного сховища бекапів -- *Minio*.
After the successful deployment of the registry and its regulations, the administrator has the ability to create a backup of the registry. The backup process on the Platform is managed by the *Velero* mechanism, which stores backups in a secure object storage called *Minio*.

//Платформа передбачає два типи резервного копіювання для середовища реєстру: ::
The Platform offers two types of backup for the registry environment: ::

//* Ручне резервне копіювання
//* Автоматичне резервне копіювання
* Manual backup
* Automatic backup

//За створення резервних копій компонентів реєстру відповідає автоматизований Jenkins-процес *Create-registry-backup*. +
//Відновити реєстр зі створеної резервної копії можна за допомогою Jenkins-процесу *Restore-registry*.
The automated Jenkins process, *`Create-registry-backup`*, is responsible for creating backups of the registry components. To restore the registry from a created backup, the Jenkins process, *`Restore-registry`*, can be utilized.

//Додатково система реплікує деякі дані бізнес-процесів. Ці дані зберігаються у вигляді `ObjectBucketClaim` (`obc`) в S3-бакетах. Реплікація цих бакетів відбувається автоматично та полягає в автоматичному копіюванні даних з одного бакета до іншого, що може бути корисним, наприклад, для створення резервних копій даних в інших географічних регіонах, що забезпечує високу доступність та надійність. Ви можете налаштувати резервне копіювання для таких реплікацій через адміністративну панель Control Plane.
Additionally, the system replicates certain business process data stored as `ObjectBucketClaim` (`obc`) in S3 buckets. The replication of these buckets occurs automatically through the automatic copying of data from one bucket to another. This can be valuable, for instance, to create backups in different geographical regions, ensuring high availability and reliability. You can configure backup settings for these replications through the Control Plane administrative panel.

[TIP]
====
//Детальніше про резервне копіювання ви можете дізнатися на сторінках:
For more details on backup, you can refer to the following pages:

* xref:admin:backup-restore/control-plane-backup-restore.adoc[]
* xref:admin:backup-restore/backup-schedule-registry-components.adoc[]
====

//Платформа також передбачає окремий механізм для резервного копіювання та відновлення операційного кластера бази даних реєстру за допомогою інструменту `*pgBackRest*`.
Furthermore, the Platform includes a separate mechanism for backing up and restoring the operational database cluster of the registry using the *`pgBackRest`* tool.

[NOTE]
====
//Відновити базу даних реєстру таким шляхом може лише адміністратор Платформи.
Only the Platform administrator can use this method to restore the registry database.

//Детальніше про це ви можете дізнатися на сторінці
For more details, please refer to xref:admin:backup-restore/postgres-backup-restore.adoc[].

====

//== Оновлення реєстру
== Updating registry

//Керування оновленнями реєстру відбувається за підходом *GitOps*. Це означає, що будь-які зміни у конфігурації реєстру, або його компонентах відбуваються через внесення змін до конфігурації відповідного компонента у `git`-гілці цього компонента. Кожен компонент є окремим `git`-репозиторієм.
Registry updates are managed using the *GitOps* approach. This means that any changes to the registry configuration or its components are made by modifying the configuration in the respective component's `git` branch. Each component is maintained as a separate `git` repository.

//Керування оновленнями компонентів реєстру відбувається в адміністративній панелі керування кластером та реєстрами *Control Plane*.
The management of registry component updates takes place in the *Control Plane*'s administrative panel for cluster and registry management.

//При оновленні реєстру до конкретної версії існують певні специфічні особливості, які вимагають спеціальних кроків для забезпечення успішного оновлення.
Specific considerations must be taken into account when updating the registry to a particular version. These require special steps to ensure successful updates.

[TIP]
//Перейдіть до розділу xref:admin:update/overview.adoc[], щоб розпочати процес.
To initiate the process, navigate to xref:admin:update/overview.adoc[].

//== Логування подій (Kibana)
== Logging events (Kibana)

//Адміністратор реєстру може використовувати інструмент Kibana, яка є частиною *EFK*-стека (*Elasticsearch, Fluentd, Kibana*) для логування в системі. EFK-стек відповідає за збір, обробку та візуалізацію журналів подій (логів), що сприяє прозорості та відстеженню стану системи.
The registry administrator can employ the Kibana tool as part of the *EFK* stack (*Elasticsearch*, *Fluentd*, *Kibana*) for event logging within the system. The EFK stack handles the collection, processing, and visualization of event logs, promoting transparency and system monitoring.

//Підсистема журналювання подій розгортається в окремому проєкті в OpenShift під назвою `*openshift-logging*`. Це дозволяє ізолювати ресурси, пов'язані з логуванням, від інших компонентів системи, що сприяє підвищенню безпеки та стабільності.
The event logging subsystem is deployed in a separate project within OpenShift named *`openshift-logging`*. This isolation separates logging-related resources from other system components, enhancing security and stability.

//Для візуалізації журналів усіх додатків на платформі використовується *Kibana*, яка надає інтерактивний інтерфейс для аналізу логів та відстеження подій в системі. З її допомогою користувачі можуть легко виявляти та розв'язувати проблеми, а також отримувати важливі інформаційні метрики про роботу сервісів платформи та реєстрів.
*Kibana* is utilized for visualizing the logs of all applications on the Platform, offering an interactive interface for log analysis and event tracking. Through Kibana, users can easily identify and resolve issues, as well as obtain crucial performance metrics about the platform's services and registries.

[TIP]
====
//Детальніше з особливостями логування ви можете ознайомитися на сторінках:
For more information about logging features, refer to the following pages:

* xref:registry-admin/openshift-logging/kibana.adoc[]
* xref:registry-admin/openshift-logging/kibana-request-dashboard.adoc[]
====

//== Моніторинг метрик Платформи (Grafana)
== Monitoring Platform metrics (Grafana)

//Функціональність моніторингу загальних метрик виконання бізнес-процесів доступна для технічного адміністратора реєстру через вебінтерфейс *Grafana*. Завдяки цьому адміністратори та розробники можуть легко відстежувати ключові метрики бізнес-процесів та використовувати цю інформацію для своєчасного виявлення та корегування проблем, а також покращення продуктивності системи.
Monitoring general performance metrics is available to the technical registry administrator through the *Grafana* web interface. This functionality enables administrators and developers to easily track key metrics related to business processes, using the information to timely identify and address issues and enhance system productivity.

[TIP]
====
//Детальніше з особливостями моніторингу ви можете ознайомитися на сторінці
For detailed insights into monitoring features, refer to
xref:registry-admin/grafana-monitoring/grafana-camunda-metrics.adoc[].
====

//== Адміністрування та відлагодження бізнес-процесів
== Administering and debugging business process

//Для адміністрування бізнес-процесів адміністратор реєстру використовує сервіс *Business Process Administration Portal*, також відомий як *Camunda Cockpit*.

//Camunda Cockpit є потужним інструментом для керування та моніторингу бізнес-процесів на платформі Camunda BPM, що допомагає адміністраторам та користувачам ефективно управляти своїми процесами та забезпечувати їхню оптимальну продуктивність.

The registry's business process administrator employs the *Business Process Administration Portal*, also known as *Camunda Cockpit*, for managing business processes.

Camunda Cockpit serves as a robust tool for controlling and monitoring business processes on the Camunda BPM platform, helping administrators and users efficiently manage processes for optimal productivity.

//Основні функціональні можливості Camunda Cockpit включають: ::
Key functionalities of Camunda Cockpit include: ::

//* [*] Моніторинг бізнес-процесів: Cockpit надає графічне представлення активних та завершених екземплярів процесів, дозволяючи адміністраторам переглядати стан процесів, їх послідовність, час виконання та іншу важливу інформацію.
* [*] Business process monitoring: Cockpit provides graphical representations of active and completed process instances, allowing administrators to view process status, sequence, execution times, and other vital information.

//* [*] Аналіз діаграм процесів: Cockpit дозволяє переглядати та аналізувати діаграми бізнес-процесів, що допомагає зрозуміти послідовність кроків, умови та дії, які відбуваються під час виконання процесу.
* [*] Process diagram analysis: Cockpit enables the viewing and analysis of business process diagrams, aiding in understanding the sequence of steps, conditions, and actions taken during process execution.

//* [*] Моніторинг таймерів та подій: Cockpit дозволяє переглядати активні таймери та події, які використовуються у процесах, а також їхній стан та час спрацювання.
* [*] Timer and event monitoring: Cockpit displays active timers and events used within processes, along with their status and execution times.

//* [*] Перегляд журналу активності: Cockpit надає можливість переглядати журнал активності, що містить інформацію про події, які відбуваються під час виконання процесів, такі як завдання, зміна стану тощо.
* [*] Activity log viewing: Cockpit provides the ability to view an activity log, containing information about events occurring during process execution, such as tasks and state changes.

//* [*] Керування процесами: Cockpit дозволяє адміністраторам призначати завдання, відновлювати призупинені процеси, розв'язувати проблеми зі станом процесу та виконувати інші дії для керування процесами.
* [*] Process management: Cockpit allows administrators to assign tasks, resume paused processes, resolve process state issues, and perform other actions for process control.

//* [*] Перегляд статистики та звітів: Cockpit надає можливість переглядати статистику процесів, таку як середній час виконання, кількість завершених інстанцій, час очікування тощо. Також можна генерувати звіти для аналізу та моніторингу ефективності бізнес-процесів.
* [*] Statistics and reporting: Cockpit offers access to process statistics, such as average execution times, completed instances, waiting times, and more. It also enables the generation of reports for analyzing and monitoring business process efficiency.

//TIP: Дивіться детальніше про це на сторінці
TIP: For more detailed information, refer to
xref:registry-admin/registry-admin-bp-management-cockpit.adoc[].

//== Робота з геоданими
== Working with geodata

//Адміністратори реєстрів та розробники регламенту мають змогу налаштовувати роботу із геопросторовими данимиfootnote:1[[.underline]#Геопросторові дані# -- це дані, які мають географічне положення та можуть бути пов'язані з конкретними географічними об'єктами, такими як міста, річки, ліси, будівлі тощо.] у рамках бізнес-процесів завдяки геомодулю ГІСfootnote:2[[.underline]#ГІС (Геоінформаційна система)# -- це програмне забезпечення, яке дозволяє збирати, зберігати, аналізувати, візуалізувати та навіть прогнозувати різні геопросторові дані.], який був імплементований у систему.
Registry administrators and regulation developers have the capability to configure the handling of geodatafootnote:1[[.underline]#Geodata# -- are data that possess a geographic location and can be linked to specific geographic objects, such as cities, rivers, forests, buildings, and more.] within the framework of business processes, thanks to the GISfootnote:2[[.underline]#Geographic Information System (GIS)# -- software that enables the collection, storage, analysis, visualization, and even prediction of various geospatial data.] (Geographic Information System) module, which has been implemented into the system.

//Модуль ГІС розгортається автоматично, разом із реєстром, із шаблону *`geo-server`*.
The GIS module is deployed automatically alongside the registry from the *`geo-server`* template.

//TIP: Детальніше про геосервер та його використання ви можете переглянути на сторінці
TIP: For further information about the geo-server and its utilization, you can refer to
xref:registry-develop:registry-admin/geoserver.adoc[].

//== Робота з регламентом реєстру
== Working with registry regulations

//Адміністратори мають розуміти специфіку роботи з регламентом реєстру. Регламент -- набір сутностей, які визначають логіку роботи реєстру, зокрема модель даних, бізнес-процеси, UI-форми введення даних тощо.
Administrators must comprehend the specifics of working with registry regulations. The regulations consists of entities that define the logic of registry operation, including data models, business processes, UI input forms, and more.

//Залежно від потреб цільового реєстру, роль адміністратора регламенту може бути як інтегрована в обов'язки адміністратора реєстру, так і чітко стояти окремо. Незалежно від цього, ми розробили окремий курс, направлений на роботу з регламентом всередині певного реєстру.
Depending on the requirements of the target registry, the role of the regulations administrator can either be integrated into the duties of the registry administrator or stand distinctly. Regardless, a separate course has been developed for working with regulations within a specific registry.

//TIP: Детальніше про це ви можете дізнатися у розділі
TIP: Learn more about this at
xref:registry-develop:study-project/index.adoc[].

//Моделювання та внесення змін до регламенту можливе у два способи: ::
Modeling and making changes to regulations can be done in two ways: ::
//. Під час роботи безпосередньо із Gerrit-репозиторієм реєстру. У такому випадку ви працюєте з Git та каталогами файлів регламенту напряму.
. Directly working with the Gerrit repository of the registry. In this case, you work with Git and the directories of regulation files directly.
+
[TIP]
====
//Детальніше про роботу з регламентом у Gerrit читайте на сторінках:
For more details about working with regulations in Gerrit, refer to the following pages:

* xref:registry-admin/regulations-deploy/registry-admin-deploy-regulation.adoc[]

* xref:registry-admin/regulations-deploy/registry-regulations-structure.adoc[]
====
+
[NOTE]
====
//На Платформі розгортається 2 Gerrit-сервіси:
Two Gerrit services are deployed on the Platform:

//* Центральний Gerrit -- містить код для розгортання компонентів усіх реєстрів на Платформі. Управляється адміністратором Платформи.
//* Gerrit реєстру -- містить регламент певного реєстру. Управляється адміністраторами та розробниками реєстру.
*  Central Gerrit: Contains the code for deploying components for all registries on the Platform. Managed by the Platform administrator.
* Registry Gerrit: Contains the regulations of a specific registry. Managed by registry administrators and developers.
====
+
//. Під час роботи у Кабінеті адміністратора регламентів, відомому також як адміністративний портал (*`admin-portal`*).
. This work can also be carried out within the Regulation Administrator's Cabinet, also known as the administrative portal (*`admin-portal`*).
+
[TIP]
====
//Детальніше про роботу з регламентом у Кабінеті адміністратора регламентів читайте на сторінках розділу
For more information about working with regulations in the Regulation Administrator's Cabinet, read
xref:registry-admin/admin-portal/overview.adoc[].
====

//Розгортання регламенту -- автоматизований процес, що має назву *MASTER-Build-registry-regulations*. Він запускається сервісом Jenkins автоматично, після внесення змін до `master`-гілки Gerrit-репозиторію з регламентом.
Regulation deployment is automated through the *MASTER-Build-registry-regulations process*. It is triggered automatically by the Jenkins service following changes to the master branch of the Gerrit repository with the regulations.

////
TODO: update link
[TIP]
====
Детальніше про розгортання регламенту читайте на сторінці xref:platform-develop:registry-regulations-deployment.adoc[].
====
////

//Для мінімізації ризиків людського фактора, як додатковий механізм перевірки правильності внесених даних при моделюванні, під час розгортання регламенту передбачена автоматична валідація змін.
To minimize the risks of human error and provide an additional validation mechanism for modeling accuracy, an automatic validation of changes is conducted during regulations deployment.

//TIP: Детальніше зі сценаріями спрацьовування перевірки ви можете ознайомитися на сторінці
TIP: Learn more about the triggering scenarios of validation at
xref:registry-admin/regulations-deploy/registry-regulations-auto-validation.adoc[].

//Насамкінець, Платформа надає можливість видалити або частково очистити регламент вашого реєстру. Для цього передбачений *Cleanup*-процес (*`cleanup-job`*) у Jenkins -- автоматизований процес, розроблений для підтримки оптимального стану регламенту реєстру шляхом видалення застарілих або непотрібних даних, ресурсів та компонентів. Процес включає очищення тимчасових реплік БД, які розгортаються для версій-кандидатів, видалення ресурсів та сервісів, очищення репозиторію Nexus, а також можливість вибору додаткових опцій відповідно до потреб адміністратора.
Lastly, the Platform allows the deletion or partial cleaning of your registry's regulations. This is accomplished through the *Cleanup* process (*`cleanup-job`*) in Jenkins—an automated process designed to maintain optimal registry regulation health by removing outdated or unnecessary data, resources, and components. The process involves cleaning temporary database replicas, resources, services, and the Nexus repository. Additionally, it offers the ability to choose extra options based on the administrator's needs.

//WARNING: Використовуйте cleanup лише на середовищах розробки реєстрів. Рекомендуємо НЕ запускати Cleanup-процес на виробничих середовищах, оскільки це може призвести до втрати важливих даних.
WARNING: Use the cleanup process solely in registry development environments. It is strongly advised NOT to run the Cleanup process in production environments, as it may lead to the loss of vital data.

//TIP: Детальніше із процесом очищення регламенту ви можете ознайомитися на сторінці
TIP: For detailed information about the regulation cleanup process, you can refer to
xref:registry-admin/regulations-deploy/cleanup-job.adoc[].

//== Робота із базою даних реєстру

//TODO: dbeaver + pgadmin - як підключитися

//== Використання демо-реєстру при розробці цифрового регламенту
== Utilizing the demo registry for digital regulations development

//Адміністратор реєстру може використовувати демо-реєстр як еталонний зразок для роботи із цифровим регламентом.
The registry administrator can employ the demo registry as a standard reference for working with digital regulations.

//Регламент демо-реєстру включає референтні приклади, які позначені префіксом *`reference-`*, та приклади для тестування, позначені префіксом *`feature-`*. Це можуть бути зразки _.bpmn_-схем бізнес-процесів, _.json_-форм для внесення даних до процесів, а також _.xml_-схем для розгортання моделі даних реєстру тощо.
The demo registry's regulations encompass reference examples marked with the prefix *`reference-`* and test examples marked with the prefix *`feature-`*. These can be exemplars of _.bpmn_ schemas for business processes, _.json_ forms for data input into processes, _.xml_ schemas for deploying registry data models, and more.

[TIP]
====
//Зверніться до адміністратора Платформи із запитом на розгортання для вас демо-реєстру.
Please contact the Platform administrator to request the deployment of the demo registry for you.
====
//Якщо такий реєстр вже розгорнуто, зверніться із запитом про надання доступу.
If such a registry is already deployed, you can inquire about gaining access.

//== Автентифікація користувачів реєстру
== Authenticating user in the registry

include::ROOT:partial$admonitions/ua-specific.adoc[]

//Адміністратор реєстру має розуміти особливості автентифікації користувачів на Платформі. Для автентифікації використовуються специфічні стратегії обробки та порівняння атрибутів доступу, зокрема:
The registry administrator must understand the intricacies of user authentication on the Platform. Specific strategies for processing and comparing access attributes are employed for authentication, including:

//- `*drfo*` (`РНОКПП`) -- ідентифікаційний номер, або серія і номер паспорта особи.
//- `*edrpou*` (`ЄДРПОУ`) -- код організації, до якої належить особа.
//- `*fullName*` (`ПІБ`) -- прізвище, ім'я та по батькові особи.
- `*drfo*` (Registration number of the taxpayer's account card)(UA-specific) -- the identification number or series and passport number of the individual
- `*edrpou*` (Unified state register of enterprises and organizations of Ukraine)(UA-specific) -- the organizational code to which the individual belongs
- `*fullName*` (`ПІБ`) --the individual's last name, first name, and patronymic

//+++<b style="font-weight: 700">Наразі Платформа підтримує 2 типи автентифікації </b>+++:
Currently, the Platform supports 2 types of authentication: ::

//* [*] автентифікація користувача за допомогою кваліфікованого електронного підпису (КЕП);
//* [*] автентифікація користувача за допомогою інтегрованої системи електронної ідентифікації ID.GOV.UA (ІСЕІ) -- зовнішнього постачальника ідентифікаційних даних.
* [*] User authentication using a qualified electronic signature (QES).
* [*] User authentication through the integrated electronic identification system ID.GOV.UA (IES) – an external provider of identification data

//Керувати автентифікацією користувачів реєстру можна в інтерфейсі адміністративної панелі Control Plane, що описано у розділі xref:#cp-user-auth-setup[] цього документа.
User authentication in the registry can be managed through the Control Plane administrative panel interface, as described in xref:#cp-user-auth-setup[] section of this document.

[TIP]
//Опис механізму та логіки автентифікації у системі, а також процес автентифікації у Кабінетах доступний на сторінці xref:user:citizen-officer-portal-auth.adoc[].
A description of the authentication mechanism and logic within the system, as well as the authentication process within the User Dashboards, is available at xref:user:citizen-officer-portal-auth.adoc[].

//TODO: Add about velero

//TODO: Add about minio

