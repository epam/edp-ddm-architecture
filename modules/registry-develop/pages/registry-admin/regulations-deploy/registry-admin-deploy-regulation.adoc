= Процес розгортання регламенту в Gerrit

:sectnums:
:sectanchors:

Для розгортання заздалегідь підготовленого регламенту реєстру, дотримуйтеся кроків, поданих нижче на цій сторінці.

TIP: Для перегляду списку основних елементів регламенту реєстру, зверніться до секції xref:registry-admin/regulations-deploy/registry-regulations-deployment-model.adoc[].

.**Крок 1**.
Відкрийте **Gerrit** реєстру та виконайте вхід.

При успішному вході та переході до **Browse** -> **Repositories**, повинен показуватися репозитарій **registry-regulations**.

image:registry-admin/regulations-deploy/registry-deploy-regulation-step-1.png[]

.**Крок 2**.

Перейдіть до репозиторію **registry-regulations** (натиснувши назву репозиторію) та скопіюйте виділену червоним команду для локального завантаження репозиторію, тобто виконайте `git clone`.

image:registry-admin/regulations-deploy/registry-deploy-regulation-step-2.png[]

.**Крок 3**. +

Відкрийте **Git Bash** або **Terminal** та виконайте скопійовану команду, де `Username` та `Password` із профілю користувача в **Gerrit** можна налаштувати у секції **Settings** -> **User Settings** → **HTTP Credentials**.

image:registry-admin/regulations-deploy/registry-deploy-regulation-step-3.png[]

image:registry-admin/regulations-deploy/registry-deploy-regulation-step-4.png[]

.**Крок 4**.
Розкладіть попередньо підготовлені файли до відповідних директорій **registry-regulations** та виконайте у bash-терміналі наступні команди:

[source, bash]
----
git add .
git commit -m "Something updated"
git push origin HEAD:refs/for/master
----
TIP: `_"Something updated"` -- короткий опис змін, що вносяться до регламенту._

image:registry-admin/regulations-deploy/registry-deploy-regulation-step-5.png[]

.**Крок 5**.

Перейдіть до **Gerrit** → **Changes** → **Open** та переконайтесь, що зміна створена.

image:registry-admin/regulations-deploy/registry-deploy-regulation-step-6.png[]

.**Крок 6**.

Виконайте перевірку якості (quality gates), увійшовши до створеної зміни.

Натисніть `Reply` та у вікні, що з’явилось, натисніть наступні кнопки:

* `+2` -- для **Code-Review**;

* `+1` -- для **Sonar-Verified**

* `+1` -- для **Verified**.

Натисніть `Send` → далі `Submit` для злиття зміни до репозиторію (merge зміни).

image:registry-admin/regulations-deploy/registry-deploy-regulation-step-7.png[]

.**Крок 7**.

Перейдіть до **Gerrit** -> **Changes** -> **Merged**.

* Знайдіть зміну, перейдіть до неї та переконайтесь, що CI Jenkins pipeline запущено, дочекавшись закінчення його виконання.
* Слідкувати за виконанням можна, перейшовши за посиланням **CI Jenkins** у секції **Change Log**, або перейшовши до Jenkins job за посиланням, що виділено червоним на зображенні нижче.
* Після успішного виконання Jenkins job, сутності регламенту реєстру створено -- можна переходити до їх перевірки.

image:registry-admin/regulations-deploy/registry-deploy-regulation-step-8.png[]