= Перегляд метаданих та управління налаштуваннями версії-кандидата
:toc-title: ЗМІСТ
:toc: auto
:toclevels: 5
:experimental:
:important-caption:     ВАЖЛИВО
:note-caption:          ПРИМІТКА
:tip-caption:           ПІДКАЗКА
:warning-caption:       ПОПЕРЕДЖЕННЯ
:caution-caption:       УВАГА
:example-caption:           Приклад
:figure-caption:            Зображення
:table-caption:             Таблиця
:appendix-caption:          Додаток
:sectnums:
:sectnumlevels: 5
:sectanchors:
:sectlinks:
:partnums:

[#general-description]
== Загальний опис

В результаті xref:registry-admin/admin-portal/version-control/create-new-change-request.adoc[створення нової версії-кандидата] на внесення змін до регламенту реєстру, можна переглянути її стан та налаштування.

Знайти нову версію-кандидат можна у лівому верхньому куті сторінки, розгорнувши випадний список для управління версіями регламенту.

image:registry-admin/admin-portal/new-admin-portal-5.png[]

При створенні версії, адміністратор регламенту може переглянути _дату та час_ створення, а також _опис зміни_.

Також адміністратор регламенту може: ::

* xref:#merge-conflict[Отримати інформацію про конфліктні зміни відносно майстер-версії]
* xref:#review-changes-candidate[Переглянути перелік внесених змін]
* xref:#pull-changes-master[Отримати оновлення]
* xref:#push-changes-master[Застосувати зміни до майстер-версії]
* xref:#abandon-changes[Відкликати запит]

image:registry-admin/admin-portal/new-admin-portal-4.png[]

[#merge-conflict]
== Інформація про конфліктні зміни відносно майстер-версії

Конфлікт злиття -- це подія, яка виникає, коли система (Git) не може автоматично вирішити відмінності в коді між двома версіями змін.

.Сценарій конфлікту злиття
====
Припустімо, що є два моделювальники регламенту: моделювальник A та моделювальник Б. Обидва вони працюють над тим самим файлом коду зі сховища та намагаються внести різні зміни в цей файл в рамках своїх версій-кандидатів (наприклад, просто змінити назву бізнес-процесу). Після внесення змін моделювальник А застосовує зміни до майстер-версії. Тепер, коли моделювальник Б намагається застосувати свої зміни над цим же файлом в рамках своєї версії-кандидата, він не може це зробити, оскільки файл уже змінено моделювальником А, а зміни злиті до майстер-гілки.
====

.Внесення змін до моделі бізнес-процесів моделювальником А у версії-кандидаті-01
====
image:registry-admin/admin-portal/new-admin-portal-7.png[]
====

.Приклад. Оновлення версії-кандидата-01 та застосування змін до майстер-версії моделювальником А
====
image:registry-admin/admin-portal/new-admin-portal-11.png[]
====

.Оновлення версії-кандидата-02 та застосування змін до майстер-версії моделювальником Б
====
image:registry-admin/admin-portal/new-admin-portal-8.png[]
====

NOTE: В такому випадку моделювальник Б не зможе отримати оновлення із майстер-версії через конфлікт. Шляхом до вирішення конфлікту є відкликання запита на внесення змін, тобто скасування версії-кандидата-02, та створення нового запита на внесення змін.

[#review-changes-candidate]
== Перегляд переліку внесених змін

В Кабінетів адміністратора регламентів можна легко переглядати перелік внесених змін.

Для того, щоб переглянути внесені зміни до версії-кандидата, необхідно:

. Перейти до відповідної версії-кандидата у лівому верхньому куті сторінки, розгорнувши випадний список для управління версіями регламенту.

. Знайти секцію `Внесені зміни`.
. Розгорнути категорію змін. Наприклад, `Моделі бізнес-процесів`.
. Переглянути файли, до яких внесено зміни.

+
image:registry-admin/admin-portal/new-admin-portal-9.png[]

[#pull-changes-master]
== Оновлення та актуалізація стану відкритих запитів на внесення змін

CAUTION: Для постійної синхронізації майстер-версії з усіма версіями-кандидатами та актуалізації стану відкритих запитів згідно з останньою майстер-версією, система автоматично оновлює усі відкриті запити (версії-кандидати) на внесення змін.

Також адміністратор регламенту час від часу може оновлювати свою версію-кандидат в ручному режимі. Зробити це можна наступним чином:

. Перейдіть до відповідної версії-кандидата у лівому верхньому куті сторінки, розгорнувши випадний список для управління версіями регламенту.

. Натисніть кнопку `Отримати оновлення`.

+
image:registry-admin/admin-portal/new-admin-portal-10.png[]

[#push-changes-master]
== Застосування змін до майстер-версії

Після виконання робіт в рамках версії-кандидата, необхідно застосувати внесені зміни до майстер-версії, щоб інші адміністратори могли бачити актуальний стан репозиторію регламенту реєстру. Для цього виконайте наступні кроки:

. Перейдіть до відповідної версії-кандидата у лівому верхньому куті сторінки, розгорнувши випадний список для управління версіями регламенту.

+
NOTE: Перед застосуванням змін до майстер-версії, необхідно  спочатку xref:#pull-changes-master[отримати оновлення]

. Натисніть кнопку `Застосувати зміни до майстер-версії`.

+
image:registry-admin/admin-portal/new-admin-portal-11.png[]

. У вікні із попередженням підтвердьте внесення змін до майстер-версії, або закрийте його.
+
image:registry-admin/admin-portal/new-admin-portal-11-1.png[]
+
[NOTE]
====
Ви отримаєте вікно із попередженням про підтвердження дії наступного змісту:
=====
Будь ласка, зверніть увагу, що процес розгортання та перевірки ще не завершився або завершився з помилками. Застосування змін може призвести до помилок у майстер-версії регламенту.
=====

Процес розгортання та перевірки -- це пайплайн *`MASTER-Code-review-registry-regulations`* у Jenkins. Він передує процесу збірки коду та публікації змін у регламенті -- *`MASTER-Build-registry-regulations`*. Наразі адміністратор регламенту може вручну пропускати процес Code review, відразу застосовуючи зміни до майстер-гілки репозиторію.
====

В результаті внесені зміни потраплять до майстер-гілки, а обрана версія-кандидат автоматично видалиться зі списку версій.

[#abandon-changes]
== Відкликання запита на внесення змін в рамках версії-кандидата

За потреби відкликання запита на внесення змін у власній версії-кандидаті, наприклад, при xref:#merge-conflict[конфлікті злиття], виконайте наступні кроки:

. Перейдіть до відповідної версії-кандидата у лівому верхньому куті сторінки, розгорнувши випадний список для управління версіями регламенту.

. Натисніть кнопку `Відізвати`.

+
image:registry-admin/admin-portal/new-admin-portal-12.png[]

В результаті внесені зміни буде анульовано, а обрана версія-кандидат автоматично видалиться зі списку версій.