= Подієвий підпроцес
:toc:
:toc-title: ЗМІСТ
:toclevels: 5
:sectnums:
:sectnumlevels: 5
:sectanchors:

== Загальний опис

//TODO: Уточнити: Його можна додати глобально до процесу або локально всередині вбудованого підпроцесу.
_Подієвий підпроцес_ (*Event Subporcess*) -- це підпроцес, що ініційований подією. Його можна додати глобально до процесу або локально всередині вбудованого підпроцесу. Такий підпроцес починає виконуватися, якщо ініціюється його початкова подія. Він може переривати батьківськийfootnote:[_Батьківський_ або _основний_ процес (*Parent process*) -- процес, що ініціює запуск підпроцесу. Відносно батьківського процесу підпроцес є *Child*-процесом (*Child process*).] підпроцес або виконуватися паралельно з ним; може виконуватися один або декілька разів, або не виконуватися взагалі.

NOTE: Подієвий підпроцес повинен містити хоча б одну стартову подію.

image:bp-modeling/bp/subprocesses/event-subprocess/event-subprocess-01.png[]

////
TODO: Уточнити
Ініціюється власною стартовою подією та не має вхідних та вихідних потоків операцій. Це є його основною відмінністю від звичайного підпроцесу, який ініціюється потоком операцій батьківського підпроцесу.
////

== Типи подій

Для ініціювання подієвого підпроцесу можуть бути використані наступні типи подій:

xref:bp-modeling/bp/bpmn/events/message-event.adoc[Подія «Повідомлення» (Message Event)] ::

Подія «Повідомлення» (*Message Event*) -- це подія у бізнес-процесі, яка використовується для передачі інформації від одного бізнес-процесу до іншого бізнес-процесу або підпроцесу за допомогою повідомлення.

xref:bp-modeling/bp/bpmn/events/error-event.adoc[Подія «Помилка» (Error Event)] ::

Під час автоматизації процесів можна часто стикнутися із відхиленнями від стандартного сценарію. Одним зі способів усунути відхилення є використання BPMN-події «Помилка», що дозволяє моделі бізнес-процесу реагувати на передбачені сценаріями помилки в рамках виконання задачі.
+
Початкова подія, викликана помилкою (*Error Start Event*), може використовуватися _лише_ для запуску подієвого підпроцесу.

NOTE: Подію «Помилка» не можна використовувати для запуску екземпляра процесу. Початкова подія, викликана помилкою, є завжди _переривальною_.

== Моделювання вбудованого підпроцесу, ініційованого подією «Повідомлення»

=== Передумови

Перед застосуванням сценарію із запуском підпроцесу подією «Повідомлення», виконайте наступні передумови:

* Змоделюйте батьківський процес, у якому є xref:bp-modeling/bp/bpmn/events/message-event.adoc#message-intermediate-throw-event[Проміжна подія відправки повідомлення] (_див. xref:#example-preconditions-message-throw-event[приклад] нижче_).

* Налаштуйте проміжну подію відправки повідомлення:

** Виділіть елемент та перейдіть до панелі налаштувань.
** У полі `Global Message Name` та `Global Message referenced` вкажіть посилання до елемента, що прийматиме дані, тобто стартової події повідомлення у підпроцесі. Значення мають бути ідентичні. Значення `Global Message referenced` заповнюється автоматично. Наприклад, `sendMessagefirst` (_див. xref:#example-preconditions-message-throw-event[приклад] нижче_).

+
[#example-preconditions-message-throw-event]
.Приклад. Моделювання проміжної події відправки повідомлення

image:bp-modeling/bp/subprocesses/event-subprocess/event-subprocess-02.png[]

=== Моделювання

Після виконання усіх передумов, продовжіть моделювання та налаштування подієвого підпроцесу:

. На панелі інструментів зліва оберіть елемент *Create expanded SubProcess* та перетягніть його до області моделювання, всередину пулу із батьківським процесом.
+
image:bp-modeling/bp/subprocesses/event-subprocess/event-subprocess-1.png[]
+
image:bp-modeling/bp/subprocesses/event-subprocess/event-subprocess-2.png[]

. Виділіть контейнер із вбудованим підпроцесом та вкажіть тип підпроцесу, натиснувши _іконку ключа_ (*Change Type*) та обравши *Event Sub Process*.
+
image:bp-modeling/bp/subprocesses/event-subprocess/event-subprocess-3.png[]

. Виділіть стартову подію у підпроцесі й вкажіть її тип, натиснувши _іконку ключа_ та обравши *Message Start Event (non-interrupting)*, тобто стартову подію повідомлення, що не перериває основний процес.
+
[NOTE]
На відміну від налаштувань основного процесу, подія старту підпроцесу додається автоматично, разом із контейнером *Create expanded SubProcess*.
+
image:bp-modeling/bp/subprocesses/event-subprocess/event-subprocess-4.png[]

. Налаштуйте стартову подію, що прийматиме повідомлення у підпроцесі:

** Виділіть елемент та перейдіть до панелі налаштувань.
** У полі `Global Message Name` та `Global Message referenced` вкажіть посилання до елемента, що надсилатиме дані, тобто проміжної події відправки повідомлення у батьківському процесі. Значення мають бути ідентичні. Значення `Global Message referenced` заповнюється автоматично. Наприклад, `sendMessagefirst`.
+
[CAUTION]
====
Поля `Global Message referenced` і `Global Message Name` для стартової події, що прийматиме повідомлення, у підпроцесі, мають збігатися із відповідними полями проміжної події відправки повідомлення у xref:#example-preconditions-message-throw-event[батьківському процесі].
====
+
image:bp-modeling/bp/subprocesses/event-subprocess/event-subprocess-5.png[]

. Приєднайте будь-яку проміжну задачу та завершіть підпроцес.

В результаті підпроцес, що ініційований подією «Повідомлення», змодельовано та налаштовано.





