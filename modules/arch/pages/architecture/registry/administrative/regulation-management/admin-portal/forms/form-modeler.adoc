= Моделювання UI-форм за допомогою веб-редактора

== Функціональні сценарії

- Створення нових схем UI-форм
- Внесення змін до існуючих схем UI-форм
- Перегляд _JSON_-коду представлення схем UI-форм

== Ключові вимоги

- Надання адміністратору єдиного веб-інтерфейсу моделювання UI-форм бізнес-процесів
- Веб-інтерфейс моделювання має підтримувати локалізацію
- Веб-інтерфейс моделювання має підтримувати темування та стилізацію задля цілісної інтеграції у інтерфейс _Системи адміністрування регламенту реєстру_
- Веб-інтерфейс моделювання має генерувати _JSON_-код представлення UI-форм сумісний з поточною версією _Form.IO_

== Технологічний стек

|===
|Технологія / Бібліотека|Версія|Ліцензія|Документація|Опис

|https://reactjs.org[ReactJS]
|17.0.2
|MIT
|https://reactjs.org/docs/getting-started.html[]
|JavaScript бібліотека для побудови інтерфейсів користувача

|https://www.typescriptlang.org[TypeScript]
|4.1.6
|Apache-2.0
|https://www.typescriptlang.org/docs/[]
|Строго типізована мова програмування на базі JavaScript

|https://formio.github.io/formio.js[formio.js]
|4.13.12
|MIT
|https://github.com/formio/formio.js/wiki[]
|Бібліотека для створення та відображення форм на базі JSON схем

|===

== Підтримка темування та стилізації

Для виконання стилізації form-modeler є 3 підходи

. *Стилізація шляхом додавання _CSS_ стилів.* Підходить для простих не інтерактивних компоненті. Наприклад "Button". Займає не багато часу, але дуже лімітований в своїх можливостях
. *Розробка кастомізованих компонентів.* Не має обмежень по рівню стилізації, так як компонент створюється з нуля. У випадку інтерактивних компонентів з великою кількістю логіки, може займати багато часу. На прикладні інтерфейсу form-modeler, _API_ _Formio_ не дозволяє стилізувати його інтерфейс частинами. Тобто для його стилізації потрібно повністю створити з нуля весь form-modeler
. *Підміна _HTML_ шаблонів компонентів білдера.* form-modeler складається з великої кількості дрібних шаблонів, що зручно для поступової стилізації. Інтерфейс додавання плагінів Formio дозволяє підміняти _HTML_ шаблони, які використовуються для побудови інтерфейсу form-modeler. Для цього йому необхідно передати строку с _HTML_ у відповідний інтерфейс.
+
[source,javascript]
----
export default {
  components: '...',
  builders: {
    webform: Builder
  },
  templates: {
    bootstrap: {
      builderSidebar: {
        form: BuilderSidebarTemplate
      },
      dialog: {
        form: BuilderDialogTemplate
      }
    }
  }
};
----
Цей підхід в свою чергу також можна розділити на 2 підходи:
.. *Підміна шаблону на оригінальний модифікований.* Цей підхід корисний, коли треба додати свій _CSS_ клас в існуючий шаблон, або зробити незначну модифікацію шаблону. Використання існуючих стилізованих компонентів неможливе. Темізація можлива за рахунок використання _JSS_ стилів на рівні  _React_ компонента білдера
.. *Рендер _React_ в строку.* Для підтримки використання інсуючих компонентів, та механізмів стилізації і темування була використана можливість _React_ бути зрендереним в строку, а потім бути активованим через механізм _hydrate_ (зазвичай використовуються для серверного рендерингу _React_). Цей підхід повністю підтримує існуючі стилізовані компоненти та існуючий механізм темування. Також цей підхід можна використовувати частково, шляхом рендеру React без гідратації. Такий режим може бути корисний якщо є потреба стилізувати шаблон, який не має інтерактивної складової (статичний _HTML_), і частина контенту наповнюється внутрішніми механізмами form-modeler (як приклад модальне вікно редагування властивостей компонента _Formio_)

== Підтримка локалізації

[TIP]
Описати механізм реалізації вимоги

== Інтерфейс моделювання

[TIP]
Додати екрани для візуалізації досвіду моделювання згідно функціональних сценаріїв

=== Створення та редагування форми

image:architecture/registry/administrative/regulation-management/admin-portal/forms/form-modeler-create.png[]

=== Редагування компонента форми

image:architecture/registry/administrative/regulation-management/admin-portal/forms/form-modeler-edit-comp.png[]

=== Перегляд _JSON_-коду представлення схем UI-форм

Розглядається в окремій задачі xref:architecture-workspace/research/admin-portal/json-editor-tech-evaluation.adoc[Аналіз JSON-редакторів на відповідність]