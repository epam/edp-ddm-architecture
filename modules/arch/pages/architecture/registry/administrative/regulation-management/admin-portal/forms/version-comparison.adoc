= Порівняння версій схем UI-форм регламенту реєстру

== Функціональні сценарії

- _Side-by-side_ порівняння версій UI-форм бізнес-процесів регламенту реєстру
- _Side-by-side_ порівняння _JSON_-коду представлень версій UI-форм бізнес-процесів
- Перегляд деталей змін на рівні властивостей окремих елементів _Components_ UI-форм

[Примітка]
_Side-by-side_ перегляд змін _JSON_-коду розглядається в окремій задачі - xref:architecture/registry/administrative/regulation-management/admin-portal/forms/json-editor-tech-evaluation.adoc[Аналіз JSON-редакторів на відповідність]

== Ключові вимоги

* Синхронність _Side-by-Side_ перегляду версій UI-форм
* Маркування кольорами відмінностей на рівні окремих елементів _Components_ UI-форм
** [green]#Додано#
** [yellow]#Змінено#
** [red]#Видалено#
* Перегляд змін властивостей при наведенні на елемент UI-форми
* Перегляд агрегованого переліку відмінностей між UI-формами

== Технологічний стек

Для реалізації рішення, використано тільки існуючі в проекті технології. Внутрішніх можливостей для візуального порівняння версій форм _Form.io_ не має. Тому цей функціонал реалізовується самостійно

|===
|Технологія / Бібліотека|Версія|Ліцензія|Документація|Опис

|https://reactjs.org[ReactJS]
|17.0.2
|MIT
|https://reactjs.org/docs/getting-started.html[]
|JavaScript бібліотека для побудови інтерфейсів користувача

|https://www.typescriptlang.org[TypeScript]
|4.1.6
|Apache-2.0
|https://www.typescriptlang.org/docs/[]
|Строго типізована мова програмування на базі JavaScript

|https://formio.github.io/formio.js[formio.js]
|4.13.12
|MIT
|https://github.com/formio/formio.js/wiki[]
|Бібліотека для створення та відображення форм на базі JSON схем

|===

== Технологічна реалізація

Підсвічування відповідними кольорами змінених компонентів форми реалізовано шляхом додавання додаткового _CSS_ класу кожному компоненту. Додатковий клас з відповідним кольором додається у властивість customClass кожного компоненту


== Інтерфейс користувача

=== Екран порівняння форм без змін у формі

image:architecture/registry/administrative/regulation-management/admin-portal/forms/form-diff-clean.png[]

=== Екран порівняння форм зі змінами у формі

* Змінено компонент Select
* Додано компонент Number
* Видалено компонент TextField

image:architecture/registry/administrative/regulation-management/admin-portal/forms/form-diff-edited.png[]

=== Екран порівняння форм зі списком змін

В таблиці відображено зміни які було зроблено в формі у декількох компонентів. Відображено старе та нове значення для кожної властивості що було змінено

image:architecture/registry/administrative/regulation-management/admin-portal/forms/form-diff-table.png[]