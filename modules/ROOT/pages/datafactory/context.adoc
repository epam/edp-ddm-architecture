== Контекст використання зовнішні клієнти

image::datafactory/root-context.svg[]

=== Зовнішній запит через SOAP

[WARNING]
Це лише перше наближення щоб не забути про це у майбутньому 

[source, xml]
----
<?xml version="1.0"?>
<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope">
  <soap:Header>
  </soap:Header>
  <soap:Body>
    <m:Request>
      <m:Data>
        <m:EDRPOU>41138121</m:EDRPOU>
      </m:Data>
      <m:Signature>9cdfb439c7876e703e307864c9167a15</m:Signature>
    </m:Request>
  </soap:Body>
</soap:Envelope>
----

=== Запит конфіденційних даних
Для внесення змін або читання конфіденційних даних вимагається цифровий підпис

[source]
----
POST /secret-lab/search HTTP/1.1

Content-Type: application/json
X-Access-Token: JWT
X-Digital-Signature: Signed Form
X-Digital-Signature-Derived: Signed Request
x-request-id: Kiali
x-b3-traceid: Jaeger Id
x-b3-spanid: Jaeger Id
source-system: MDTUDDM
source-application: low-code
source-business-process: add-factor
source-business-id: 42

{
    "edrpou": "41138121"
}
----

=== Читання публічно доступних даних 
[source]
----
POST /public-lab/search HTTP/1.1

Content-Type: application/json
x-request-id: Kiali
x-b3-traceid: Jaeger Id
x-b3-spanid: Jaeger Id
source-system: MDTUDDM
source-application: formio

{
    "edrpou": "41138121"
}
----