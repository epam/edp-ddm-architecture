= Що нового у версії 1.8?
:toc-title: ЗМІСТ
:toc: auto
:toclevels: 5
:experimental:
:important-caption:     ВАЖЛИВО
:note-caption:          ПРИМІТКА
:tip-caption:           ПІДКАЗКА
:warning-caption:       ПОПЕРЕДЖЕННЯ
:caution-caption:       УВАГА
:example-caption:           Приклад
:figure-caption:            Зображення
:table-caption:             Таблиця
:appendix-caption:          Додаток
:sectnums:
:sectnumlevels: 5
:sectanchors:
:sectlinks:
:partnums:

CAUTION: Документ у процесі формування.

== Моделювання

=== Моделювання бізнес-процесів

==== Розширення-конектор для отримання даних з ЄІБДВПО

Для виклику зовнішніх сервісів через ШБО "Трембіта", на Платформі реєстрів розроблено типові інтеграційні розширення-конектори, що дозволяють комунікувати через інтерфейс ШБО із зовнішніми сервісами за протоколом SOAP. Кожний конектор є делегатом, який використовується у бізнес-процесах для отримання даних із реєстрів поза межами Платформи.

У цьому релізі розроблено типове інтеграційне розширення-конектор для отримання інформації за довідкою внутрішньо переміщеної особи від сервісу `idpExchangeServiceRegistryConnector`.

Налаштування розширення відбувається на схемах бізнес-процесів у додатку Camunda Modeler.

image:registry-develop:bp-modeling/ext-integration/connectors/eibdvpo/get-vpo-eibdvpo-01.png[]

[TIP]
====
Детальну інформацію з описом функціональності ви можете переглянути за посиланням:

* xref:registry-develop:bp-modeling/external-integration/api-call/connectors-external-registry.adoc#eibdvpo[Інтеграційний конектор для обміну інформацією з ЄІБДВПО]
====

=== Моделювання форм

==== Використання функції "Refresh Options on" в оновленому компоненті Select

Адміністратор регламенту має змогу одночасно підключати декілька стилізованих компонентів до функції `Refresh Options on` в рамках компонента Select.

[TIP]
====
Функція `Refresh option on` дозволяє оновлювати дані при зміні іншого поля.
====

Функціональність налаштовується у Кабінеті адміністратора регламентів, в рамках моделювання форм до бізнес-процесів.

image:registry-develop:bp-modeling/forms/bp-select/bp-select-refresh-option-on-5.png[]

[TIP]
====
Детальну інформацію з описом функціональності ви можете переглянути за посиланням:

* xref:registry-develop:bp-modeling/forms/components/bp-select-component-form-io.adoc#select-refresh-option-on[Використання функції "Refresh Options on" в оновленому компоненті Select]
====

=== Моделювання даних

==== Тип пошуку notIn для моделювання критеріїв пошуку

Розширено перелік значень атрибута `searchType`, що використовується для визначення типу пошуку при створенні критерію пошуку у моделі даних (тег `<createSearchCondition>`).

Окрім раніше доступних значень атрибута `searchType` -- `equal`, `startsWith`, `contains`, та `in` -- реалізована можливість використання оператора `notIn` типу пошуку, який дозволяє перевірити, що задане значення НЕ відповідає будь-якому значенню у масиві.

Оператор `notIn` повертає значення, що не мають відповідність (не дорівнюють) заданим значенням у масиві. Він є протилежним до значення `in` атрибута `searchType`.

Наприклад, HTTP-запит користувача із браузера для пошуку значень, що не відповідають заданим значенням віку, може виглядати так:

.Приклад 1. HTTP-запит із використанням оператора notIn
====
[source,http]
----
https://..../findNotInAge?age=18,21,42
----
====

[TIP]
====
Детальну інформацію з описом функціональності та переліком розширених тегів ви можете переглянути за посиланням:

* xref:registry-develop:data-modeling/data/physical-model/liquibase-ddm-ext.adoc[]
====

==== Генерація унікального номера для створених у реєстрі сутностей

На платформі реалізовано можливість налаштувати для певного атрибута сутності (документа/акту) формування системою унікального номера.

Кожний створений у бізнес-процесі екземпляр отримує унікальний та зрозумілий для користувача номер. Номер формується під час збереження сутності та є унікальним у рамках окремого реєстру.

Генерація номера відбувається згідно з маскою, вказаною користувачем. Маска може відрізнятися, залежно від сутностей та бізнес-процесів. Маску можна вказати як шаблон за замовчуванням.

image:registry-develop:data-modeling/data/physical-model/bp-auto-generate-attribute/auto-generate-number-4.png[]

[TIP]
====
Детальну інформацію з описом функціональності ви можете переглянути за посиланням:

* xref:registry-develop:data-modeling/data/physical-model/auto-generate-number.adoc[]
====

== Адміністрування реєстру

=== Відображення помилок на формах Кабінетів при перевищенні кількості запитів до сервісів

У цьому релізі розширено функціональність рейт-лімітів для API Платформи. Імплементовано переадресацію на сторінку з помилкою при перевищенні кількості дозволених запитів за одиницю часу користувачами кабінетів адміністратора регламентів, посадової особи та отримувача послуг.

image:registry-develop:registry-admin/api-rate-limits/api-rate-limits-2.png[]

Метою рейт-лімітів є обмеження кількості HTTP-запитів до сервісу чи маршруту за заданий період секунд, хвилин, годин, днів, місяців або років.

Рейт-ліміти дозволяють обмежувати кількість запитів від одного авторизованого користувача за одиницю часу, а також обмежувати кількості запитів з однієї IP адреси, якщо користувач не авторизований у системі.

[TIP]
====
Детальну інформацію з описом функціональності ви можете переглянути за посиланням:

* xref:registry-develop:registry-admin/api-rate-limits.adoc[]
====

== Інфраструктура

=== Control Plane

==== Призначення адміністраторів платформи у Control Plane

У цьому релізі ми імплементували можливість додавати та видаляти адміністраторів платформи в інтерфейсі Control Plane. Такий підхід дозволяє автоматично призначати права доступу для адмінів: додавати відповідні групи та ролі.

image:admin:registry-management/cp-platform-admins/cp-platform-admins-18.png[]

image:admin:registry-management/cp-platform-admins/cp-platform-admins-19.png[]

Тепер призначати, або видаляти адміністраторів просто та зручно -- у декілька кліків, що значно прискорює роботу із системою, а також полегшує загальний процес адміністрування.

[TIP]
====
Детальну інформацію з описом функціональності ви можете переглянути за посиланням:

* xref:admin:registry-management/control-plane-assign-platform-admins.adoc[]
====

==== Налаштування власного DNS-імені для Кабінетів

У цьому релізі імплементовано можливість використання власного DNS-імені для публічних Кабінетів отримувача послуг та посадової особи через адміністративний інтерфейс керування кластером та реєстрами Control Plane.

image:admin:registry-management/custom-dns/custom-dns-01.png[]

Інтерфейс адміністрування розділяє отриманий сертифікат на CA-сертифікат (_Certificate Authority_) і ключ, зберігає їх в центральному сховищі секретів HashiCorp Vault та додає отримані DNS-імена до налаштувань _values.yaml_.

[TIP]
====
Детальну інформацію з описом функціональності ви можете переглянути за посиланням:

* xref:admin:registry-management/control-plane-custom-dns.adoc[]
====

//TODO: Add in 1.8.4
//==== Обмеження доступу до адміністративних та реєстрових ендпоінтів

==== Перегляд змін, що вносяться до реєстру, в інтерфейсі адмін-консолі

У цьому релізі ми реалізували можливість переглядати зміни, що вносяться до реєстру як запити на оновлення, в інтерфейсі Control Plane.

Тепер адміністратори реєстру можуть перевіряти інформацію "на ходу", не заходячи до системи рецензування коду. Адміни мають змогу відразу продивитися суть змін, порівняти їх із попередньою версією та відмітити відповідним чекбоксом.

image:wn-1-8/cp-check-diffs-1.png[]

image:wn-1-8/cp-check-diffs-2.png[]

==== Посилання до кабінетів користувачів

У цьому релізі ми додали посилання до кабінетів посадової особи та отримувача послуг прямо з інтерфейсу Control Plane.

Тепер адміністратори реєстру можуть швидку переходити до відповідних сервісів за простим натиском кнопки.

image:wn-1-8/cp-links-to-end-user-portals.png[]



